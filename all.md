<file path="package-lock.json">
{
  "name": "one-shot",
  "version": "0.1.0",
  "lockfileVersion": 3,
  "requires": true,
  "packages": {
    "": {
      "name": "one-shot",
      "version": "0.1.0",
      "license": "MIT",
      "dependencies": {
        "clsx": "^2.1.1",
        "lucide-react": "^0.561.0",
        "react": "^19.2.3",
        "react-dom": "^19.2.3",
        "react-markdown": "^10.1.0",
        "remark-gfm": "^4.0.1",
        "tailwind-merge": "^3.4.0"
      },
      "devDependencies": {
        "@tailwindcss/postcss": "^4.1.18",
        "@tailwindcss/typography": "^0.5.19",
        "@types/node": "^22.14.0",
        "@vitejs/plugin-react": "^5.0.0",
        "autoprefixer": "^10.4.23",
        "typescript": "~5.8.2",
        "vite": "^6.2.0"
      }
    },
    "node_modules/@alloc/quick-lru": {
      "version": "5.2.0",
      "resolved": "https://registry.npmjs.org/@alloc/quick-lru/-/quick-lru-5.2.0.tgz",
      "integrity": "sha512-UrcABB+4bUrFABwbluTIBErXwvbsU/V7TZWfmbgJfbkwiBuziS9gxdODUyuiecfdGQ85jglMW6juS3+z5TsKLw==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=10"
      },
      "funding": {
        "url": "https://github.com/sponsors/sindresorhus"
      }
    },
    "node_modules/@babel/code-frame": {
      "version": "7.27.1",
      "resolved": "https://registry.npmjs.org/@babel/code-frame/-/code-frame-7.27.1.tgz",
      "integrity": "sha512-cjQ7ZlQ0Mv3b47hABuTevyTuYN4i+loJKGeV9flcCgIK37cCXRh+L1bd3iBHlynerhQ7BhCkn2BPbQUL+rGqFg==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@babel/helper-validator-identifier": "^7.27.1",
        "js-tokens": "^4.0.0",
        "picocolors": "^1.1.1"
      },
      "engines": {
        "node": ">=6.9.0"
      }
    },
    "node_modules/@babel/compat-data": {
      "version": "7.28.5",
      "resolved": "https://registry.npmjs.org/@babel/compat-data/-/compat-data-7.28.5.tgz",
      "integrity": "sha512-6uFXyCayocRbqhZOB+6XcuZbkMNimwfVGFji8CTZnCzOHVGvDqzvitu1re2AU5LROliz7eQPhB8CpAMvnx9EjA==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=6.9.0"
      }
    },
    "node_modules/@babel/core": {
      "version": "7.28.5",
      "resolved": "https://registry.npmjs.org/@babel/core/-/core-7.28.5.tgz",
      "integrity": "sha512-e7jT4DxYvIDLk1ZHmU/m/mB19rex9sv0c2ftBtjSBv+kVM/902eh0fINUzD7UwLLNR+jU585GxUJ8/EBfAM5fw==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@babel/code-frame": "^7.27.1",
        "@babel/generator": "^7.28.5",
        "@babel/helper-compilation-targets": "^7.27.2",
        "@babel/helper-module-transforms": "^7.28.3",
        "@babel/helpers": "^7.28.4",
        "@babel/parser": "^7.28.5",
        "@babel/template": "^7.27.2",
        "@babel/traverse": "^7.28.5",
        "@babel/types": "^7.28.5",
        "@jridgewell/remapping": "^2.3.5",
        "convert-source-map": "^2.0.0",
        "debug": "^4.1.0",
        "gensync": "^1.0.0-beta.2",
        "json5": "^2.2.3",
        "semver": "^6.3.1"
      },
      "engines": {
        "node": ">=6.9.0"
      },
      "funding": {
        "type": "opencollective",
        "url": "https://opencollective.com/babel"
      }
    },
    "node_modules/@babel/generator": {
      "version": "7.28.5",
      "resolved": "https://registry.npmjs.org/@babel/generator/-/generator-7.28.5.tgz",
      "integrity": "sha512-3EwLFhZ38J4VyIP6WNtt2kUdW9dokXA9Cr4IVIFHuCpZ3H8/YFOl5JjZHisrn1fATPBmKKqXzDFvh9fUwHz6CQ==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@babel/parser": "^7.28.5",
        "@babel/types": "^7.28.5",
        "@jridgewell/gen-mapping": "^0.3.12",
        "@jridgewell/trace-mapping": "^0.3.28",
        "jsesc": "^3.0.2"
      },
      "engines": {
        "node": ">=6.9.0"
      }
    },
    "node_modules/@babel/helper-compilation-targets": {
      "version": "7.27.2",
      "resolved": "https://registry.npmjs.org/@babel/helper-compilation-targets/-/helper-compilation-targets-7.27.2.tgz",
      "integrity": "sha512-2+1thGUUWWjLTYTHZWK1n8Yga0ijBz1XAhUXcKy81rd5g6yh7hGqMp45v7cadSbEHc9G3OTv45SyneRN3ps4DQ==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@babel/compat-data": "^7.27.2",
        "@babel/helper-validator-option": "^7.27.1",
        "browserslist": "^4.24.0",
        "lru-cache": "^5.1.1",
        "semver": "^6.3.1"
      },
      "engines": {
        "node": ">=6.9.0"
      }
    },
    "node_modules/@babel/helper-globals": {
      "version": "7.28.0",
      "resolved": "https://registry.npmjs.org/@babel/helper-globals/-/helper-globals-7.28.0.tgz",
      "integrity": "sha512-+W6cISkXFa1jXsDEdYA8HeevQT/FULhxzR99pxphltZcVaugps53THCeiWA8SguxxpSp3gKPiuYfSWopkLQ4hw==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=6.9.0"
      }
    },
    "node_modules/@babel/helper-module-imports": {
      "version": "7.27.1",
      "resolved": "https://registry.npmjs.org/@babel/helper-module-imports/-/helper-module-imports-7.27.1.tgz",
      "integrity": "sha512-0gSFWUPNXNopqtIPQvlD5WgXYI5GY2kP2cCvoT8kczjbfcfuIljTbcWrulD1CIPIX2gt1wghbDy08yE1p+/r3w==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@babel/traverse": "^7.27.1",
        "@babel/types": "^7.27.1"
      },
      "engines": {
        "node": ">=6.9.0"
      }
    },
    "node_modules/@babel/helper-module-transforms": {
      "version": "7.28.3",
      "resolved": "https://registry.npmjs.org/@babel/helper-module-transforms/-/helper-module-transforms-7.28.3.tgz",
      "integrity": "sha512-gytXUbs8k2sXS9PnQptz5o0QnpLL51SwASIORY6XaBKF88nsOT0Zw9szLqlSGQDP/4TljBAD5y98p2U1fqkdsw==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@babel/helper-module-imports": "^7.27.1",
        "@babel/helper-validator-identifier": "^7.27.1",
        "@babel/traverse": "^7.28.3"
      },
      "engines": {
        "node": ">=6.9.0"
      },
      "peerDependencies": {
        "@babel/core": "^7.0.0"
      }
    },
    "node_modules/@babel/helper-plugin-utils": {
      "version": "7.27.1",
      "resolved": "https://registry.npmjs.org/@babel/helper-plugin-utils/-/helper-plugin-utils-7.27.1.tgz",
      "integrity": "sha512-1gn1Up5YXka3YYAHGKpbideQ5Yjf1tDa9qYcgysz+cNCXukyLl6DjPXhD3VRwSb8c0J9tA4b2+rHEZtc6R0tlw==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=6.9.0"
      }
    },
    "node_modules/@babel/helper-string-parser": {
      "version": "7.27.1",
      "resolved": "https://registry.npmjs.org/@babel/helper-string-parser/-/helper-string-parser-7.27.1.tgz",
      "integrity": "sha512-qMlSxKbpRlAridDExk92nSobyDdpPijUq2DW6oDnUqd0iOGxmQjyqhMIihI9+zv4LPyZdRje2cavWPbCbWm3eA==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=6.9.0"
      }
    },
    "node_modules/@babel/helper-validator-identifier": {
      "version": "7.28.5",
      "resolved": "https://registry.npmjs.org/@babel/helper-validator-identifier/-/helper-validator-identifier-7.28.5.tgz",
      "integrity": "sha512-qSs4ifwzKJSV39ucNjsvc6WVHs6b7S03sOh2OcHF9UHfVPqWWALUsNUVzhSBiItjRZoLHx7nIarVjqKVusUZ1Q==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=6.9.0"
      }
    },
    "node_modules/@babel/helper-validator-option": {
      "version": "7.27.1",
      "resolved": "https://registry.npmjs.org/@babel/helper-validator-option/-/helper-validator-option-7.27.1.tgz",
      "integrity": "sha512-YvjJow9FxbhFFKDSuFnVCe2WxXk1zWc22fFePVNEaWJEu8IrZVlda6N0uHwzZrUM1il7NC9Mlp4MaJYbYd9JSg==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=6.9.0"
      }
    },
    "node_modules/@babel/helpers": {
      "version": "7.28.4",
      "resolved": "https://registry.npmjs.org/@babel/helpers/-/helpers-7.28.4.tgz",
      "integrity": "sha512-HFN59MmQXGHVyYadKLVumYsA9dBFun/ldYxipEjzA4196jpLZd8UjEEBLkbEkvfYreDqJhZxYAWFPtrfhNpj4w==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@babel/template": "^7.27.2",
        "@babel/types": "^7.28.4"
      },
      "engines": {
        "node": ">=6.9.0"
      }
    },
    "node_modules/@babel/parser": {
      "version": "7.28.5",
      "resolved": "https://registry.npmjs.org/@babel/parser/-/parser-7.28.5.tgz",
      "integrity": "sha512-KKBU1VGYR7ORr3At5HAtUQ+TV3SzRCXmA/8OdDZiLDBIZxVyzXuztPjfLd3BV1PRAQGCMWWSHYhL0F8d5uHBDQ==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@babel/types": "^7.28.5"
      },
      "bin": {
        "parser": "bin/babel-parser.js"
      },
      "engines": {
        "node": ">=6.0.0"
      }
    },
    "node_modules/@babel/plugin-transform-react-jsx-self": {
      "version": "7.27.1",
      "resolved": "https://registry.npmjs.org/@babel/plugin-transform-react-jsx-self/-/plugin-transform-react-jsx-self-7.27.1.tgz",
      "integrity": "sha512-6UzkCs+ejGdZ5mFFC/OCUrv028ab2fp1znZmCZjAOBKiBK2jXD1O+BPSfX8X2qjJ75fZBMSnQn3Rq2mrBJK2mw==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@babel/helper-plugin-utils": "^7.27.1"
      },
      "engines": {
        "node": ">=6.9.0"
      },
      "peerDependencies": {
        "@babel/core": "^7.0.0-0"
      }
    },
    "node_modules/@babel/plugin-transform-react-jsx-source": {
      "version": "7.27.1",
      "resolved": "https://registry.npmjs.org/@babel/plugin-transform-react-jsx-source/-/plugin-transform-react-jsx-source-7.27.1.tgz",
      "integrity": "sha512-zbwoTsBruTeKB9hSq73ha66iFeJHuaFkUbwvqElnygoNbj/jHRsSeokowZFN3CZ64IvEqcmmkVe89OPXc7ldAw==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@babel/helper-plugin-utils": "^7.27.1"
      },
      "engines": {
        "node": ">=6.9.0"
      },
      "peerDependencies": {
        "@babel/core": "^7.0.0-0"
      }
    },
    "node_modules/@babel/template": {
      "version": "7.27.2",
      "resolved": "https://registry.npmjs.org/@babel/template/-/template-7.27.2.tgz",
      "integrity": "sha512-LPDZ85aEJyYSd18/DkjNh4/y1ntkE5KwUHWTiqgRxruuZL2F1yuHligVHLvcHY2vMHXttKFpJn6LwfI7cw7ODw==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@babel/code-frame": "^7.27.1",
        "@babel/parser": "^7.27.2",
        "@babel/types": "^7.27.1"
      },
      "engines": {
        "node": ">=6.9.0"
      }
    },
    "node_modules/@babel/traverse": {
      "version": "7.28.5",
      "resolved": "https://registry.npmjs.org/@babel/traverse/-/traverse-7.28.5.tgz",
      "integrity": "sha512-TCCj4t55U90khlYkVV/0TfkJkAkUg3jZFA3Neb7unZT8CPok7iiRfaX0F+WnqWqt7OxhOn0uBKXCw4lbL8W0aQ==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@babel/code-frame": "^7.27.1",
        "@babel/generator": "^7.28.5",
        "@babel/helper-globals": "^7.28.0",
        "@babel/parser": "^7.28.5",
        "@babel/template": "^7.27.2",
        "@babel/types": "^7.28.5",
        "debug": "^4.3.1"
      },
      "engines": {
        "node": ">=6.9.0"
      }
    },
    "node_modules/@babel/types": {
      "version": "7.28.5",
      "resolved": "https://registry.npmjs.org/@babel/types/-/types-7.28.5.tgz",
      "integrity": "sha512-qQ5m48eI/MFLQ5PxQj4PFaprjyCTLI37ElWMmNs0K8Lk3dVeOdNpB3ks8jc7yM5CDmVC73eMVk/trk3fgmrUpA==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@babel/helper-string-parser": "^7.27.1",
        "@babel/helper-validator-identifier": "^7.28.5"
      },
      "engines": {
        "node": ">=6.9.0"
      }
    },
    "node_modules/@esbuild/aix-ppc64": {
      "version": "0.25.12",
      "resolved": "https://registry.npmjs.org/@esbuild/aix-ppc64/-/aix-ppc64-0.25.12.tgz",
      "integrity": "sha512-Hhmwd6CInZ3dwpuGTF8fJG6yoWmsToE+vYgD4nytZVxcu1ulHpUQRAB1UJ8+N1Am3Mz4+xOByoQoSZf4D+CpkA==",
      "cpu": [
        "ppc64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "aix"
      ],
      "engines": {
        "node": ">=18"
      }
    },
    "node_modules/@esbuild/android-arm": {
      "version": "0.25.12",
      "resolved": "https://registry.npmjs.org/@esbuild/android-arm/-/android-arm-0.25.12.tgz",
      "integrity": "sha512-VJ+sKvNA/GE7Ccacc9Cha7bpS8nyzVv0jdVgwNDaR4gDMC/2TTRc33Ip8qrNYUcpkOHUT5OZ0bUcNNVZQ9RLlg==",
      "cpu": [
        "arm"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "android"
      ],
      "engines": {
        "node": ">=18"
      }
    },
    "node_modules/@esbuild/android-arm64": {
      "version": "0.25.12",
      "resolved": "https://registry.npmjs.org/@esbuild/android-arm64/-/android-arm64-0.25.12.tgz",
      "integrity": "sha512-6AAmLG7zwD1Z159jCKPvAxZd4y/VTO0VkprYy+3N2FtJ8+BQWFXU+OxARIwA46c5tdD9SsKGZ/1ocqBS/gAKHg==",
      "cpu": [
        "arm64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "android"
      ],
      "engines": {
        "node": ">=18"
      }
    },
    "node_modules/@esbuild/android-x64": {
      "version": "0.25.12",
      "resolved": "https://registry.npmjs.org/@esbuild/android-x64/-/android-x64-0.25.12.tgz",
      "integrity": "sha512-5jbb+2hhDHx5phYR2By8GTWEzn6I9UqR11Kwf22iKbNpYrsmRB18aX/9ivc5cabcUiAT/wM+YIZ6SG9QO6a8kg==",
      "cpu": [
        "x64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "android"
      ],
      "engines": {
        "node": ">=18"
      }
    },
    "node_modules/@esbuild/darwin-arm64": {
      "version": "0.25.12",
      "resolved": "https://registry.npmjs.org/@esbuild/darwin-arm64/-/darwin-arm64-0.25.12.tgz",
      "integrity": "sha512-N3zl+lxHCifgIlcMUP5016ESkeQjLj/959RxxNYIthIg+CQHInujFuXeWbWMgnTo4cp5XVHqFPmpyu9J65C1Yg==",
      "cpu": [
        "arm64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "darwin"
      ],
      "engines": {
        "node": ">=18"
      }
    },
    "node_modules/@esbuild/darwin-x64": {
      "version": "0.25.12",
      "resolved": "https://registry.npmjs.org/@esbuild/darwin-x64/-/darwin-x64-0.25.12.tgz",
      "integrity": "sha512-HQ9ka4Kx21qHXwtlTUVbKJOAnmG1ipXhdWTmNXiPzPfWKpXqASVcWdnf2bnL73wgjNrFXAa3yYvBSd9pzfEIpA==",
      "cpu": [
        "x64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "darwin"
      ],
      "engines": {
        "node": ">=18"
      }
    },
    "node_modules/@esbuild/freebsd-arm64": {
      "version": "0.25.12",
      "resolved": "https://registry.npmjs.org/@esbuild/freebsd-arm64/-/freebsd-arm64-0.25.12.tgz",
      "integrity": "sha512-gA0Bx759+7Jve03K1S0vkOu5Lg/85dou3EseOGUes8flVOGxbhDDh/iZaoek11Y8mtyKPGF3vP8XhnkDEAmzeg==",
      "cpu": [
        "arm64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "freebsd"
      ],
      "engines": {
        "node": ">=18"
      }
    },
    "node_modules/@esbuild/freebsd-x64": {
      "version": "0.25.12",
      "resolved": "https://registry.npmjs.org/@esbuild/freebsd-x64/-/freebsd-x64-0.25.12.tgz",
      "integrity": "sha512-TGbO26Yw2xsHzxtbVFGEXBFH0FRAP7gtcPE7P5yP7wGy7cXK2oO7RyOhL5NLiqTlBh47XhmIUXuGciXEqYFfBQ==",
      "cpu": [
        "x64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "freebsd"
      ],
      "engines": {
        "node": ">=18"
      }
    },
    "node_modules/@esbuild/linux-arm": {
      "version": "0.25.12",
      "resolved": "https://registry.npmjs.org/@esbuild/linux-arm/-/linux-arm-0.25.12.tgz",
      "integrity": "sha512-lPDGyC1JPDou8kGcywY0YILzWlhhnRjdof3UlcoqYmS9El818LLfJJc3PXXgZHrHCAKs/Z2SeZtDJr5MrkxtOw==",
      "cpu": [
        "arm"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "linux"
      ],
      "engines": {
        "node": ">=18"
      }
    },
    "node_modules/@esbuild/linux-arm64": {
      "version": "0.25.12",
      "resolved": "https://registry.npmjs.org/@esbuild/linux-arm64/-/linux-arm64-0.25.12.tgz",
      "integrity": "sha512-8bwX7a8FghIgrupcxb4aUmYDLp8pX06rGh5HqDT7bB+8Rdells6mHvrFHHW2JAOPZUbnjUpKTLg6ECyzvas2AQ==",
      "cpu": [
        "arm64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "linux"
      ],
      "engines": {
        "node": ">=18"
      }
    },
    "node_modules/@esbuild/linux-ia32": {
      "version": "0.25.12",
      "resolved": "https://registry.npmjs.org/@esbuild/linux-ia32/-/linux-ia32-0.25.12.tgz",
      "integrity": "sha512-0y9KrdVnbMM2/vG8KfU0byhUN+EFCny9+8g202gYqSSVMonbsCfLjUO+rCci7pM0WBEtz+oK/PIwHkzxkyharA==",
      "cpu": [
        "ia32"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "linux"
      ],
      "engines": {
        "node": ">=18"
      }
    },
    "node_modules/@esbuild/linux-loong64": {
      "version": "0.25.12",
      "resolved": "https://registry.npmjs.org/@esbuild/linux-loong64/-/linux-loong64-0.25.12.tgz",
      "integrity": "sha512-h///Lr5a9rib/v1GGqXVGzjL4TMvVTv+s1DPoxQdz7l/AYv6LDSxdIwzxkrPW438oUXiDtwM10o9PmwS/6Z0Ng==",
      "cpu": [
        "loong64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "linux"
      ],
      "engines": {
        "node": ">=18"
      }
    },
    "node_modules/@esbuild/linux-mips64el": {
      "version": "0.25.12",
      "resolved": "https://registry.npmjs.org/@esbuild/linux-mips64el/-/linux-mips64el-0.25.12.tgz",
      "integrity": "sha512-iyRrM1Pzy9GFMDLsXn1iHUm18nhKnNMWscjmp4+hpafcZjrr2WbT//d20xaGljXDBYHqRcl8HnxbX6uaA/eGVw==",
      "cpu": [
        "mips64el"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "linux"
      ],
      "engines": {
        "node": ">=18"
      }
    },
    "node_modules/@esbuild/linux-ppc64": {
      "version": "0.25.12",
      "resolved": "https://registry.npmjs.org/@esbuild/linux-ppc64/-/linux-ppc64-0.25.12.tgz",
      "integrity": "sha512-9meM/lRXxMi5PSUqEXRCtVjEZBGwB7P/D4yT8UG/mwIdze2aV4Vo6U5gD3+RsoHXKkHCfSxZKzmDssVlRj1QQA==",
      "cpu": [
        "ppc64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "linux"
      ],
      "engines": {
        "node": ">=18"
      }
    },
    "node_modules/@esbuild/linux-riscv64": {
      "version": "0.25.12",
      "resolved": "https://registry.npmjs.org/@esbuild/linux-riscv64/-/linux-riscv64-0.25.12.tgz",
      "integrity": "sha512-Zr7KR4hgKUpWAwb1f3o5ygT04MzqVrGEGXGLnj15YQDJErYu/BGg+wmFlIDOdJp0PmB0lLvxFIOXZgFRrdjR0w==",
      "cpu": [
        "riscv64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "linux"
      ],
      "engines": {
        "node": ">=18"
      }
    },
    "node_modules/@esbuild/linux-s390x": {
      "version": "0.25.12",
      "resolved": "https://registry.npmjs.org/@esbuild/linux-s390x/-/linux-s390x-0.25.12.tgz",
      "integrity": "sha512-MsKncOcgTNvdtiISc/jZs/Zf8d0cl/t3gYWX8J9ubBnVOwlk65UIEEvgBORTiljloIWnBzLs4qhzPkJcitIzIg==",
      "cpu": [
        "s390x"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "linux"
      ],
      "engines": {
        "node": ">=18"
      }
    },
    "node_modules/@esbuild/linux-x64": {
      "version": "0.25.12",
      "resolved": "https://registry.npmjs.org/@esbuild/linux-x64/-/linux-x64-0.25.12.tgz",
      "integrity": "sha512-uqZMTLr/zR/ed4jIGnwSLkaHmPjOjJvnm6TVVitAa08SLS9Z0VM8wIRx7gWbJB5/J54YuIMInDquWyYvQLZkgw==",
      "cpu": [
        "x64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "linux"
      ],
      "engines": {
        "node": ">=18"
      }
    },
    "node_modules/@esbuild/netbsd-arm64": {
      "version": "0.25.12",
      "resolved": "https://registry.npmjs.org/@esbuild/netbsd-arm64/-/netbsd-arm64-0.25.12.tgz",
      "integrity": "sha512-xXwcTq4GhRM7J9A8Gv5boanHhRa/Q9KLVmcyXHCTaM4wKfIpWkdXiMog/KsnxzJ0A1+nD+zoecuzqPmCRyBGjg==",
      "cpu": [
        "arm64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "netbsd"
      ],
      "engines": {
        "node": ">=18"
      }
    },
    "node_modules/@esbuild/netbsd-x64": {
      "version": "0.25.12",
      "resolved": "https://registry.npmjs.org/@esbuild/netbsd-x64/-/netbsd-x64-0.25.12.tgz",
      "integrity": "sha512-Ld5pTlzPy3YwGec4OuHh1aCVCRvOXdH8DgRjfDy/oumVovmuSzWfnSJg+VtakB9Cm0gxNO9BzWkj6mtO1FMXkQ==",
      "cpu": [
        "x64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "netbsd"
      ],
      "engines": {
        "node": ">=18"
      }
    },
    "node_modules/@esbuild/openbsd-arm64": {
      "version": "0.25.12",
      "resolved": "https://registry.npmjs.org/@esbuild/openbsd-arm64/-/openbsd-arm64-0.25.12.tgz",
      "integrity": "sha512-fF96T6KsBo/pkQI950FARU9apGNTSlZGsv1jZBAlcLL1MLjLNIWPBkj5NlSz8aAzYKg+eNqknrUJ24QBybeR5A==",
      "cpu": [
        "arm64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "openbsd"
      ],
      "engines": {
        "node": ">=18"
      }
    },
    "node_modules/@esbuild/openbsd-x64": {
      "version": "0.25.12",
      "resolved": "https://registry.npmjs.org/@esbuild/openbsd-x64/-/openbsd-x64-0.25.12.tgz",
      "integrity": "sha512-MZyXUkZHjQxUvzK7rN8DJ3SRmrVrke8ZyRusHlP+kuwqTcfWLyqMOE3sScPPyeIXN/mDJIfGXvcMqCgYKekoQw==",
      "cpu": [
        "x64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "openbsd"
      ],
      "engines": {
        "node": ">=18"
      }
    },
    "node_modules/@esbuild/openharmony-arm64": {
      "version": "0.25.12",
      "resolved": "https://registry.npmjs.org/@esbuild/openharmony-arm64/-/openharmony-arm64-0.25.12.tgz",
      "integrity": "sha512-rm0YWsqUSRrjncSXGA7Zv78Nbnw4XL6/dzr20cyrQf7ZmRcsovpcRBdhD43Nuk3y7XIoW2OxMVvwuRvk9XdASg==",
      "cpu": [
        "arm64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "openharmony"
      ],
      "engines": {
        "node": ">=18"
      }
    },
    "node_modules/@esbuild/sunos-x64": {
      "version": "0.25.12",
      "resolved": "https://registry.npmjs.org/@esbuild/sunos-x64/-/sunos-x64-0.25.12.tgz",
      "integrity": "sha512-3wGSCDyuTHQUzt0nV7bocDy72r2lI33QL3gkDNGkod22EsYl04sMf0qLb8luNKTOmgF/eDEDP5BFNwoBKH441w==",
      "cpu": [
        "x64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "sunos"
      ],
      "engines": {
        "node": ">=18"
      }
    },
    "node_modules/@esbuild/win32-arm64": {
      "version": "0.25.12",
      "resolved": "https://registry.npmjs.org/@esbuild/win32-arm64/-/win32-arm64-0.25.12.tgz",
      "integrity": "sha512-rMmLrur64A7+DKlnSuwqUdRKyd3UE7oPJZmnljqEptesKM8wx9J8gx5u0+9Pq0fQQW8vqeKebwNXdfOyP+8Bsg==",
      "cpu": [
        "arm64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "win32"
      ],
      "engines": {
        "node": ">=18"
      }
    },
    "node_modules/@esbuild/win32-ia32": {
      "version": "0.25.12",
      "resolved": "https://registry.npmjs.org/@esbuild/win32-ia32/-/win32-ia32-0.25.12.tgz",
      "integrity": "sha512-HkqnmmBoCbCwxUKKNPBixiWDGCpQGVsrQfJoVGYLPT41XWF8lHuE5N6WhVia2n4o5QK5M4tYr21827fNhi4byQ==",
      "cpu": [
        "ia32"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "win32"
      ],
      "engines": {
        "node": ">=18"
      }
    },
    "node_modules/@esbuild/win32-x64": {
      "version": "0.25.12",
      "resolved": "https://registry.npmjs.org/@esbuild/win32-x64/-/win32-x64-0.25.12.tgz",
      "integrity": "sha512-alJC0uCZpTFrSL0CCDjcgleBXPnCrEAhTBILpeAp7M/OFgoqtAetfBzX0xM00MUsVVPpVjlPuMbREqnZCXaTnA==",
      "cpu": [
        "x64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "win32"
      ],
      "engines": {
        "node": ">=18"
      }
    },
    "node_modules/@jridgewell/gen-mapping": {
      "version": "0.3.13",
      "resolved": "https://registry.npmjs.org/@jridgewell/gen-mapping/-/gen-mapping-0.3.13.tgz",
      "integrity": "sha512-2kkt/7niJ6MgEPxF0bYdQ6etZaA+fQvDcLKckhy1yIQOzaoKjBBjSj63/aLVjYE3qhRt5dvM+uUyfCg6UKCBbA==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@jridgewell/sourcemap-codec": "^1.5.0",
        "@jridgewell/trace-mapping": "^0.3.24"
      }
    },
    "node_modules/@jridgewell/remapping": {
      "version": "2.3.5",
      "resolved": "https://registry.npmjs.org/@jridgewell/remapping/-/remapping-2.3.5.tgz",
      "integrity": "sha512-LI9u/+laYG4Ds1TDKSJW2YPrIlcVYOwi2fUC6xB43lueCjgxV4lffOCZCtYFiH6TNOX+tQKXx97T4IKHbhyHEQ==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@jridgewell/gen-mapping": "^0.3.5",
        "@jridgewell/trace-mapping": "^0.3.24"
      }
    },
    "node_modules/@jridgewell/resolve-uri": {
      "version": "3.1.2",
      "resolved": "https://registry.npmjs.org/@jridgewell/resolve-uri/-/resolve-uri-3.1.2.tgz",
      "integrity": "sha512-bRISgCIjP20/tbWSPWMEi54QVPRZExkuD9lJL+UIxUKtwVJA8wW1Trb1jMs1RFXo1CBTNZ/5hpC9QvmKWdopKw==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=6.0.0"
      }
    },
    "node_modules/@jridgewell/sourcemap-codec": {
      "version": "1.5.5",
      "resolved": "https://registry.npmjs.org/@jridgewell/sourcemap-codec/-/sourcemap-codec-1.5.5.tgz",
      "integrity": "sha512-cYQ9310grqxueWbl+WuIUIaiUaDcj7WOq5fVhEljNVgRfOUhY9fy2zTvfoqWsnebh8Sl70VScFbICvJnLKB0Og==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/@jridgewell/trace-mapping": {
      "version": "0.3.31",
      "resolved": "https://registry.npmjs.org/@jridgewell/trace-mapping/-/trace-mapping-0.3.31.tgz",
      "integrity": "sha512-zzNR+SdQSDJzc8joaeP8QQoCQr8NuYx2dIIytl1QeBEZHJ9uW6hebsrYgbz8hJwUQao3TWCMtmfV8Nu1twOLAw==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@jridgewell/resolve-uri": "^3.1.0",
        "@jridgewell/sourcemap-codec": "^1.4.14"
      }
    },
    "node_modules/@rolldown/pluginutils": {
      "version": "1.0.0-beta.53",
      "resolved": "https://registry.npmjs.org/@rolldown/pluginutils/-/pluginutils-1.0.0-beta.53.tgz",
      "integrity": "sha512-vENRlFU4YbrwVqNDZ7fLvy+JR1CRkyr01jhSiDpE1u6py3OMzQfztQU2jxykW3ALNxO4kSlqIDeYyD0Y9RcQeQ==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/@rollup/rollup-android-arm-eabi": {
      "version": "4.53.3",
      "resolved": "https://registry.npmjs.org/@rollup/rollup-android-arm-eabi/-/rollup-android-arm-eabi-4.53.3.tgz",
      "integrity": "sha512-mRSi+4cBjrRLoaal2PnqH82Wqyb+d3HsPUN/W+WslCXsZsyHa9ZeQQX/pQsZaVIWDkPcpV6jJ+3KLbTbgnwv8w==",
      "cpu": [
        "arm"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "android"
      ]
    },
    "node_modules/@rollup/rollup-android-arm64": {
      "version": "4.53.3",
      "resolved": "https://registry.npmjs.org/@rollup/rollup-android-arm64/-/rollup-android-arm64-4.53.3.tgz",
      "integrity": "sha512-CbDGaMpdE9sh7sCmTrTUyllhrg65t6SwhjlMJsLr+J8YjFuPmCEjbBSx4Z/e4SmDyH3aB5hGaJUP2ltV/vcs4w==",
      "cpu": [
        "arm64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "android"
      ]
    },
    "node_modules/@rollup/rollup-darwin-arm64": {
      "version": "4.53.3",
      "resolved": "https://registry.npmjs.org/@rollup/rollup-darwin-arm64/-/rollup-darwin-arm64-4.53.3.tgz",
      "integrity": "sha512-Nr7SlQeqIBpOV6BHHGZgYBuSdanCXuw09hon14MGOLGmXAFYjx1wNvquVPmpZnl0tLjg25dEdr4IQ6GgyToCUA==",
      "cpu": [
        "arm64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "darwin"
      ]
    },
    "node_modules/@rollup/rollup-darwin-x64": {
      "version": "4.53.3",
      "resolved": "https://registry.npmjs.org/@rollup/rollup-darwin-x64/-/rollup-darwin-x64-4.53.3.tgz",
      "integrity": "sha512-DZ8N4CSNfl965CmPktJ8oBnfYr3F8dTTNBQkRlffnUarJ2ohudQD17sZBa097J8xhQ26AwhHJ5mvUyQW8ddTsQ==",
      "cpu": [
        "x64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "darwin"
      ]
    },
    "node_modules/@rollup/rollup-freebsd-arm64": {
      "version": "4.53.3",
      "resolved": "https://registry.npmjs.org/@rollup/rollup-freebsd-arm64/-/rollup-freebsd-arm64-4.53.3.tgz",
      "integrity": "sha512-yMTrCrK92aGyi7GuDNtGn2sNW+Gdb4vErx4t3Gv/Tr+1zRb8ax4z8GWVRfr3Jw8zJWvpGHNpss3vVlbF58DZ4w==",
      "cpu": [
        "arm64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "freebsd"
      ]
    },
    "node_modules/@rollup/rollup-freebsd-x64": {
      "version": "4.53.3",
      "resolved": "https://registry.npmjs.org/@rollup/rollup-freebsd-x64/-/rollup-freebsd-x64-4.53.3.tgz",
      "integrity": "sha512-lMfF8X7QhdQzseM6XaX0vbno2m3hlyZFhwcndRMw8fbAGUGL3WFMBdK0hbUBIUYcEcMhVLr1SIamDeuLBnXS+Q==",
      "cpu": [
        "x64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "freebsd"
      ]
    },
    "node_modules/@rollup/rollup-linux-arm-gnueabihf": {
      "version": "4.53.3",
      "resolved": "https://registry.npmjs.org/@rollup/rollup-linux-arm-gnueabihf/-/rollup-linux-arm-gnueabihf-4.53.3.tgz",
      "integrity": "sha512-k9oD15soC/Ln6d2Wv/JOFPzZXIAIFLp6B+i14KhxAfnq76ajt0EhYc5YPeX6W1xJkAdItcVT+JhKl1QZh44/qw==",
      "cpu": [
        "arm"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "linux"
      ]
    },
    "node_modules/@rollup/rollup-linux-arm-musleabihf": {
      "version": "4.53.3",
      "resolved": "https://registry.npmjs.org/@rollup/rollup-linux-arm-musleabihf/-/rollup-linux-arm-musleabihf-4.53.3.tgz",
      "integrity": "sha512-vTNlKq+N6CK/8UktsrFuc+/7NlEYVxgaEgRXVUVK258Z5ymho29skzW1sutgYjqNnquGwVUObAaxae8rZ6YMhg==",
      "cpu": [
        "arm"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "linux"
      ]
    },
    "node_modules/@rollup/rollup-linux-arm64-gnu": {
      "version": "4.53.3",
      "resolved": "https://registry.npmjs.org/@rollup/rollup-linux-arm64-gnu/-/rollup-linux-arm64-gnu-4.53.3.tgz",
      "integrity": "sha512-RGrFLWgMhSxRs/EWJMIFM1O5Mzuz3Xy3/mnxJp/5cVhZ2XoCAxJnmNsEyeMJtpK+wu0FJFWz+QF4mjCA7AUQ3w==",
      "cpu": [
        "arm64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "linux"
      ]
    },
    "node_modules/@rollup/rollup-linux-arm64-musl": {
      "version": "4.53.3",
      "resolved": "https://registry.npmjs.org/@rollup/rollup-linux-arm64-musl/-/rollup-linux-arm64-musl-4.53.3.tgz",
      "integrity": "sha512-kASyvfBEWYPEwe0Qv4nfu6pNkITLTb32p4yTgzFCocHnJLAHs+9LjUu9ONIhvfT/5lv4YS5muBHyuV84epBo/A==",
      "cpu": [
        "arm64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "linux"
      ]
    },
    "node_modules/@rollup/rollup-linux-loong64-gnu": {
      "version": "4.53.3",
      "resolved": "https://registry.npmjs.org/@rollup/rollup-linux-loong64-gnu/-/rollup-linux-loong64-gnu-4.53.3.tgz",
      "integrity": "sha512-JiuKcp2teLJwQ7vkJ95EwESWkNRFJD7TQgYmCnrPtlu50b4XvT5MOmurWNrCj3IFdyjBQ5p9vnrX4JM6I8OE7g==",
      "cpu": [
        "loong64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "linux"
      ]
    },
    "node_modules/@rollup/rollup-linux-ppc64-gnu": {
      "version": "4.53.3",
      "resolved": "https://registry.npmjs.org/@rollup/rollup-linux-ppc64-gnu/-/rollup-linux-ppc64-gnu-4.53.3.tgz",
      "integrity": "sha512-EoGSa8nd6d3T7zLuqdojxC20oBfNT8nexBbB/rkxgKj5T5vhpAQKKnD+h3UkoMuTyXkP5jTjK/ccNRmQrPNDuw==",
      "cpu": [
        "ppc64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "linux"
      ]
    },
    "node_modules/@rollup/rollup-linux-riscv64-gnu": {
      "version": "4.53.3",
      "resolved": "https://registry.npmjs.org/@rollup/rollup-linux-riscv64-gnu/-/rollup-linux-riscv64-gnu-4.53.3.tgz",
      "integrity": "sha512-4s+Wped2IHXHPnAEbIB0YWBv7SDohqxobiiPA1FIWZpX+w9o2i4LezzH/NkFUl8LRci/8udci6cLq+jJQlh+0g==",
      "cpu": [
        "riscv64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "linux"
      ]
    },
    "node_modules/@rollup/rollup-linux-riscv64-musl": {
      "version": "4.53.3",
      "resolved": "https://registry.npmjs.org/@rollup/rollup-linux-riscv64-musl/-/rollup-linux-riscv64-musl-4.53.3.tgz",
      "integrity": "sha512-68k2g7+0vs2u9CxDt5ktXTngsxOQkSEV/xBbwlqYcUrAVh6P9EgMZvFsnHy4SEiUl46Xf0IObWVbMvPrr2gw8A==",
      "cpu": [
        "riscv64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "linux"
      ]
    },
    "node_modules/@rollup/rollup-linux-s390x-gnu": {
      "version": "4.53.3",
      "resolved": "https://registry.npmjs.org/@rollup/rollup-linux-s390x-gnu/-/rollup-linux-s390x-gnu-4.53.3.tgz",
      "integrity": "sha512-VYsFMpULAz87ZW6BVYw3I6sWesGpsP9OPcyKe8ofdg9LHxSbRMd7zrVrr5xi/3kMZtpWL/wC+UIJWJYVX5uTKg==",
      "cpu": [
        "s390x"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "linux"
      ]
    },
    "node_modules/@rollup/rollup-linux-x64-gnu": {
      "version": "4.53.3",
      "resolved": "https://registry.npmjs.org/@rollup/rollup-linux-x64-gnu/-/rollup-linux-x64-gnu-4.53.3.tgz",
      "integrity": "sha512-3EhFi1FU6YL8HTUJZ51imGJWEX//ajQPfqWLI3BQq4TlvHy4X0MOr5q3D2Zof/ka0d5FNdPwZXm3Yyib/UEd+w==",
      "cpu": [
        "x64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "linux"
      ]
    },
    "node_modules/@rollup/rollup-linux-x64-musl": {
      "version": "4.53.3",
      "resolved": "https://registry.npmjs.org/@rollup/rollup-linux-x64-musl/-/rollup-linux-x64-musl-4.53.3.tgz",
      "integrity": "sha512-eoROhjcc6HbZCJr+tvVT8X4fW3/5g/WkGvvmwz/88sDtSJzO7r/blvoBDgISDiCjDRZmHpwud7h+6Q9JxFwq1Q==",
      "cpu": [
        "x64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "linux"
      ]
    },
    "node_modules/@rollup/rollup-openharmony-arm64": {
      "version": "4.53.3",
      "resolved": "https://registry.npmjs.org/@rollup/rollup-openharmony-arm64/-/rollup-openharmony-arm64-4.53.3.tgz",
      "integrity": "sha512-OueLAWgrNSPGAdUdIjSWXw+u/02BRTcnfw9PN41D2vq/JSEPnJnVuBgw18VkN8wcd4fjUs+jFHVM4t9+kBSNLw==",
      "cpu": [
        "arm64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "openharmony"
      ]
    },
    "node_modules/@rollup/rollup-win32-arm64-msvc": {
      "version": "4.53.3",
      "resolved": "https://registry.npmjs.org/@rollup/rollup-win32-arm64-msvc/-/rollup-win32-arm64-msvc-4.53.3.tgz",
      "integrity": "sha512-GOFuKpsxR/whszbF/bzydebLiXIHSgsEUp6M0JI8dWvi+fFa1TD6YQa4aSZHtpmh2/uAlj/Dy+nmby3TJ3pkTw==",
      "cpu": [
        "arm64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "win32"
      ]
    },
    "node_modules/@rollup/rollup-win32-ia32-msvc": {
      "version": "4.53.3",
      "resolved": "https://registry.npmjs.org/@rollup/rollup-win32-ia32-msvc/-/rollup-win32-ia32-msvc-4.53.3.tgz",
      "integrity": "sha512-iah+THLcBJdpfZ1TstDFbKNznlzoxa8fmnFYK4V67HvmuNYkVdAywJSoteUszvBQ9/HqN2+9AZghbajMsFT+oA==",
      "cpu": [
        "ia32"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "win32"
      ]
    },
    "node_modules/@rollup/rollup-win32-x64-gnu": {
      "version": "4.53.3",
      "resolved": "https://registry.npmjs.org/@rollup/rollup-win32-x64-gnu/-/rollup-win32-x64-gnu-4.53.3.tgz",
      "integrity": "sha512-J9QDiOIZlZLdcot5NXEepDkstocktoVjkaKUtqzgzpt2yWjGlbYiKyp05rWwk4nypbYUNoFAztEgixoLaSETkg==",
      "cpu": [
        "x64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "win32"
      ]
    },
    "node_modules/@rollup/rollup-win32-x64-msvc": {
      "version": "4.53.3",
      "resolved": "https://registry.npmjs.org/@rollup/rollup-win32-x64-msvc/-/rollup-win32-x64-msvc-4.53.3.tgz",
      "integrity": "sha512-UhTd8u31dXadv0MopwGgNOBpUVROFKWVQgAg5N1ESyCz8AuBcMqm4AuTjrwgQKGDfoFuz02EuMRHQIw/frmYKQ==",
      "cpu": [
        "x64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "win32"
      ]
    },
    "node_modules/@tailwindcss/node": {
      "version": "4.1.18",
      "resolved": "https://registry.npmjs.org/@tailwindcss/node/-/node-4.1.18.tgz",
      "integrity": "sha512-DoR7U1P7iYhw16qJ49fgXUlry1t4CpXeErJHnQ44JgTSKMaZUdf17cfn5mHchfJ4KRBZRFA/Coo+MUF5+gOaCQ==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@jridgewell/remapping": "^2.3.4",
        "enhanced-resolve": "^5.18.3",
        "jiti": "^2.6.1",
        "lightningcss": "1.30.2",
        "magic-string": "^0.30.21",
        "source-map-js": "^1.2.1",
        "tailwindcss": "4.1.18"
      }
    },
    "node_modules/@tailwindcss/oxide": {
      "version": "4.1.18",
      "resolved": "https://registry.npmjs.org/@tailwindcss/oxide/-/oxide-4.1.18.tgz",
      "integrity": "sha512-EgCR5tTS5bUSKQgzeMClT6iCY3ToqE1y+ZB0AKldj809QXk1Y+3jB0upOYZrn9aGIzPtUsP7sX4QQ4XtjBB95A==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">= 10"
      },
      "optionalDependencies": {
        "@tailwindcss/oxide-android-arm64": "4.1.18",
        "@tailwindcss/oxide-darwin-arm64": "4.1.18",
        "@tailwindcss/oxide-darwin-x64": "4.1.18",
        "@tailwindcss/oxide-freebsd-x64": "4.1.18",
        "@tailwindcss/oxide-linux-arm-gnueabihf": "4.1.18",
        "@tailwindcss/oxide-linux-arm64-gnu": "4.1.18",
        "@tailwindcss/oxide-linux-arm64-musl": "4.1.18",
        "@tailwindcss/oxide-linux-x64-gnu": "4.1.18",
        "@tailwindcss/oxide-linux-x64-musl": "4.1.18",
        "@tailwindcss/oxide-wasm32-wasi": "4.1.18",
        "@tailwindcss/oxide-win32-arm64-msvc": "4.1.18",
        "@tailwindcss/oxide-win32-x64-msvc": "4.1.18"
      }
    },
    "node_modules/@tailwindcss/oxide-android-arm64": {
      "version": "4.1.18",
      "resolved": "https://registry.npmjs.org/@tailwindcss/oxide-android-arm64/-/oxide-android-arm64-4.1.18.tgz",
      "integrity": "sha512-dJHz7+Ugr9U/diKJA0W6N/6/cjI+ZTAoxPf9Iz9BFRF2GzEX8IvXxFIi/dZBloVJX/MZGvRuFA9rqwdiIEZQ0Q==",
      "cpu": [
        "arm64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "android"
      ],
      "engines": {
        "node": ">= 10"
      }
    },
    "node_modules/@tailwindcss/oxide-darwin-arm64": {
      "version": "4.1.18",
      "resolved": "https://registry.npmjs.org/@tailwindcss/oxide-darwin-arm64/-/oxide-darwin-arm64-4.1.18.tgz",
      "integrity": "sha512-Gc2q4Qhs660bhjyBSKgq6BYvwDz4G+BuyJ5H1xfhmDR3D8HnHCmT/BSkvSL0vQLy/nkMLY20PQ2OoYMO15Jd0A==",
      "cpu": [
        "arm64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "darwin"
      ],
      "engines": {
        "node": ">= 10"
      }
    },
    "node_modules/@tailwindcss/oxide-darwin-x64": {
      "version": "4.1.18",
      "resolved": "https://registry.npmjs.org/@tailwindcss/oxide-darwin-x64/-/oxide-darwin-x64-4.1.18.tgz",
      "integrity": "sha512-FL5oxr2xQsFrc3X9o1fjHKBYBMD1QZNyc1Xzw/h5Qu4XnEBi3dZn96HcHm41c/euGV+GRiXFfh2hUCyKi/e+yw==",
      "cpu": [
        "x64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "darwin"
      ],
      "engines": {
        "node": ">= 10"
      }
    },
    "node_modules/@tailwindcss/oxide-freebsd-x64": {
      "version": "4.1.18",
      "resolved": "https://registry.npmjs.org/@tailwindcss/oxide-freebsd-x64/-/oxide-freebsd-x64-4.1.18.tgz",
      "integrity": "sha512-Fj+RHgu5bDodmV1dM9yAxlfJwkkWvLiRjbhuO2LEtwtlYlBgiAT4x/j5wQr1tC3SANAgD+0YcmWVrj8R9trVMA==",
      "cpu": [
        "x64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "freebsd"
      ],
      "engines": {
        "node": ">= 10"
      }
    },
    "node_modules/@tailwindcss/oxide-linux-arm-gnueabihf": {
      "version": "4.1.18",
      "resolved": "https://registry.npmjs.org/@tailwindcss/oxide-linux-arm-gnueabihf/-/oxide-linux-arm-gnueabihf-4.1.18.tgz",
      "integrity": "sha512-Fp+Wzk/Ws4dZn+LV2Nqx3IilnhH51YZoRaYHQsVq3RQvEl+71VGKFpkfHrLM/Li+kt5c0DJe/bHXK1eHgDmdiA==",
      "cpu": [
        "arm"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "linux"
      ],
      "engines": {
        "node": ">= 10"
      }
    },
    "node_modules/@tailwindcss/oxide-linux-arm64-gnu": {
      "version": "4.1.18",
      "resolved": "https://registry.npmjs.org/@tailwindcss/oxide-linux-arm64-gnu/-/oxide-linux-arm64-gnu-4.1.18.tgz",
      "integrity": "sha512-S0n3jboLysNbh55Vrt7pk9wgpyTTPD0fdQeh7wQfMqLPM/Hrxi+dVsLsPrycQjGKEQk85Kgbx+6+QnYNiHalnw==",
      "cpu": [
        "arm64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "linux"
      ],
      "engines": {
        "node": ">= 10"
      }
    },
    "node_modules/@tailwindcss/oxide-linux-arm64-musl": {
      "version": "4.1.18",
      "resolved": "https://registry.npmjs.org/@tailwindcss/oxide-linux-arm64-musl/-/oxide-linux-arm64-musl-4.1.18.tgz",
      "integrity": "sha512-1px92582HkPQlaaCkdRcio71p8bc8i/ap5807tPRDK/uw953cauQBT8c5tVGkOwrHMfc2Yh6UuxaH4vtTjGvHg==",
      "cpu": [
        "arm64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "linux"
      ],
      "engines": {
        "node": ">= 10"
      }
    },
    "node_modules/@tailwindcss/oxide-linux-x64-gnu": {
      "version": "4.1.18",
      "resolved": "https://registry.npmjs.org/@tailwindcss/oxide-linux-x64-gnu/-/oxide-linux-x64-gnu-4.1.18.tgz",
      "integrity": "sha512-v3gyT0ivkfBLoZGF9LyHmts0Isc8jHZyVcbzio6Wpzifg/+5ZJpDiRiUhDLkcr7f/r38SWNe7ucxmGW3j3Kb/g==",
      "cpu": [
        "x64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "linux"
      ],
      "engines": {
        "node": ">= 10"
      }
    },
    "node_modules/@tailwindcss/oxide-linux-x64-musl": {
      "version": "4.1.18",
      "resolved": "https://registry.npmjs.org/@tailwindcss/oxide-linux-x64-musl/-/oxide-linux-x64-musl-4.1.18.tgz",
      "integrity": "sha512-bhJ2y2OQNlcRwwgOAGMY0xTFStt4/wyU6pvI6LSuZpRgKQwxTec0/3Scu91O8ir7qCR3AuepQKLU/kX99FouqQ==",
      "cpu": [
        "x64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "linux"
      ],
      "engines": {
        "node": ">= 10"
      }
    },
    "node_modules/@tailwindcss/oxide-wasm32-wasi": {
      "version": "4.1.18",
      "resolved": "https://registry.npmjs.org/@tailwindcss/oxide-wasm32-wasi/-/oxide-wasm32-wasi-4.1.18.tgz",
      "integrity": "sha512-LffYTvPjODiP6PT16oNeUQJzNVyJl1cjIebq/rWWBF+3eDst5JGEFSc5cWxyRCJ0Mxl+KyIkqRxk1XPEs9x8TA==",
      "bundleDependencies": [
        "@napi-rs/wasm-runtime",
        "@emnapi/core",
        "@emnapi/runtime",
        "@tybys/wasm-util",
        "@emnapi/wasi-threads",
        "tslib"
      ],
      "cpu": [
        "wasm32"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "dependencies": {
        "@emnapi/core": "^1.7.1",
        "@emnapi/runtime": "^1.7.1",
        "@emnapi/wasi-threads": "^1.1.0",
        "@napi-rs/wasm-runtime": "^1.1.0",
        "@tybys/wasm-util": "^0.10.1",
        "tslib": "^2.4.0"
      },
      "engines": {
        "node": ">=14.0.0"
      }
    },
    "node_modules/@tailwindcss/oxide-win32-arm64-msvc": {
      "version": "4.1.18",
      "resolved": "https://registry.npmjs.org/@tailwindcss/oxide-win32-arm64-msvc/-/oxide-win32-arm64-msvc-4.1.18.tgz",
      "integrity": "sha512-HjSA7mr9HmC8fu6bdsZvZ+dhjyGCLdotjVOgLA2vEqxEBZaQo9YTX4kwgEvPCpRh8o4uWc4J/wEoFzhEmjvPbA==",
      "cpu": [
        "arm64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "win32"
      ],
      "engines": {
        "node": ">= 10"
      }
    },
    "node_modules/@tailwindcss/oxide-win32-x64-msvc": {
      "version": "4.1.18",
      "resolved": "https://registry.npmjs.org/@tailwindcss/oxide-win32-x64-msvc/-/oxide-win32-x64-msvc-4.1.18.tgz",
      "integrity": "sha512-bJWbyYpUlqamC8dpR7pfjA0I7vdF6t5VpUGMWRkXVE3AXgIZjYUYAK7II1GNaxR8J1SSrSrppRar8G++JekE3Q==",
      "cpu": [
        "x64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "win32"
      ],
      "engines": {
        "node": ">= 10"
      }
    },
    "node_modules/@tailwindcss/postcss": {
      "version": "4.1.18",
      "resolved": "https://registry.npmjs.org/@tailwindcss/postcss/-/postcss-4.1.18.tgz",
      "integrity": "sha512-Ce0GFnzAOuPyfV5SxjXGn0CubwGcuDB0zcdaPuCSzAa/2vII24JTkH+I6jcbXLb1ctjZMZZI6OjDaLPJQL1S0g==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@alloc/quick-lru": "^5.2.0",
        "@tailwindcss/node": "4.1.18",
        "@tailwindcss/oxide": "4.1.18",
        "postcss": "^8.4.41",
        "tailwindcss": "4.1.18"
      }
    },
    "node_modules/@tailwindcss/typography": {
      "version": "0.5.19",
      "resolved": "https://registry.npmjs.org/@tailwindcss/typography/-/typography-0.5.19.tgz",
      "integrity": "sha512-w31dd8HOx3k9vPtcQh5QHP9GwKcgbMp87j58qi6xgiBnFFtKEAgCWnDw4qUT8aHwkCp8bKvb/KGKWWHedP0AAg==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "postcss-selector-parser": "6.0.10"
      },
      "peerDependencies": {
        "tailwindcss": ">=3.0.0 || insiders || >=4.0.0-alpha.20 || >=4.0.0-beta.1"
      }
    },
    "node_modules/@types/babel__core": {
      "version": "7.20.5",
      "resolved": "https://registry.npmjs.org/@types/babel__core/-/babel__core-7.20.5.tgz",
      "integrity": "sha512-qoQprZvz5wQFJwMDqeseRXWv3rqMvhgpbXFfVyWhbx9X47POIA6i/+dXefEmZKoAgOaTdaIgNSMqMIU61yRyzA==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@babel/parser": "^7.20.7",
        "@babel/types": "^7.20.7",
        "@types/babel__generator": "*",
        "@types/babel__template": "*",
        "@types/babel__traverse": "*"
      }
    },
    "node_modules/@types/babel__generator": {
      "version": "7.27.0",
      "resolved": "https://registry.npmjs.org/@types/babel__generator/-/babel__generator-7.27.0.tgz",
      "integrity": "sha512-ufFd2Xi92OAVPYsy+P4n7/U7e68fex0+Ee8gSG9KX7eo084CWiQ4sdxktvdl0bOPupXtVJPY19zk6EwWqUQ8lg==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@babel/types": "^7.0.0"
      }
    },
    "node_modules/@types/babel__template": {
      "version": "7.4.4",
      "resolved": "https://registry.npmjs.org/@types/babel__template/-/babel__template-7.4.4.tgz",
      "integrity": "sha512-h/NUaSyG5EyxBIp8YRxo4RMe2/qQgvyowRwVMzhYhBCONbW8PUsg4lkFMrhgZhUe5z3L3MiLDuvyJ/CaPa2A8A==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@babel/parser": "^7.1.0",
        "@babel/types": "^7.0.0"
      }
    },
    "node_modules/@types/babel__traverse": {
      "version": "7.28.0",
      "resolved": "https://registry.npmjs.org/@types/babel__traverse/-/babel__traverse-7.28.0.tgz",
      "integrity": "sha512-8PvcXf70gTDZBgt9ptxJ8elBeBjcLOAcOtoO/mPJjtji1+CdGbHgm77om1GrsPxsiE+uXIpNSK64UYaIwQXd4Q==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@babel/types": "^7.28.2"
      }
    },
    "node_modules/@types/debug": {
      "version": "4.1.12",
      "resolved": "https://registry.npmjs.org/@types/debug/-/debug-4.1.12.tgz",
      "integrity": "sha512-vIChWdVG3LG1SMxEvI/AK+FWJthlrqlTu7fbrlywTkkaONwk/UAGaULXRlf8vkzFBLVm0zkMdCquhL5aOjhXPQ==",
      "license": "MIT",
      "dependencies": {
        "@types/ms": "*"
      }
    },
    "node_modules/@types/estree": {
      "version": "1.0.8",
      "resolved": "https://registry.npmjs.org/@types/estree/-/estree-1.0.8.tgz",
      "integrity": "sha512-dWHzHa2WqEXI/O1E9OjrocMTKJl2mSrEolh1Iomrv6U+JuNwaHXsXx9bLu5gG7BUWFIN0skIQJQ/L1rIex4X6w==",
      "license": "MIT"
    },
    "node_modules/@types/estree-jsx": {
      "version": "1.0.5",
      "resolved": "https://registry.npmjs.org/@types/estree-jsx/-/estree-jsx-1.0.5.tgz",
      "integrity": "sha512-52CcUVNFyfb1A2ALocQw/Dd1BQFNmSdkuC3BkZ6iqhdMfQz7JWOFRuJFloOzjk+6WijU56m9oKXFAXc7o3Towg==",
      "license": "MIT",
      "dependencies": {
        "@types/estree": "*"
      }
    },
    "node_modules/@types/hast": {
      "version": "3.0.4",
      "resolved": "https://registry.npmjs.org/@types/hast/-/hast-3.0.4.tgz",
      "integrity": "sha512-WPs+bbQw5aCj+x6laNGWLH3wviHtoCv/P3+otBhbOhJgG8qtpdAMlTCxLtsTWA7LH1Oh/bFCHsBn0TPS5m30EQ==",
      "license": "MIT",
      "dependencies": {
        "@types/unist": "*"
      }
    },
    "node_modules/@types/mdast": {
      "version": "4.0.4",
      "resolved": "https://registry.npmjs.org/@types/mdast/-/mdast-4.0.4.tgz",
      "integrity": "sha512-kGaNbPh1k7AFzgpud/gMdvIm5xuECykRR+JnWKQno9TAXVa6WIVCGTPvYGekIDL4uwCZQSYbUxNBSb1aUo79oA==",
      "license": "MIT",
      "dependencies": {
        "@types/unist": "*"
      }
    },
    "node_modules/@types/ms": {
      "version": "2.1.0",
      "resolved": "https://registry.npmjs.org/@types/ms/-/ms-2.1.0.tgz",
      "integrity": "sha512-GsCCIZDE/p3i96vtEqx+7dBUGXrc7zeSK3wwPHIaRThS+9OhWIXRqzs4d6k1SVU8g91DrNRWxWUGhp5KXQb2VA==",
      "license": "MIT"
    },
    "node_modules/@types/node": {
      "version": "22.19.3",
      "resolved": "https://registry.npmjs.org/@types/node/-/node-22.19.3.tgz",
      "integrity": "sha512-1N9SBnWYOJTrNZCdh/yJE+t910Y128BoyY+zBLWhL3r0TYzlTmFdXrPwHL9DyFZmlEXNQQolTZh3KHV31QDhyA==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "undici-types": "~6.21.0"
      }
    },
    "node_modules/@types/react": {
      "version": "19.2.7",
      "resolved": "https://registry.npmjs.org/@types/react/-/react-19.2.7.tgz",
      "integrity": "sha512-MWtvHrGZLFttgeEj28VXHxpmwYbor/ATPYbBfSFZEIRK0ecCFLl2Qo55z52Hss+UV9CRN7trSeq1zbgx7YDWWg==",
      "license": "MIT",
      "peer": true,
      "dependencies": {
        "csstype": "^3.2.2"
      }
    },
    "node_modules/@types/unist": {
      "version": "3.0.3",
      "resolved": "https://registry.npmjs.org/@types/unist/-/unist-3.0.3.tgz",
      "integrity": "sha512-ko/gIFJRv177XgZsZcBwnqJN5x/Gien8qNOn0D5bQU/zAzVf9Zt3BlcUiLqhV9y4ARk0GbT3tnUiPNgnTXzc/Q==",
      "license": "MIT"
    },
    "node_modules/@ungap/structured-clone": {
      "version": "1.3.0",
      "resolved": "https://registry.npmjs.org/@ungap/structured-clone/-/structured-clone-1.3.0.tgz",
      "integrity": "sha512-WmoN8qaIAo7WTYWbAZuG8PYEhn5fkz7dZrqTBZ7dtt//lL2Gwms1IcnQ5yHqjDfX8Ft5j4YzDM23f87zBfDe9g==",
      "license": "ISC"
    },
    "node_modules/@vitejs/plugin-react": {
      "version": "5.1.2",
      "resolved": "https://registry.npmjs.org/@vitejs/plugin-react/-/plugin-react-5.1.2.tgz",
      "integrity": "sha512-EcA07pHJouywpzsoTUqNh5NwGayl2PPVEJKUSinGGSxFGYn+shYbqMGBg6FXDqgXum9Ou/ecb+411ssw8HImJQ==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@babel/core": "^7.28.5",
        "@babel/plugin-transform-react-jsx-self": "^7.27.1",
        "@babel/plugin-transform-react-jsx-source": "^7.27.1",
        "@rolldown/pluginutils": "1.0.0-beta.53",
        "@types/babel__core": "^7.20.5",
        "react-refresh": "^0.18.0"
      },
      "engines": {
        "node": "^20.19.0 || >=22.12.0"
      },
      "peerDependencies": {
        "vite": "^4.2.0 || ^5.0.0 || ^6.0.0 || ^7.0.0"
      }
    },
    "node_modules/autoprefixer": {
      "version": "10.4.23",
      "resolved": "https://registry.npmjs.org/autoprefixer/-/autoprefixer-10.4.23.tgz",
      "integrity": "sha512-YYTXSFulfwytnjAPlw8QHncHJmlvFKtczb8InXaAx9Q0LbfDnfEYDE55omerIJKihhmU61Ft+cAOSzQVaBUmeA==",
      "dev": true,
      "funding": [
        {
          "type": "opencollective",
          "url": "https://opencollective.com/postcss/"
        },
        {
          "type": "tidelift",
          "url": "https://tidelift.com/funding/github/npm/autoprefixer"
        },
        {
          "type": "github",
          "url": "https://github.com/sponsors/ai"
        }
      ],
      "license": "MIT",
      "dependencies": {
        "browserslist": "^4.28.1",
        "caniuse-lite": "^1.0.30001760",
        "fraction.js": "^5.3.4",
        "picocolors": "^1.1.1",
        "postcss-value-parser": "^4.2.0"
      },
      "bin": {
        "autoprefixer": "bin/autoprefixer"
      },
      "engines": {
        "node": "^10 || ^12 || >=14"
      },
      "peerDependencies": {
        "postcss": "^8.1.0"
      }
    },
    "node_modules/bail": {
      "version": "2.0.2",
      "resolved": "https://registry.npmjs.org/bail/-/bail-2.0.2.tgz",
      "integrity": "sha512-0xO6mYd7JB2YesxDKplafRpsiOzPt9V02ddPCLbY1xYGPOX24NTyN50qnUxgCPcSoYMhKpAuBTjQoRZCAkUDRw==",
      "license": "MIT",
      "funding": {
        "type": "github",
        "url": "https://github.com/sponsors/wooorm"
      }
    },
    "node_modules/baseline-browser-mapping": {
      "version": "2.9.7",
      "resolved": "https://registry.npmjs.org/baseline-browser-mapping/-/baseline-browser-mapping-2.9.7.tgz",
      "integrity": "sha512-k9xFKplee6KIio3IDbwj+uaCLpqzOwakOgmqzPezM0sFJlFKcg30vk2wOiAJtkTSfx0SSQDSe8q+mWA/fSH5Zg==",
      "dev": true,
      "license": "Apache-2.0",
      "bin": {
        "baseline-browser-mapping": "dist/cli.js"
      }
    },
    "node_modules/browserslist": {
      "version": "4.28.1",
      "resolved": "https://registry.npmjs.org/browserslist/-/browserslist-4.28.1.tgz",
      "integrity": "sha512-ZC5Bd0LgJXgwGqUknZY/vkUQ04r8NXnJZ3yYi4vDmSiZmC/pdSN0NbNRPxZpbtO4uAfDUAFffO8IZoM3Gj8IkA==",
      "dev": true,
      "funding": [
        {
          "type": "opencollective",
          "url": "https://opencollective.com/browserslist"
        },
        {
          "type": "tidelift",
          "url": "https://tidelift.com/funding/github/npm/browserslist"
        },
        {
          "type": "github",
          "url": "https://github.com/sponsors/ai"
        }
      ],
      "license": "MIT",
      "dependencies": {
        "baseline-browser-mapping": "^2.9.0",
        "caniuse-lite": "^1.0.30001759",
        "electron-to-chromium": "^1.5.263",
        "node-releases": "^2.0.27",
        "update-browserslist-db": "^1.2.0"
      },
      "bin": {
        "browserslist": "cli.js"
      },
      "engines": {
        "node": "^6 || ^7 || ^8 || ^9 || ^10 || ^11 || ^12 || >=13.7"
      }
    },
    "node_modules/caniuse-lite": {
      "version": "1.0.30001760",
      "resolved": "https://registry.npmjs.org/caniuse-lite/-/caniuse-lite-1.0.30001760.tgz",
      "integrity": "sha512-7AAMPcueWELt1p3mi13HR/LHH0TJLT11cnwDJEs3xA4+CK/PLKeO9Kl1oru24htkyUKtkGCvAx4ohB0Ttry8Dw==",
      "dev": true,
      "funding": [
        {
          "type": "opencollective",
          "url": "https://opencollective.com/browserslist"
        },
        {
          "type": "tidelift",
          "url": "https://tidelift.com/funding/github/npm/caniuse-lite"
        },
        {
          "type": "github",
          "url": "https://github.com/sponsors/ai"
        }
      ],
      "license": "CC-BY-4.0"
    },
    "node_modules/ccount": {
      "version": "2.0.1",
      "resolved": "https://registry.npmjs.org/ccount/-/ccount-2.0.1.tgz",
      "integrity": "sha512-eyrF0jiFpY+3drT6383f1qhkbGsLSifNAjA61IUjZjmLCWjItY6LB9ft9YhoDgwfmclB2zhu51Lc7+95b8NRAg==",
      "license": "MIT",
      "funding": {
        "type": "github",
        "url": "https://github.com/sponsors/wooorm"
      }
    },
    "node_modules/character-entities": {
      "version": "2.0.2",
      "resolved": "https://registry.npmjs.org/character-entities/-/character-entities-2.0.2.tgz",
      "integrity": "sha512-shx7oQ0Awen/BRIdkjkvz54PnEEI/EjwXDSIZp86/KKdbafHh1Df/RYGBhn4hbe2+uKC9FnT5UCEdyPz3ai9hQ==",
      "license": "MIT",
      "funding": {
        "type": "github",
        "url": "https://github.com/sponsors/wooorm"
      }
    },
    "node_modules/character-entities-html4": {
      "version": "2.1.0",
      "resolved": "https://registry.npmjs.org/character-entities-html4/-/character-entities-html4-2.1.0.tgz",
      "integrity": "sha512-1v7fgQRj6hnSwFpq1Eu0ynr/CDEw0rXo2B61qXrLNdHZmPKgb7fqS1a2JwF0rISo9q77jDI8VMEHoApn8qDoZA==",
      "license": "MIT",
      "funding": {
        "type": "github",
        "url": "https://github.com/sponsors/wooorm"
      }
    },
    "node_modules/character-entities-legacy": {
      "version": "3.0.0",
      "resolved": "https://registry.npmjs.org/character-entities-legacy/-/character-entities-legacy-3.0.0.tgz",
      "integrity": "sha512-RpPp0asT/6ufRm//AJVwpViZbGM/MkjQFxJccQRHmISF/22NBtsHqAWmL+/pmkPWoIUJdWyeVleTl1wydHATVQ==",
      "license": "MIT",
      "funding": {
        "type": "github",
        "url": "https://github.com/sponsors/wooorm"
      }
    },
    "node_modules/character-reference-invalid": {
      "version": "2.0.1",
      "resolved": "https://registry.npmjs.org/character-reference-invalid/-/character-reference-invalid-2.0.1.tgz",
      "integrity": "sha512-iBZ4F4wRbyORVsu0jPV7gXkOsGYjGHPmAyv+HiHG8gi5PtC9KI2j1+v8/tlibRvjoWX027ypmG/n0HtO5t7unw==",
      "license": "MIT",
      "funding": {
        "type": "github",
        "url": "https://github.com/sponsors/wooorm"
      }
    },
    "node_modules/clsx": {
      "version": "2.1.1",
      "resolved": "https://registry.npmjs.org/clsx/-/clsx-2.1.1.tgz",
      "integrity": "sha512-eYm0QWBtUrBWZWG0d386OGAw16Z995PiOVo2B7bjWSbHedGl5e0ZWaq65kOGgUSNesEIDkB9ISbTg/JK9dhCZA==",
      "license": "MIT",
      "engines": {
        "node": ">=6"
      }
    },
    "node_modules/comma-separated-tokens": {
      "version": "2.0.3",
      "resolved": "https://registry.npmjs.org/comma-separated-tokens/-/comma-separated-tokens-2.0.3.tgz",
      "integrity": "sha512-Fu4hJdvzeylCfQPp9SGWidpzrMs7tTrlu6Vb8XGaRGck8QSNZJJp538Wrb60Lax4fPwR64ViY468OIUTbRlGZg==",
      "license": "MIT",
      "funding": {
        "type": "github",
        "url": "https://github.com/sponsors/wooorm"
      }
    },
    "node_modules/convert-source-map": {
      "version": "2.0.0",
      "resolved": "https://registry.npmjs.org/convert-source-map/-/convert-source-map-2.0.0.tgz",
      "integrity": "sha512-Kvp459HrV2FEJ1CAsi1Ku+MY3kasH19TFykTz2xWmMeq6bk2NU3XXvfJ+Q61m0xktWwt+1HSYf3JZsTms3aRJg==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/cssesc": {
      "version": "3.0.0",
      "resolved": "https://registry.npmjs.org/cssesc/-/cssesc-3.0.0.tgz",
      "integrity": "sha512-/Tb/JcjK111nNScGob5MNtsntNM1aCNUDipB/TkwZFhyDrrE47SOx/18wF2bbjgc3ZzCSKW1T5nt5EbFoAz/Vg==",
      "dev": true,
      "license": "MIT",
      "bin": {
        "cssesc": "bin/cssesc"
      },
      "engines": {
        "node": ">=4"
      }
    },
    "node_modules/csstype": {
      "version": "3.2.3",
      "resolved": "https://registry.npmjs.org/csstype/-/csstype-3.2.3.tgz",
      "integrity": "sha512-z1HGKcYy2xA8AGQfwrn0PAy+PB7X/GSj3UVJW9qKyn43xWa+gl5nXmU4qqLMRzWVLFC8KusUX8T/0kCiOYpAIQ==",
      "license": "MIT",
      "peer": true
    },
    "node_modules/debug": {
      "version": "4.4.3",
      "resolved": "https://registry.npmjs.org/debug/-/debug-4.4.3.tgz",
      "integrity": "sha512-RGwwWnwQvkVfavKVt22FGLw+xYSdzARwm0ru6DhTVA3umU5hZc28V3kO4stgYryrTlLpuvgI9GiijltAjNbcqA==",
      "license": "MIT",
      "dependencies": {
        "ms": "^2.1.3"
      },
      "engines": {
        "node": ">=6.0"
      },
      "peerDependenciesMeta": {
        "supports-color": {
          "optional": true
        }
      }
    },
    "node_modules/decode-named-character-reference": {
      "version": "1.2.0",
      "resolved": "https://registry.npmjs.org/decode-named-character-reference/-/decode-named-character-reference-1.2.0.tgz",
      "integrity": "sha512-c6fcElNV6ShtZXmsgNgFFV5tVX2PaV4g+MOAkb8eXHvn6sryJBrZa9r0zV6+dtTyoCKxtDy5tyQ5ZwQuidtd+Q==",
      "license": "MIT",
      "dependencies": {
        "character-entities": "^2.0.0"
      },
      "funding": {
        "type": "github",
        "url": "https://github.com/sponsors/wooorm"
      }
    },
    "node_modules/dequal": {
      "version": "2.0.3",
      "resolved": "https://registry.npmjs.org/dequal/-/dequal-2.0.3.tgz",
      "integrity": "sha512-0je+qPKHEMohvfRTCEo3CrPG6cAzAYgmzKyxRiYSSDkS6eGJdyVJm7WaYA5ECaAD9wLB2T4EEeymA5aFVcYXCA==",
      "license": "MIT",
      "engines": {
        "node": ">=6"
      }
    },
    "node_modules/detect-libc": {
      "version": "2.1.2",
      "resolved": "https://registry.npmjs.org/detect-libc/-/detect-libc-2.1.2.tgz",
      "integrity": "sha512-Btj2BOOO83o3WyH59e8MgXsxEQVcarkUOpEYrubB0urwnN10yQ364rsiByU11nZlqWYZm05i/of7io4mzihBtQ==",
      "dev": true,
      "license": "Apache-2.0",
      "engines": {
        "node": ">=8"
      }
    },
    "node_modules/devlop": {
      "version": "1.1.0",
      "resolved": "https://registry.npmjs.org/devlop/-/devlop-1.1.0.tgz",
      "integrity": "sha512-RWmIqhcFf1lRYBvNmr7qTNuyCt/7/ns2jbpp1+PalgE/rDQcBT0fioSMUpJ93irlUhC5hrg4cYqe6U+0ImW0rA==",
      "license": "MIT",
      "dependencies": {
        "dequal": "^2.0.0"
      },
      "funding": {
        "type": "github",
        "url": "https://github.com/sponsors/wooorm"
      }
    },
    "node_modules/electron-to-chromium": {
      "version": "1.5.267",
      "resolved": "https://registry.npmjs.org/electron-to-chromium/-/electron-to-chromium-1.5.267.tgz",
      "integrity": "sha512-0Drusm6MVRXSOJpGbaSVgcQsuB4hEkMpHXaVstcPmhu5LIedxs1xNK/nIxmQIU/RPC0+1/o0AVZfBTkTNJOdUw==",
      "dev": true,
      "license": "ISC"
    },
    "node_modules/enhanced-resolve": {
      "version": "5.18.4",
      "resolved": "https://registry.npmjs.org/enhanced-resolve/-/enhanced-resolve-5.18.4.tgz",
      "integrity": "sha512-LgQMM4WXU3QI+SYgEc2liRgznaD5ojbmY3sb8LxyguVkIg5FxdpTkvk72te2R38/TGKxH634oLxXRGY6d7AP+Q==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "graceful-fs": "^4.2.4",
        "tapable": "^2.2.0"
      },
      "engines": {
        "node": ">=10.13.0"
      }
    },
    "node_modules/esbuild": {
      "version": "0.25.12",
      "resolved": "https://registry.npmjs.org/esbuild/-/esbuild-0.25.12.tgz",
      "integrity": "sha512-bbPBYYrtZbkt6Os6FiTLCTFxvq4tt3JKall1vRwshA3fdVztsLAatFaZobhkBC8/BrPetoa0oksYoKXoG4ryJg==",
      "dev": true,
      "hasInstallScript": true,
      "license": "MIT",
      "bin": {
        "esbuild": "bin/esbuild"
      },
      "engines": {
        "node": ">=18"
      },
      "optionalDependencies": {
        "@esbuild/aix-ppc64": "0.25.12",
        "@esbuild/android-arm": "0.25.12",
        "@esbuild/android-arm64": "0.25.12",
        "@esbuild/android-x64": "0.25.12",
        "@esbuild/darwin-arm64": "0.25.12",
        "@esbuild/darwin-x64": "0.25.12",
        "@esbuild/freebsd-arm64": "0.25.12",
        "@esbuild/freebsd-x64": "0.25.12",
        "@esbuild/linux-arm": "0.25.12",
        "@esbuild/linux-arm64": "0.25.12",
        "@esbuild/linux-ia32": "0.25.12",
        "@esbuild/linux-loong64": "0.25.12",
        "@esbuild/linux-mips64el": "0.25.12",
        "@esbuild/linux-ppc64": "0.25.12",
        "@esbuild/linux-riscv64": "0.25.12",
        "@esbuild/linux-s390x": "0.25.12",
        "@esbuild/linux-x64": "0.25.12",
        "@esbuild/netbsd-arm64": "0.25.12",
        "@esbuild/netbsd-x64": "0.25.12",
        "@esbuild/openbsd-arm64": "0.25.12",
        "@esbuild/openbsd-x64": "0.25.12",
        "@esbuild/openharmony-arm64": "0.25.12",
        "@esbuild/sunos-x64": "0.25.12",
        "@esbuild/win32-arm64": "0.25.12",
        "@esbuild/win32-ia32": "0.25.12",
        "@esbuild/win32-x64": "0.25.12"
      }
    },
    "node_modules/escalade": {
      "version": "3.2.0",
      "resolved": "https://registry.npmjs.org/escalade/-/escalade-3.2.0.tgz",
      "integrity": "sha512-WUj2qlxaQtO4g6Pq5c29GTcWGDyd8itL8zTlipgECz3JesAiiOKotd8JU6otB3PACgG6xkJUyVhboMS+bje/jA==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=6"
      }
    },
    "node_modules/escape-string-regexp": {
      "version": "5.0.0",
      "resolved": "https://registry.npmjs.org/escape-string-regexp/-/escape-string-regexp-5.0.0.tgz",
      "integrity": "sha512-/veY75JbMK4j1yjvuUxuVsiS/hr/4iHs9FTT6cgTexxdE0Ly/glccBAkloH/DofkjRbZU3bnoj38mOmhkZ0lHw==",
      "license": "MIT",
      "engines": {
        "node": ">=12"
      },
      "funding": {
        "url": "https://github.com/sponsors/sindresorhus"
      }
    },
    "node_modules/estree-util-is-identifier-name": {
      "version": "3.0.0",
      "resolved": "https://registry.npmjs.org/estree-util-is-identifier-name/-/estree-util-is-identifier-name-3.0.0.tgz",
      "integrity": "sha512-hFtqIDZTIUZ9BXLb8y4pYGyk6+wekIivNVTcmvk8NoOh+VeRn5y6cEHzbURrWbfp1fIqdVipilzj+lfaadNZmg==",
      "license": "MIT",
      "funding": {
        "type": "opencollective",
        "url": "https://opencollective.com/unified"
      }
    },
    "node_modules/extend": {
      "version": "3.0.2",
      "resolved": "https://registry.npmjs.org/extend/-/extend-3.0.2.tgz",
      "integrity": "sha512-fjquC59cD7CyW6urNXK0FBufkZcoiGG80wTuPujX590cB5Ttln20E2UB4S/WARVqhXffZl2LNgS+gQdPIIim/g==",
      "license": "MIT"
    },
    "node_modules/fdir": {
      "version": "6.5.0",
      "resolved": "https://registry.npmjs.org/fdir/-/fdir-6.5.0.tgz",
      "integrity": "sha512-tIbYtZbucOs0BRGqPJkshJUYdL+SDH7dVM8gjy+ERp3WAUjLEFJE+02kanyHtwjWOnwrKYBiwAmM0p4kLJAnXg==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=12.0.0"
      },
      "peerDependencies": {
        "picomatch": "^3 || ^4"
      },
      "peerDependenciesMeta": {
        "picomatch": {
          "optional": true
        }
      }
    },
    "node_modules/fraction.js": {
      "version": "5.3.4",
      "resolved": "https://registry.npmjs.org/fraction.js/-/fraction.js-5.3.4.tgz",
      "integrity": "sha512-1X1NTtiJphryn/uLQz3whtY6jK3fTqoE3ohKs0tT+Ujr1W59oopxmoEh7Lu5p6vBaPbgoM0bzveAW4Qi5RyWDQ==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": "*"
      },
      "funding": {
        "type": "github",
        "url": "https://github.com/sponsors/rawify"
      }
    },
    "node_modules/fsevents": {
      "version": "2.3.3",
      "resolved": "https://registry.npmjs.org/fsevents/-/fsevents-2.3.3.tgz",
      "integrity": "sha512-5xoDfX+fL7faATnagmWPpbFtwh/R77WmMMqqHGS65C3vvB0YHrgF+B1YmZ3441tMj5n63k0212XNoJwzlhffQw==",
      "dev": true,
      "hasInstallScript": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "darwin"
      ],
      "engines": {
        "node": "^8.16.0 || ^10.6.0 || >=11.0.0"
      }
    },
    "node_modules/gensync": {
      "version": "1.0.0-beta.2",
      "resolved": "https://registry.npmjs.org/gensync/-/gensync-1.0.0-beta.2.tgz",
      "integrity": "sha512-3hN7NaskYvMDLQY55gnW3NQ+mesEAepTqlg+VEbj7zzqEMBVNhzcGYYeqFo/TlYz6eQiFcp1HcsCZO+nGgS8zg==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=6.9.0"
      }
    },
    "node_modules/graceful-fs": {
      "version": "4.2.11",
      "resolved": "https://registry.npmjs.org/graceful-fs/-/graceful-fs-4.2.11.tgz",
      "integrity": "sha512-RbJ5/jmFcNNCcDV5o9eTnBLJ/HszWV0P73bc+Ff4nS/rJj+YaS6IGyiOL0VoBYX+l1Wrl3k63h/KrH+nhJ0XvQ==",
      "dev": true,
      "license": "ISC"
    },
    "node_modules/hast-util-to-jsx-runtime": {
      "version": "2.3.6",
      "resolved": "https://registry.npmjs.org/hast-util-to-jsx-runtime/-/hast-util-to-jsx-runtime-2.3.6.tgz",
      "integrity": "sha512-zl6s8LwNyo1P9uw+XJGvZtdFF1GdAkOg8ujOw+4Pyb76874fLps4ueHXDhXWdk6YHQ6OgUtinliG7RsYvCbbBg==",
      "license": "MIT",
      "dependencies": {
        "@types/estree": "^1.0.0",
        "@types/hast": "^3.0.0",
        "@types/unist": "^3.0.0",
        "comma-separated-tokens": "^2.0.0",
        "devlop": "^1.0.0",
        "estree-util-is-identifier-name": "^3.0.0",
        "hast-util-whitespace": "^3.0.0",
        "mdast-util-mdx-expression": "^2.0.0",
        "mdast-util-mdx-jsx": "^3.0.0",
        "mdast-util-mdxjs-esm": "^2.0.0",
        "property-information": "^7.0.0",
        "space-separated-tokens": "^2.0.0",
        "style-to-js": "^1.0.0",
        "unist-util-position": "^5.0.0",
        "vfile-message": "^4.0.0"
      },
      "funding": {
        "type": "opencollective",
        "url": "https://opencollective.com/unified"
      }
    },
    "node_modules/hast-util-whitespace": {
      "version": "3.0.0",
      "resolved": "https://registry.npmjs.org/hast-util-whitespace/-/hast-util-whitespace-3.0.0.tgz",
      "integrity": "sha512-88JUN06ipLwsnv+dVn+OIYOvAuvBMy/Qoi6O7mQHxdPXpjy+Cd6xRkWwux7DKO+4sYILtLBRIKgsdpS2gQc7qw==",
      "license": "MIT",
      "dependencies": {
        "@types/hast": "^3.0.0"
      },
      "funding": {
        "type": "opencollective",
        "url": "https://opencollective.com/unified"
      }
    },
    "node_modules/html-url-attributes": {
      "version": "3.0.1",
      "resolved": "https://registry.npmjs.org/html-url-attributes/-/html-url-attributes-3.0.1.tgz",
      "integrity": "sha512-ol6UPyBWqsrO6EJySPz2O7ZSr856WDrEzM5zMqp+FJJLGMW35cLYmmZnl0vztAZxRUoNZJFTCohfjuIJ8I4QBQ==",
      "license": "MIT",
      "funding": {
        "type": "opencollective",
        "url": "https://opencollective.com/unified"
      }
    },
    "node_modules/inline-style-parser": {
      "version": "0.2.7",
      "resolved": "https://registry.npmjs.org/inline-style-parser/-/inline-style-parser-0.2.7.tgz",
      "integrity": "sha512-Nb2ctOyNR8DqQoR0OwRG95uNWIC0C1lCgf5Naz5H6Ji72KZ8OcFZLz2P5sNgwlyoJ8Yif11oMuYs5pBQa86csA==",
      "license": "MIT"
    },
    "node_modules/is-alphabetical": {
      "version": "2.0.1",
      "resolved": "https://registry.npmjs.org/is-alphabetical/-/is-alphabetical-2.0.1.tgz",
      "integrity": "sha512-FWyyY60MeTNyeSRpkM2Iry0G9hpr7/9kD40mD/cGQEuilcZYS4okz8SN2Q6rLCJ8gbCt6fN+rC+6tMGS99LaxQ==",
      "license": "MIT",
      "funding": {
        "type": "github",
        "url": "https://github.com/sponsors/wooorm"
      }
    },
    "node_modules/is-alphanumerical": {
      "version": "2.0.1",
      "resolved": "https://registry.npmjs.org/is-alphanumerical/-/is-alphanumerical-2.0.1.tgz",
      "integrity": "sha512-hmbYhX/9MUMF5uh7tOXyK/n0ZvWpad5caBA17GsC6vyuCqaWliRG5K1qS9inmUhEMaOBIW7/whAnSwveW/LtZw==",
      "license": "MIT",
      "dependencies": {
        "is-alphabetical": "^2.0.0",
        "is-decimal": "^2.0.0"
      },
      "funding": {
        "type": "github",
        "url": "https://github.com/sponsors/wooorm"
      }
    },
    "node_modules/is-decimal": {
      "version": "2.0.1",
      "resolved": "https://registry.npmjs.org/is-decimal/-/is-decimal-2.0.1.tgz",
      "integrity": "sha512-AAB9hiomQs5DXWcRB1rqsxGUstbRroFOPPVAomNk/3XHR5JyEZChOyTWe2oayKnsSsr/kcGqF+z6yuH6HHpN0A==",
      "license": "MIT",
      "funding": {
        "type": "github",
        "url": "https://github.com/sponsors/wooorm"
      }
    },
    "node_modules/is-hexadecimal": {
      "version": "2.0.1",
      "resolved": "https://registry.npmjs.org/is-hexadecimal/-/is-hexadecimal-2.0.1.tgz",
      "integrity": "sha512-DgZQp241c8oO6cA1SbTEWiXeoxV42vlcJxgH+B3hi1AiqqKruZR3ZGF8In3fj4+/y/7rHvlOZLZtgJ/4ttYGZg==",
      "license": "MIT",
      "funding": {
        "type": "github",
        "url": "https://github.com/sponsors/wooorm"
      }
    },
    "node_modules/is-plain-obj": {
      "version": "4.1.0",
      "resolved": "https://registry.npmjs.org/is-plain-obj/-/is-plain-obj-4.1.0.tgz",
      "integrity": "sha512-+Pgi+vMuUNkJyExiMBt5IlFoMyKnr5zhJ4Uspz58WOhBF5QoIZkFyNHIbBAtHwzVAgk5RtndVNsDRN61/mmDqg==",
      "license": "MIT",
      "engines": {
        "node": ">=12"
      },
      "funding": {
        "url": "https://github.com/sponsors/sindresorhus"
      }
    },
    "node_modules/jiti": {
      "version": "2.6.1",
      "resolved": "https://registry.npmjs.org/jiti/-/jiti-2.6.1.tgz",
      "integrity": "sha512-ekilCSN1jwRvIbgeg/57YFh8qQDNbwDb9xT/qu2DAHbFFZUicIl4ygVaAvzveMhMVr3LnpSKTNnwt8PoOfmKhQ==",
      "dev": true,
      "license": "MIT",
      "bin": {
        "jiti": "lib/jiti-cli.mjs"
      }
    },
    "node_modules/js-tokens": {
      "version": "4.0.0",
      "resolved": "https://registry.npmjs.org/js-tokens/-/js-tokens-4.0.0.tgz",
      "integrity": "sha512-RdJUflcE3cUzKiMqQgsCu06FPu9UdIJO0beYbPhHN4k6apgJtifcoCtT9bcxOpYBtpD2kCM6Sbzg4CausW/PKQ==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/jsesc": {
      "version": "3.1.0",
      "resolved": "https://registry.npmjs.org/jsesc/-/jsesc-3.1.0.tgz",
      "integrity": "sha512-/sM3dO2FOzXjKQhJuo0Q173wf2KOo8t4I8vHy6lF9poUp7bKT0/NHE8fPX23PwfhnykfqnC2xRxOnVw5XuGIaA==",
      "dev": true,
      "license": "MIT",
      "bin": {
        "jsesc": "bin/jsesc"
      },
      "engines": {
        "node": ">=6"
      }
    },
    "node_modules/json5": {
      "version": "2.2.3",
      "resolved": "https://registry.npmjs.org/json5/-/json5-2.2.3.tgz",
      "integrity": "sha512-XmOWe7eyHYH14cLdVPoyg+GOH3rYX++KpzrylJwSW98t3Nk+U8XOl8FWKOgwtzdb8lXGf6zYwDUzeHMWfxasyg==",
      "dev": true,
      "license": "MIT",
      "bin": {
        "json5": "lib/cli.js"
      },
      "engines": {
        "node": ">=6"
      }
    },
    "node_modules/lightningcss": {
      "version": "1.30.2",
      "resolved": "https://registry.npmjs.org/lightningcss/-/lightningcss-1.30.2.tgz",
      "integrity": "sha512-utfs7Pr5uJyyvDETitgsaqSyjCb2qNRAtuqUeWIAKztsOYdcACf2KtARYXg2pSvhkt+9NfoaNY7fxjl6nuMjIQ==",
      "dev": true,
      "license": "MPL-2.0",
      "dependencies": {
        "detect-libc": "^2.0.3"
      },
      "engines": {
        "node": ">= 12.0.0"
      },
      "funding": {
        "type": "opencollective",
        "url": "https://opencollective.com/parcel"
      },
      "optionalDependencies": {
        "lightningcss-android-arm64": "1.30.2",
        "lightningcss-darwin-arm64": "1.30.2",
        "lightningcss-darwin-x64": "1.30.2",
        "lightningcss-freebsd-x64": "1.30.2",
        "lightningcss-linux-arm-gnueabihf": "1.30.2",
        "lightningcss-linux-arm64-gnu": "1.30.2",
        "lightningcss-linux-arm64-musl": "1.30.2",
        "lightningcss-linux-x64-gnu": "1.30.2",
        "lightningcss-linux-x64-musl": "1.30.2",
        "lightningcss-win32-arm64-msvc": "1.30.2",
        "lightningcss-win32-x64-msvc": "1.30.2"
      }
    },
    "node_modules/lightningcss-android-arm64": {
      "version": "1.30.2",
      "resolved": "https://registry.npmjs.org/lightningcss-android-arm64/-/lightningcss-android-arm64-1.30.2.tgz",
      "integrity": "sha512-BH9sEdOCahSgmkVhBLeU7Hc9DWeZ1Eb6wNS6Da8igvUwAe0sqROHddIlvU06q3WyXVEOYDZ6ykBZQnjTbmo4+A==",
      "cpu": [
        "arm64"
      ],
      "dev": true,
      "license": "MPL-2.0",
      "optional": true,
      "os": [
        "android"
      ],
      "engines": {
        "node": ">= 12.0.0"
      },
      "funding": {
        "type": "opencollective",
        "url": "https://opencollective.com/parcel"
      }
    },
    "node_modules/lightningcss-darwin-arm64": {
      "version": "1.30.2",
      "resolved": "https://registry.npmjs.org/lightningcss-darwin-arm64/-/lightningcss-darwin-arm64-1.30.2.tgz",
      "integrity": "sha512-ylTcDJBN3Hp21TdhRT5zBOIi73P6/W0qwvlFEk22fkdXchtNTOU4Qc37SkzV+EKYxLouZ6M4LG9NfZ1qkhhBWA==",
      "cpu": [
        "arm64"
      ],
      "dev": true,
      "license": "MPL-2.0",
      "optional": true,
      "os": [
        "darwin"
      ],
      "engines": {
        "node": ">= 12.0.0"
      },
      "funding": {
        "type": "opencollective",
        "url": "https://opencollective.com/parcel"
      }
    },
    "node_modules/lightningcss-darwin-x64": {
      "version": "1.30.2",
      "resolved": "https://registry.npmjs.org/lightningcss-darwin-x64/-/lightningcss-darwin-x64-1.30.2.tgz",
      "integrity": "sha512-oBZgKchomuDYxr7ilwLcyms6BCyLn0z8J0+ZZmfpjwg9fRVZIR5/GMXd7r9RH94iDhld3UmSjBM6nXWM2TfZTQ==",
      "cpu": [
        "x64"
      ],
      "dev": true,
      "license": "MPL-2.0",
      "optional": true,
      "os": [
        "darwin"
      ],
      "engines": {
        "node": ">= 12.0.0"
      },
      "funding": {
        "type": "opencollective",
        "url": "https://opencollective.com/parcel"
      }
    },
    "node_modules/lightningcss-freebsd-x64": {
      "version": "1.30.2",
      "resolved": "https://registry.npmjs.org/lightningcss-freebsd-x64/-/lightningcss-freebsd-x64-1.30.2.tgz",
      "integrity": "sha512-c2bH6xTrf4BDpK8MoGG4Bd6zAMZDAXS569UxCAGcA7IKbHNMlhGQ89eRmvpIUGfKWNVdbhSbkQaWhEoMGmGslA==",
      "cpu": [
        "x64"
      ],
      "dev": true,
      "license": "MPL-2.0",
      "optional": true,
      "os": [
        "freebsd"
      ],
      "engines": {
        "node": ">= 12.0.0"
      },
      "funding": {
        "type": "opencollective",
        "url": "https://opencollective.com/parcel"
      }
    },
    "node_modules/lightningcss-linux-arm-gnueabihf": {
      "version": "1.30.2",
      "resolved": "https://registry.npmjs.org/lightningcss-linux-arm-gnueabihf/-/lightningcss-linux-arm-gnueabihf-1.30.2.tgz",
      "integrity": "sha512-eVdpxh4wYcm0PofJIZVuYuLiqBIakQ9uFZmipf6LF/HRj5Bgm0eb3qL/mr1smyXIS1twwOxNWndd8z0E374hiA==",
      "cpu": [
        "arm"
      ],
      "dev": true,
      "license": "MPL-2.0",
      "optional": true,
      "os": [
        "linux"
      ],
      "engines": {
        "node": ">= 12.0.0"
      },
      "funding": {
        "type": "opencollective",
        "url": "https://opencollective.com/parcel"
      }
    },
    "node_modules/lightningcss-linux-arm64-gnu": {
      "version": "1.30.2",
      "resolved": "https://registry.npmjs.org/lightningcss-linux-arm64-gnu/-/lightningcss-linux-arm64-gnu-1.30.2.tgz",
      "integrity": "sha512-UK65WJAbwIJbiBFXpxrbTNArtfuznvxAJw4Q2ZGlU8kPeDIWEX1dg3rn2veBVUylA2Ezg89ktszWbaQnxD/e3A==",
      "cpu": [
        "arm64"
      ],
      "dev": true,
      "license": "MPL-2.0",
      "optional": true,
      "os": [
        "linux"
      ],
      "engines": {
        "node": ">= 12.0.0"
      },
      "funding": {
        "type": "opencollective",
        "url": "https://opencollective.com/parcel"
      }
    },
    "node_modules/lightningcss-linux-arm64-musl": {
      "version": "1.30.2",
      "resolved": "https://registry.npmjs.org/lightningcss-linux-arm64-musl/-/lightningcss-linux-arm64-musl-1.30.2.tgz",
      "integrity": "sha512-5Vh9dGeblpTxWHpOx8iauV02popZDsCYMPIgiuw97OJ5uaDsL86cnqSFs5LZkG3ghHoX5isLgWzMs+eD1YzrnA==",
      "cpu": [
        "arm64"
      ],
      "dev": true,
      "license": "MPL-2.0",
      "optional": true,
      "os": [
        "linux"
      ],
      "engines": {
        "node": ">= 12.0.0"
      },
      "funding": {
        "type": "opencollective",
        "url": "https://opencollective.com/parcel"
      }
    },
    "node_modules/lightningcss-linux-x64-gnu": {
      "version": "1.30.2",
      "resolved": "https://registry.npmjs.org/lightningcss-linux-x64-gnu/-/lightningcss-linux-x64-gnu-1.30.2.tgz",
      "integrity": "sha512-Cfd46gdmj1vQ+lR6VRTTadNHu6ALuw2pKR9lYq4FnhvgBc4zWY1EtZcAc6EffShbb1MFrIPfLDXD6Xprbnni4w==",
      "cpu": [
        "x64"
      ],
      "dev": true,
      "license": "MPL-2.0",
      "optional": true,
      "os": [
        "linux"
      ],
      "engines": {
        "node": ">= 12.0.0"
      },
      "funding": {
        "type": "opencollective",
        "url": "https://opencollective.com/parcel"
      }
    },
    "node_modules/lightningcss-linux-x64-musl": {
      "version": "1.30.2",
      "resolved": "https://registry.npmjs.org/lightningcss-linux-x64-musl/-/lightningcss-linux-x64-musl-1.30.2.tgz",
      "integrity": "sha512-XJaLUUFXb6/QG2lGIW6aIk6jKdtjtcffUT0NKvIqhSBY3hh9Ch+1LCeH80dR9q9LBjG3ewbDjnumefsLsP6aiA==",
      "cpu": [
        "x64"
      ],
      "dev": true,
      "license": "MPL-2.0",
      "optional": true,
      "os": [
        "linux"
      ],
      "engines": {
        "node": ">= 12.0.0"
      },
      "funding": {
        "type": "opencollective",
        "url": "https://opencollective.com/parcel"
      }
    },
    "node_modules/lightningcss-win32-arm64-msvc": {
      "version": "1.30.2",
      "resolved": "https://registry.npmjs.org/lightningcss-win32-arm64-msvc/-/lightningcss-win32-arm64-msvc-1.30.2.tgz",
      "integrity": "sha512-FZn+vaj7zLv//D/192WFFVA0RgHawIcHqLX9xuWiQt7P0PtdFEVaxgF9rjM/IRYHQXNnk61/H/gb2Ei+kUQ4xQ==",
      "cpu": [
        "arm64"
      ],
      "dev": true,
      "license": "MPL-2.0",
      "optional": true,
      "os": [
        "win32"
      ],
      "engines": {
        "node": ">= 12.0.0"
      },
      "funding": {
        "type": "opencollective",
        "url": "https://opencollective.com/parcel"
      }
    },
    "node_modules/lightningcss-win32-x64-msvc": {
      "version": "1.30.2",
      "resolved": "https://registry.npmjs.org/lightningcss-win32-x64-msvc/-/lightningcss-win32-x64-msvc-1.30.2.tgz",
      "integrity": "sha512-5g1yc73p+iAkid5phb4oVFMB45417DkRevRbt/El/gKXJk4jid+vPFF/AXbxn05Aky8PapwzZrdJShv5C0avjw==",
      "cpu": [
        "x64"
      ],
      "dev": true,
      "license": "MPL-2.0",
      "optional": true,
      "os": [
        "win32"
      ],
      "engines": {
        "node": ">= 12.0.0"
      },
      "funding": {
        "type": "opencollective",
        "url": "https://opencollective.com/parcel"
      }
    },
    "node_modules/longest-streak": {
      "version": "3.1.0",
      "resolved": "https://registry.npmjs.org/longest-streak/-/longest-streak-3.1.0.tgz",
      "integrity": "sha512-9Ri+o0JYgehTaVBBDoMqIl8GXtbWg711O3srftcHhZ0dqnETqLaoIK0x17fUw9rFSlK/0NlsKe0Ahhyl5pXE2g==",
      "license": "MIT",
      "funding": {
        "type": "github",
        "url": "https://github.com/sponsors/wooorm"
      }
    },
    "node_modules/lru-cache": {
      "version": "5.1.1",
      "resolved": "https://registry.npmjs.org/lru-cache/-/lru-cache-5.1.1.tgz",
      "integrity": "sha512-KpNARQA3Iwv+jTA0utUVVbrh+Jlrr1Fv0e56GGzAFOXN7dk/FviaDW8LHmK52DlcH4WP2n6gI8vN1aesBFgo9w==",
      "dev": true,
      "license": "ISC",
      "dependencies": {
        "yallist": "^3.0.2"
      }
    },
    "node_modules/lucide-react": {
      "version": "0.561.0",
      "resolved": "https://registry.npmjs.org/lucide-react/-/lucide-react-0.561.0.tgz",
      "integrity": "sha512-Y59gMY38tl4/i0qewcqohPdEbieBy7SovpBL9IFebhc2mDd8x4PZSOsiFRkpPcOq6bj1r/mjH/Rk73gSlIJP2A==",
      "license": "ISC",
      "peerDependencies": {
        "react": "^16.5.1 || ^17.0.0 || ^18.0.0 || ^19.0.0"
      }
    },
    "node_modules/magic-string": {
      "version": "0.30.21",
      "resolved": "https://registry.npmjs.org/magic-string/-/magic-string-0.30.21.tgz",
      "integrity": "sha512-vd2F4YUyEXKGcLHoq+TEyCjxueSeHnFxyyjNp80yg0XV4vUhnDer/lvvlqM/arB5bXQN5K2/3oinyCRyx8T2CQ==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@jridgewell/sourcemap-codec": "^1.5.5"
      }
    },
    "node_modules/markdown-table": {
      "version": "3.0.4",
      "resolved": "https://registry.npmjs.org/markdown-table/-/markdown-table-3.0.4.tgz",
      "integrity": "sha512-wiYz4+JrLyb/DqW2hkFJxP7Vd7JuTDm77fvbM8VfEQdmSMqcImWeeRbHwZjBjIFki/VaMK2BhFi7oUUZeM5bqw==",
      "license": "MIT",
      "funding": {
        "type": "github",
        "url": "https://github.com/sponsors/wooorm"
      }
    },
    "node_modules/mdast-util-find-and-replace": {
      "version": "3.0.2",
      "resolved": "https://registry.npmjs.org/mdast-util-find-and-replace/-/mdast-util-find-and-replace-3.0.2.tgz",
      "integrity": "sha512-Tmd1Vg/m3Xz43afeNxDIhWRtFZgM2VLyaf4vSTYwudTyeuTneoL3qtWMA5jeLyz/O1vDJmmV4QuScFCA2tBPwg==",
      "license": "MIT",
      "dependencies": {
        "@types/mdast": "^4.0.0",
        "escape-string-regexp": "^5.0.0",
        "unist-util-is": "^6.0.0",
        "unist-util-visit-parents": "^6.0.0"
      },
      "funding": {
        "type": "opencollective",
        "url": "https://opencollective.com/unified"
      }
    },
    "node_modules/mdast-util-from-markdown": {
      "version": "2.0.2",
      "resolved": "https://registry.npmjs.org/mdast-util-from-markdown/-/mdast-util-from-markdown-2.0.2.tgz",
      "integrity": "sha512-uZhTV/8NBuw0WHkPTrCqDOl0zVe1BIng5ZtHoDk49ME1qqcjYmmLmOf0gELgcRMxN4w2iuIeVso5/6QymSrgmA==",
      "license": "MIT",
      "dependencies": {
        "@types/mdast": "^4.0.0",
        "@types/unist": "^3.0.0",
        "decode-named-character-reference": "^1.0.0",
        "devlop": "^1.0.0",
        "mdast-util-to-string": "^4.0.0",
        "micromark": "^4.0.0",
        "micromark-util-decode-numeric-character-reference": "^2.0.0",
        "micromark-util-decode-string": "^2.0.0",
        "micromark-util-normalize-identifier": "^2.0.0",
        "micromark-util-symbol": "^2.0.0",
        "micromark-util-types": "^2.0.0",
        "unist-util-stringify-position": "^4.0.0"
      },
      "funding": {
        "type": "opencollective",
        "url": "https://opencollective.com/unified"
      }
    },
    "node_modules/mdast-util-gfm": {
      "version": "3.1.0",
      "resolved": "https://registry.npmjs.org/mdast-util-gfm/-/mdast-util-gfm-3.1.0.tgz",
      "integrity": "sha512-0ulfdQOM3ysHhCJ1p06l0b0VKlhU0wuQs3thxZQagjcjPrlFRqY215uZGHHJan9GEAXd9MbfPjFJz+qMkVR6zQ==",
      "license": "MIT",
      "dependencies": {
        "mdast-util-from-markdown": "^2.0.0",
        "mdast-util-gfm-autolink-literal": "^2.0.0",
        "mdast-util-gfm-footnote": "^2.0.0",
        "mdast-util-gfm-strikethrough": "^2.0.0",
        "mdast-util-gfm-table": "^2.0.0",
        "mdast-util-gfm-task-list-item": "^2.0.0",
        "mdast-util-to-markdown": "^2.0.0"
      },
      "funding": {
        "type": "opencollective",
        "url": "https://opencollective.com/unified"
      }
    },
    "node_modules/mdast-util-gfm-autolink-literal": {
      "version": "2.0.1",
      "resolved": "https://registry.npmjs.org/mdast-util-gfm-autolink-literal/-/mdast-util-gfm-autolink-literal-2.0.1.tgz",
      "integrity": "sha512-5HVP2MKaP6L+G6YaxPNjuL0BPrq9orG3TsrZ9YXbA3vDw/ACI4MEsnoDpn6ZNm7GnZgtAcONJyPhOP8tNJQavQ==",
      "license": "MIT",
      "dependencies": {
        "@types/mdast": "^4.0.0",
        "ccount": "^2.0.0",
        "devlop": "^1.0.0",
        "mdast-util-find-and-replace": "^3.0.0",
        "micromark-util-character": "^2.0.0"
      },
      "funding": {
        "type": "opencollective",
        "url": "https://opencollective.com/unified"
      }
    },
    "node_modules/mdast-util-gfm-footnote": {
      "version": "2.1.0",
      "resolved": "https://registry.npmjs.org/mdast-util-gfm-footnote/-/mdast-util-gfm-footnote-2.1.0.tgz",
      "integrity": "sha512-sqpDWlsHn7Ac9GNZQMeUzPQSMzR6Wv0WKRNvQRg0KqHh02fpTz69Qc1QSseNX29bhz1ROIyNyxExfawVKTm1GQ==",
      "license": "MIT",
      "dependencies": {
        "@types/mdast": "^4.0.0",
        "devlop": "^1.1.0",
        "mdast-util-from-markdown": "^2.0.0",
        "mdast-util-to-markdown": "^2.0.0",
        "micromark-util-normalize-identifier": "^2.0.0"
      },
      "funding": {
        "type": "opencollective",
        "url": "https://opencollective.com/unified"
      }
    },
    "node_modules/mdast-util-gfm-strikethrough": {
      "version": "2.0.0",
      "resolved": "https://registry.npmjs.org/mdast-util-gfm-strikethrough/-/mdast-util-gfm-strikethrough-2.0.0.tgz",
      "integrity": "sha512-mKKb915TF+OC5ptj5bJ7WFRPdYtuHv0yTRxK2tJvi+BDqbkiG7h7u/9SI89nRAYcmap2xHQL9D+QG/6wSrTtXg==",
      "license": "MIT",
      "dependencies": {
        "@types/mdast": "^4.0.0",
        "mdast-util-from-markdown": "^2.0.0",
        "mdast-util-to-markdown": "^2.0.0"
      },
      "funding": {
        "type": "opencollective",
        "url": "https://opencollective.com/unified"
      }
    },
    "node_modules/mdast-util-gfm-table": {
      "version": "2.0.0",
      "resolved": "https://registry.npmjs.org/mdast-util-gfm-table/-/mdast-util-gfm-table-2.0.0.tgz",
      "integrity": "sha512-78UEvebzz/rJIxLvE7ZtDd/vIQ0RHv+3Mh5DR96p7cS7HsBhYIICDBCu8csTNWNO6tBWfqXPWekRuj2FNOGOZg==",
      "license": "MIT",
      "dependencies": {
        "@types/mdast": "^4.0.0",
        "devlop": "^1.0.0",
        "markdown-table": "^3.0.0",
        "mdast-util-from-markdown": "^2.0.0",
        "mdast-util-to-markdown": "^2.0.0"
      },
      "funding": {
        "type": "opencollective",
        "url": "https://opencollective.com/unified"
      }
    },
    "node_modules/mdast-util-gfm-task-list-item": {
      "version": "2.0.0",
      "resolved": "https://registry.npmjs.org/mdast-util-gfm-task-list-item/-/mdast-util-gfm-task-list-item-2.0.0.tgz",
      "integrity": "sha512-IrtvNvjxC1o06taBAVJznEnkiHxLFTzgonUdy8hzFVeDun0uTjxxrRGVaNFqkU1wJR3RBPEfsxmU6jDWPofrTQ==",
      "license": "MIT",
      "dependencies": {
        "@types/mdast": "^4.0.0",
        "devlop": "^1.0.0",
        "mdast-util-from-markdown": "^2.0.0",
        "mdast-util-to-markdown": "^2.0.0"
      },
      "funding": {
        "type": "opencollective",
        "url": "https://opencollective.com/unified"
      }
    },
    "node_modules/mdast-util-mdx-expression": {
      "version": "2.0.1",
      "resolved": "https://registry.npmjs.org/mdast-util-mdx-expression/-/mdast-util-mdx-expression-2.0.1.tgz",
      "integrity": "sha512-J6f+9hUp+ldTZqKRSg7Vw5V6MqjATc+3E4gf3CFNcuZNWD8XdyI6zQ8GqH7f8169MM6P7hMBRDVGnn7oHB9kXQ==",
      "license": "MIT",
      "dependencies": {
        "@types/estree-jsx": "^1.0.0",
        "@types/hast": "^3.0.0",
        "@types/mdast": "^4.0.0",
        "devlop": "^1.0.0",
        "mdast-util-from-markdown": "^2.0.0",
        "mdast-util-to-markdown": "^2.0.0"
      },
      "funding": {
        "type": "opencollective",
        "url": "https://opencollective.com/unified"
      }
    },
    "node_modules/mdast-util-mdx-jsx": {
      "version": "3.2.0",
      "resolved": "https://registry.npmjs.org/mdast-util-mdx-jsx/-/mdast-util-mdx-jsx-3.2.0.tgz",
      "integrity": "sha512-lj/z8v0r6ZtsN/cGNNtemmmfoLAFZnjMbNyLzBafjzikOM+glrjNHPlf6lQDOTccj9n5b0PPihEBbhneMyGs1Q==",
      "license": "MIT",
      "dependencies": {
        "@types/estree-jsx": "^1.0.0",
        "@types/hast": "^3.0.0",
        "@types/mdast": "^4.0.0",
        "@types/unist": "^3.0.0",
        "ccount": "^2.0.0",
        "devlop": "^1.1.0",
        "mdast-util-from-markdown": "^2.0.0",
        "mdast-util-to-markdown": "^2.0.0",
        "parse-entities": "^4.0.0",
        "stringify-entities": "^4.0.0",
        "unist-util-stringify-position": "^4.0.0",
        "vfile-message": "^4.0.0"
      },
      "funding": {
        "type": "opencollective",
        "url": "https://opencollective.com/unified"
      }
    },
    "node_modules/mdast-util-mdxjs-esm": {
      "version": "2.0.1",
      "resolved": "https://registry.npmjs.org/mdast-util-mdxjs-esm/-/mdast-util-mdxjs-esm-2.0.1.tgz",
      "integrity": "sha512-EcmOpxsZ96CvlP03NghtH1EsLtr0n9Tm4lPUJUBccV9RwUOneqSycg19n5HGzCf+10LozMRSObtVr3ee1WoHtg==",
      "license": "MIT",
      "dependencies": {
        "@types/estree-jsx": "^1.0.0",
        "@types/hast": "^3.0.0",
        "@types/mdast": "^4.0.0",
        "devlop": "^1.0.0",
        "mdast-util-from-markdown": "^2.0.0",
        "mdast-util-to-markdown": "^2.0.0"
      },
      "funding": {
        "type": "opencollective",
        "url": "https://opencollective.com/unified"
      }
    },
    "node_modules/mdast-util-phrasing": {
      "version": "4.1.0",
      "resolved": "https://registry.npmjs.org/mdast-util-phrasing/-/mdast-util-phrasing-4.1.0.tgz",
      "integrity": "sha512-TqICwyvJJpBwvGAMZjj4J2n0X8QWp21b9l0o7eXyVJ25YNWYbJDVIyD1bZXE6WtV6RmKJVYmQAKWa0zWOABz2w==",
      "license": "MIT",
      "dependencies": {
        "@types/mdast": "^4.0.0",
        "unist-util-is": "^6.0.0"
      },
      "funding": {
        "type": "opencollective",
        "url": "https://opencollective.com/unified"
      }
    },
    "node_modules/mdast-util-to-hast": {
      "version": "13.2.1",
      "resolved": "https://registry.npmjs.org/mdast-util-to-hast/-/mdast-util-to-hast-13.2.1.tgz",
      "integrity": "sha512-cctsq2wp5vTsLIcaymblUriiTcZd0CwWtCbLvrOzYCDZoWyMNV8sZ7krj09FSnsiJi3WVsHLM4k6Dq/yaPyCXA==",
      "license": "MIT",
      "dependencies": {
        "@types/hast": "^3.0.0",
        "@types/mdast": "^4.0.0",
        "@ungap/structured-clone": "^1.0.0",
        "devlop": "^1.0.0",
        "micromark-util-sanitize-uri": "^2.0.0",
        "trim-lines": "^3.0.0",
        "unist-util-position": "^5.0.0",
        "unist-util-visit": "^5.0.0",
        "vfile": "^6.0.0"
      },
      "funding": {
        "type": "opencollective",
        "url": "https://opencollective.com/unified"
      }
    },
    "node_modules/mdast-util-to-markdown": {
      "version": "2.1.2",
      "resolved": "https://registry.npmjs.org/mdast-util-to-markdown/-/mdast-util-to-markdown-2.1.2.tgz",
      "integrity": "sha512-xj68wMTvGXVOKonmog6LwyJKrYXZPvlwabaryTjLh9LuvovB/KAH+kvi8Gjj+7rJjsFi23nkUxRQv1KqSroMqA==",
      "license": "MIT",
      "dependencies": {
        "@types/mdast": "^4.0.0",
        "@types/unist": "^3.0.0",
        "longest-streak": "^3.0.0",
        "mdast-util-phrasing": "^4.0.0",
        "mdast-util-to-string": "^4.0.0",
        "micromark-util-classify-character": "^2.0.0",
        "micromark-util-decode-string": "^2.0.0",
        "unist-util-visit": "^5.0.0",
        "zwitch": "^2.0.0"
      },
      "funding": {
        "type": "opencollective",
        "url": "https://opencollective.com/unified"
      }
    },
    "node_modules/mdast-util-to-string": {
      "version": "4.0.0",
      "resolved": "https://registry.npmjs.org/mdast-util-to-string/-/mdast-util-to-string-4.0.0.tgz",
      "integrity": "sha512-0H44vDimn51F0YwvxSJSm0eCDOJTRlmN0R1yBh4HLj9wiV1Dn0QoXGbvFAWj2hSItVTlCmBF1hqKlIyUBVFLPg==",
      "license": "MIT",
      "dependencies": {
        "@types/mdast": "^4.0.0"
      },
      "funding": {
        "type": "opencollective",
        "url": "https://opencollective.com/unified"
      }
    },
    "node_modules/micromark": {
      "version": "4.0.2",
      "resolved": "https://registry.npmjs.org/micromark/-/micromark-4.0.2.tgz",
      "integrity": "sha512-zpe98Q6kvavpCr1NPVSCMebCKfD7CA2NqZ+rykeNhONIJBpc1tFKt9hucLGwha3jNTNI8lHpctWJWoimVF4PfA==",
      "funding": [
        {
          "type": "GitHub Sponsors",
          "url": "https://github.com/sponsors/unifiedjs"
        },
        {
          "type": "OpenCollective",
          "url": "https://opencollective.com/unified"
        }
      ],
      "license": "MIT",
      "dependencies": {
        "@types/debug": "^4.0.0",
        "debug": "^4.0.0",
        "decode-named-character-reference": "^1.0.0",
        "devlop": "^1.0.0",
        "micromark-core-commonmark": "^2.0.0",
        "micromark-factory-space": "^2.0.0",
        "micromark-util-character": "^2.0.0",
        "micromark-util-chunked": "^2.0.0",
        "micromark-util-combine-extensions": "^2.0.0",
        "micromark-util-decode-numeric-character-reference": "^2.0.0",
        "micromark-util-encode": "^2.0.0",
        "micromark-util-normalize-identifier": "^2.0.0",
        "micromark-util-resolve-all": "^2.0.0",
        "micromark-util-sanitize-uri": "^2.0.0",
        "micromark-util-subtokenize": "^2.0.0",
        "micromark-util-symbol": "^2.0.0",
        "micromark-util-types": "^2.0.0"
      }
    },
    "node_modules/micromark-core-commonmark": {
      "version": "2.0.3",
      "resolved": "https://registry.npmjs.org/micromark-core-commonmark/-/micromark-core-commonmark-2.0.3.tgz",
      "integrity": "sha512-RDBrHEMSxVFLg6xvnXmb1Ayr2WzLAWjeSATAoxwKYJV94TeNavgoIdA0a9ytzDSVzBy2YKFK+emCPOEibLeCrg==",
      "funding": [
        {
          "type": "GitHub Sponsors",
          "url": "https://github.com/sponsors/unifiedjs"
        },
        {
          "type": "OpenCollective",
          "url": "https://opencollective.com/unified"
        }
      ],
      "license": "MIT",
      "dependencies": {
        "decode-named-character-reference": "^1.0.0",
        "devlop": "^1.0.0",
        "micromark-factory-destination": "^2.0.0",
        "micromark-factory-label": "^2.0.0",
        "micromark-factory-space": "^2.0.0",
        "micromark-factory-title": "^2.0.0",
        "micromark-factory-whitespace": "^2.0.0",
        "micromark-util-character": "^2.0.0",
        "micromark-util-chunked": "^2.0.0",
        "micromark-util-classify-character": "^2.0.0",
        "micromark-util-html-tag-name": "^2.0.0",
        "micromark-util-normalize-identifier": "^2.0.0",
        "micromark-util-resolve-all": "^2.0.0",
        "micromark-util-subtokenize": "^2.0.0",
        "micromark-util-symbol": "^2.0.0",
        "micromark-util-types": "^2.0.0"
      }
    },
    "node_modules/micromark-extension-gfm": {
      "version": "3.0.0",
      "resolved": "https://registry.npmjs.org/micromark-extension-gfm/-/micromark-extension-gfm-3.0.0.tgz",
      "integrity": "sha512-vsKArQsicm7t0z2GugkCKtZehqUm31oeGBV/KVSorWSy8ZlNAv7ytjFhvaryUiCUJYqs+NoE6AFhpQvBTM6Q4w==",
      "license": "MIT",
      "dependencies": {
        "micromark-extension-gfm-autolink-literal": "^2.0.0",
        "micromark-extension-gfm-footnote": "^2.0.0",
        "micromark-extension-gfm-strikethrough": "^2.0.0",
        "micromark-extension-gfm-table": "^2.0.0",
        "micromark-extension-gfm-tagfilter": "^2.0.0",
        "micromark-extension-gfm-task-list-item": "^2.0.0",
        "micromark-util-combine-extensions": "^2.0.0",
        "micromark-util-types": "^2.0.0"
      },
      "funding": {
        "type": "opencollective",
        "url": "https://opencollective.com/unified"
      }
    },
    "node_modules/micromark-extension-gfm-autolink-literal": {
      "version": "2.1.0",
      "resolved": "https://registry.npmjs.org/micromark-extension-gfm-autolink-literal/-/micromark-extension-gfm-autolink-literal-2.1.0.tgz",
      "integrity": "sha512-oOg7knzhicgQ3t4QCjCWgTmfNhvQbDDnJeVu9v81r7NltNCVmhPy1fJRX27pISafdjL+SVc4d3l48Gb6pbRypw==",
      "license": "MIT",
      "dependencies": {
        "micromark-util-character": "^2.0.0",
        "micromark-util-sanitize-uri": "^2.0.0",
        "micromark-util-symbol": "^2.0.0",
        "micromark-util-types": "^2.0.0"
      },
      "funding": {
        "type": "opencollective",
        "url": "https://opencollective.com/unified"
      }
    },
    "node_modules/micromark-extension-gfm-footnote": {
      "version": "2.1.0",
      "resolved": "https://registry.npmjs.org/micromark-extension-gfm-footnote/-/micromark-extension-gfm-footnote-2.1.0.tgz",
      "integrity": "sha512-/yPhxI1ntnDNsiHtzLKYnE3vf9JZ6cAisqVDauhp4CEHxlb4uoOTxOCJ+9s51bIB8U1N1FJ1RXOKTIlD5B/gqw==",
      "license": "MIT",
      "dependencies": {
        "devlop": "^1.0.0",
        "micromark-core-commonmark": "^2.0.0",
        "micromark-factory-space": "^2.0.0",
        "micromark-util-character": "^2.0.0",
        "micromark-util-normalize-identifier": "^2.0.0",
        "micromark-util-sanitize-uri": "^2.0.0",
        "micromark-util-symbol": "^2.0.0",
        "micromark-util-types": "^2.0.0"
      },
      "funding": {
        "type": "opencollective",
        "url": "https://opencollective.com/unified"
      }
    },
    "node_modules/micromark-extension-gfm-strikethrough": {
      "version": "2.1.0",
      "resolved": "https://registry.npmjs.org/micromark-extension-gfm-strikethrough/-/micromark-extension-gfm-strikethrough-2.1.0.tgz",
      "integrity": "sha512-ADVjpOOkjz1hhkZLlBiYA9cR2Anf8F4HqZUO6e5eDcPQd0Txw5fxLzzxnEkSkfnD0wziSGiv7sYhk/ktvbf1uw==",
      "license": "MIT",
      "dependencies": {
        "devlop": "^1.0.0",
        "micromark-util-chunked": "^2.0.0",
        "micromark-util-classify-character": "^2.0.0",
        "micromark-util-resolve-all": "^2.0.0",
        "micromark-util-symbol": "^2.0.0",
        "micromark-util-types": "^2.0.0"
      },
      "funding": {
        "type": "opencollective",
        "url": "https://opencollective.com/unified"
      }
    },
    "node_modules/micromark-extension-gfm-table": {
      "version": "2.1.1",
      "resolved": "https://registry.npmjs.org/micromark-extension-gfm-table/-/micromark-extension-gfm-table-2.1.1.tgz",
      "integrity": "sha512-t2OU/dXXioARrC6yWfJ4hqB7rct14e8f7m0cbI5hUmDyyIlwv5vEtooptH8INkbLzOatzKuVbQmAYcbWoyz6Dg==",
      "license": "MIT",
      "dependencies": {
        "devlop": "^1.0.0",
        "micromark-factory-space": "^2.0.0",
        "micromark-util-character": "^2.0.0",
        "micromark-util-symbol": "^2.0.0",
        "micromark-util-types": "^2.0.0"
      },
      "funding": {
        "type": "opencollective",
        "url": "https://opencollective.com/unified"
      }
    },
    "node_modules/micromark-extension-gfm-tagfilter": {
      "version": "2.0.0",
      "resolved": "https://registry.npmjs.org/micromark-extension-gfm-tagfilter/-/micromark-extension-gfm-tagfilter-2.0.0.tgz",
      "integrity": "sha512-xHlTOmuCSotIA8TW1mDIM6X2O1SiX5P9IuDtqGonFhEK0qgRI4yeC6vMxEV2dgyr2TiD+2PQ10o+cOhdVAcwfg==",
      "license": "MIT",
      "dependencies": {
        "micromark-util-types": "^2.0.0"
      },
      "funding": {
        "type": "opencollective",
        "url": "https://opencollective.com/unified"
      }
    },
    "node_modules/micromark-extension-gfm-task-list-item": {
      "version": "2.1.0",
      "resolved": "https://registry.npmjs.org/micromark-extension-gfm-task-list-item/-/micromark-extension-gfm-task-list-item-2.1.0.tgz",
      "integrity": "sha512-qIBZhqxqI6fjLDYFTBIa4eivDMnP+OZqsNwmQ3xNLE4Cxwc+zfQEfbs6tzAo2Hjq+bh6q5F+Z8/cksrLFYWQQw==",
      "license": "MIT",
      "dependencies": {
        "devlop": "^1.0.0",
        "micromark-factory-space": "^2.0.0",
        "micromark-util-character": "^2.0.0",
        "micromark-util-symbol": "^2.0.0",
        "micromark-util-types": "^2.0.0"
      },
      "funding": {
        "type": "opencollective",
        "url": "https://opencollective.com/unified"
      }
    },
    "node_modules/micromark-factory-destination": {
      "version": "2.0.1",
      "resolved": "https://registry.npmjs.org/micromark-factory-destination/-/micromark-factory-destination-2.0.1.tgz",
      "integrity": "sha512-Xe6rDdJlkmbFRExpTOmRj9N3MaWmbAgdpSrBQvCFqhezUn4AHqJHbaEnfbVYYiexVSs//tqOdY/DxhjdCiJnIA==",
      "funding": [
        {
          "type": "GitHub Sponsors",
          "url": "https://github.com/sponsors/unifiedjs"
        },
        {
          "type": "OpenCollective",
          "url": "https://opencollective.com/unified"
        }
      ],
      "license": "MIT",
      "dependencies": {
        "micromark-util-character": "^2.0.0",
        "micromark-util-symbol": "^2.0.0",
        "micromark-util-types": "^2.0.0"
      }
    },
    "node_modules/micromark-factory-label": {
      "version": "2.0.1",
      "resolved": "https://registry.npmjs.org/micromark-factory-label/-/micromark-factory-label-2.0.1.tgz",
      "integrity": "sha512-VFMekyQExqIW7xIChcXn4ok29YE3rnuyveW3wZQWWqF4Nv9Wk5rgJ99KzPvHjkmPXF93FXIbBp6YdW3t71/7Vg==",
      "funding": [
        {
          "type": "GitHub Sponsors",
          "url": "https://github.com/sponsors/unifiedjs"
        },
        {
          "type": "OpenCollective",
          "url": "https://opencollective.com/unified"
        }
      ],
      "license": "MIT",
      "dependencies": {
        "devlop": "^1.0.0",
        "micromark-util-character": "^2.0.0",
        "micromark-util-symbol": "^2.0.0",
        "micromark-util-types": "^2.0.0"
      }
    },
    "node_modules/micromark-factory-space": {
      "version": "2.0.1",
      "resolved": "https://registry.npmjs.org/micromark-factory-space/-/micromark-factory-space-2.0.1.tgz",
      "integrity": "sha512-zRkxjtBxxLd2Sc0d+fbnEunsTj46SWXgXciZmHq0kDYGnck/ZSGj9/wULTV95uoeYiK5hRXP2mJ98Uo4cq/LQg==",
      "funding": [
        {
          "type": "GitHub Sponsors",
          "url": "https://github.com/sponsors/unifiedjs"
        },
        {
          "type": "OpenCollective",
          "url": "https://opencollective.com/unified"
        }
      ],
      "license": "MIT",
      "dependencies": {
        "micromark-util-character": "^2.0.0",
        "micromark-util-types": "^2.0.0"
      }
    },
    "node_modules/micromark-factory-title": {
      "version": "2.0.1",
      "resolved": "https://registry.npmjs.org/micromark-factory-title/-/micromark-factory-title-2.0.1.tgz",
      "integrity": "sha512-5bZ+3CjhAd9eChYTHsjy6TGxpOFSKgKKJPJxr293jTbfry2KDoWkhBb6TcPVB4NmzaPhMs1Frm9AZH7OD4Cjzw==",
      "funding": [
        {
          "type": "GitHub Sponsors",
          "url": "https://github.com/sponsors/unifiedjs"
        },
        {
          "type": "OpenCollective",
          "url": "https://opencollective.com/unified"
        }
      ],
      "license": "MIT",
      "dependencies": {
        "micromark-factory-space": "^2.0.0",
        "micromark-util-character": "^2.0.0",
        "micromark-util-symbol": "^2.0.0",
        "micromark-util-types": "^2.0.0"
      }
    },
    "node_modules/micromark-factory-whitespace": {
      "version": "2.0.1",
      "resolved": "https://registry.npmjs.org/micromark-factory-whitespace/-/micromark-factory-whitespace-2.0.1.tgz",
      "integrity": "sha512-Ob0nuZ3PKt/n0hORHyvoD9uZhr+Za8sFoP+OnMcnWK5lngSzALgQYKMr9RJVOWLqQYuyn6ulqGWSXdwf6F80lQ==",
      "funding": [
        {
          "type": "GitHub Sponsors",
          "url": "https://github.com/sponsors/unifiedjs"
        },
        {
          "type": "OpenCollective",
          "url": "https://opencollective.com/unified"
        }
      ],
      "license": "MIT",
      "dependencies": {
        "micromark-factory-space": "^2.0.0",
        "micromark-util-character": "^2.0.0",
        "micromark-util-symbol": "^2.0.0",
        "micromark-util-types": "^2.0.0"
      }
    },
    "node_modules/micromark-util-character": {
      "version": "2.1.1",
      "resolved": "https://registry.npmjs.org/micromark-util-character/-/micromark-util-character-2.1.1.tgz",
      "integrity": "sha512-wv8tdUTJ3thSFFFJKtpYKOYiGP2+v96Hvk4Tu8KpCAsTMs6yi+nVmGh1syvSCsaxz45J6Jbw+9DD6g97+NV67Q==",
      "funding": [
        {
          "type": "GitHub Sponsors",
          "url": "https://github.com/sponsors/unifiedjs"
        },
        {
          "type": "OpenCollective",
          "url": "https://opencollective.com/unified"
        }
      ],
      "license": "MIT",
      "dependencies": {
        "micromark-util-symbol": "^2.0.0",
        "micromark-util-types": "^2.0.0"
      }
    },
    "node_modules/micromark-util-chunked": {
      "version": "2.0.1",
      "resolved": "https://registry.npmjs.org/micromark-util-chunked/-/micromark-util-chunked-2.0.1.tgz",
      "integrity": "sha512-QUNFEOPELfmvv+4xiNg2sRYeS/P84pTW0TCgP5zc9FpXetHY0ab7SxKyAQCNCc1eK0459uoLI1y5oO5Vc1dbhA==",
      "funding": [
        {
          "type": "GitHub Sponsors",
          "url": "https://github.com/sponsors/unifiedjs"
        },
        {
          "type": "OpenCollective",
          "url": "https://opencollective.com/unified"
        }
      ],
      "license": "MIT",
      "dependencies": {
        "micromark-util-symbol": "^2.0.0"
      }
    },
    "node_modules/micromark-util-classify-character": {
      "version": "2.0.1",
      "resolved": "https://registry.npmjs.org/micromark-util-classify-character/-/micromark-util-classify-character-2.0.1.tgz",
      "integrity": "sha512-K0kHzM6afW/MbeWYWLjoHQv1sgg2Q9EccHEDzSkxiP/EaagNzCm7T/WMKZ3rjMbvIpvBiZgwR3dKMygtA4mG1Q==",
      "funding": [
        {
          "type": "GitHub Sponsors",
          "url": "https://github.com/sponsors/unifiedjs"
        },
        {
          "type": "OpenCollective",
          "url": "https://opencollective.com/unified"
        }
      ],
      "license": "MIT",
      "dependencies": {
        "micromark-util-character": "^2.0.0",
        "micromark-util-symbol": "^2.0.0",
        "micromark-util-types": "^2.0.0"
      }
    },
    "node_modules/micromark-util-combine-extensions": {
      "version": "2.0.1",
      "resolved": "https://registry.npmjs.org/micromark-util-combine-extensions/-/micromark-util-combine-extensions-2.0.1.tgz",
      "integrity": "sha512-OnAnH8Ujmy59JcyZw8JSbK9cGpdVY44NKgSM7E9Eh7DiLS2E9RNQf0dONaGDzEG9yjEl5hcqeIsj4hfRkLH/Bg==",
      "funding": [
        {
          "type": "GitHub Sponsors",
          "url": "https://github.com/sponsors/unifiedjs"
        },
        {
          "type": "OpenCollective",
          "url": "https://opencollective.com/unified"
        }
      ],
      "license": "MIT",
      "dependencies": {
        "micromark-util-chunked": "^2.0.0",
        "micromark-util-types": "^2.0.0"
      }
    },
    "node_modules/micromark-util-decode-numeric-character-reference": {
      "version": "2.0.2",
      "resolved": "https://registry.npmjs.org/micromark-util-decode-numeric-character-reference/-/micromark-util-decode-numeric-character-reference-2.0.2.tgz",
      "integrity": "sha512-ccUbYk6CwVdkmCQMyr64dXz42EfHGkPQlBj5p7YVGzq8I7CtjXZJrubAYezf7Rp+bjPseiROqe7G6foFd+lEuw==",
      "funding": [
        {
          "type": "GitHub Sponsors",
          "url": "https://github.com/sponsors/unifiedjs"
        },
        {
          "type": "OpenCollective",
          "url": "https://opencollective.com/unified"
        }
      ],
      "license": "MIT",
      "dependencies": {
        "micromark-util-symbol": "^2.0.0"
      }
    },
    "node_modules/micromark-util-decode-string": {
      "version": "2.0.1",
      "resolved": "https://registry.npmjs.org/micromark-util-decode-string/-/micromark-util-decode-string-2.0.1.tgz",
      "integrity": "sha512-nDV/77Fj6eH1ynwscYTOsbK7rR//Uj0bZXBwJZRfaLEJ1iGBR6kIfNmlNqaqJf649EP0F3NWNdeJi03elllNUQ==",
      "funding": [
        {
          "type": "GitHub Sponsors",
          "url": "https://github.com/sponsors/unifiedjs"
        },
        {
          "type": "OpenCollective",
          "url": "https://opencollective.com/unified"
        }
      ],
      "license": "MIT",
      "dependencies": {
        "decode-named-character-reference": "^1.0.0",
        "micromark-util-character": "^2.0.0",
        "micromark-util-decode-numeric-character-reference": "^2.0.0",
        "micromark-util-symbol": "^2.0.0"
      }
    },
    "node_modules/micromark-util-encode": {
      "version": "2.0.1",
      "resolved": "https://registry.npmjs.org/micromark-util-encode/-/micromark-util-encode-2.0.1.tgz",
      "integrity": "sha512-c3cVx2y4KqUnwopcO9b/SCdo2O67LwJJ/UyqGfbigahfegL9myoEFoDYZgkT7f36T0bLrM9hZTAaAyH+PCAXjw==",
      "funding": [
        {
          "type": "GitHub Sponsors",
          "url": "https://github.com/sponsors/unifiedjs"
        },
        {
          "type": "OpenCollective",
          "url": "https://opencollective.com/unified"
        }
      ],
      "license": "MIT"
    },
    "node_modules/micromark-util-html-tag-name": {
      "version": "2.0.1",
      "resolved": "https://registry.npmjs.org/micromark-util-html-tag-name/-/micromark-util-html-tag-name-2.0.1.tgz",
      "integrity": "sha512-2cNEiYDhCWKI+Gs9T0Tiysk136SnR13hhO8yW6BGNyhOC4qYFnwF1nKfD3HFAIXA5c45RrIG1ub11GiXeYd1xA==",
      "funding": [
        {
          "type": "GitHub Sponsors",
          "url": "https://github.com/sponsors/unifiedjs"
        },
        {
          "type": "OpenCollective",
          "url": "https://opencollective.com/unified"
        }
      ],
      "license": "MIT"
    },
    "node_modules/micromark-util-normalize-identifier": {
      "version": "2.0.1",
      "resolved": "https://registry.npmjs.org/micromark-util-normalize-identifier/-/micromark-util-normalize-identifier-2.0.1.tgz",
      "integrity": "sha512-sxPqmo70LyARJs0w2UclACPUUEqltCkJ6PhKdMIDuJ3gSf/Q+/GIe3WKl0Ijb/GyH9lOpUkRAO2wp0GVkLvS9Q==",
      "funding": [
        {
          "type": "GitHub Sponsors",
          "url": "https://github.com/sponsors/unifiedjs"
        },
        {
          "type": "OpenCollective",
          "url": "https://opencollective.com/unified"
        }
      ],
      "license": "MIT",
      "dependencies": {
        "micromark-util-symbol": "^2.0.0"
      }
    },
    "node_modules/micromark-util-resolve-all": {
      "version": "2.0.1",
      "resolved": "https://registry.npmjs.org/micromark-util-resolve-all/-/micromark-util-resolve-all-2.0.1.tgz",
      "integrity": "sha512-VdQyxFWFT2/FGJgwQnJYbe1jjQoNTS4RjglmSjTUlpUMa95Htx9NHeYW4rGDJzbjvCsl9eLjMQwGeElsqmzcHg==",
      "funding": [
        {
          "type": "GitHub Sponsors",
          "url": "https://github.com/sponsors/unifiedjs"
        },
        {
          "type": "OpenCollective",
          "url": "https://opencollective.com/unified"
        }
      ],
      "license": "MIT",
      "dependencies": {
        "micromark-util-types": "^2.0.0"
      }
    },
    "node_modules/micromark-util-sanitize-uri": {
      "version": "2.0.1",
      "resolved": "https://registry.npmjs.org/micromark-util-sanitize-uri/-/micromark-util-sanitize-uri-2.0.1.tgz",
      "integrity": "sha512-9N9IomZ/YuGGZZmQec1MbgxtlgougxTodVwDzzEouPKo3qFWvymFHWcnDi2vzV1ff6kas9ucW+o3yzJK9YB1AQ==",
      "funding": [
        {
          "type": "GitHub Sponsors",
          "url": "https://github.com/sponsors/unifiedjs"
        },
        {
          "type": "OpenCollective",
          "url": "https://opencollective.com/unified"
        }
      ],
      "license": "MIT",
      "dependencies": {
        "micromark-util-character": "^2.0.0",
        "micromark-util-encode": "^2.0.0",
        "micromark-util-symbol": "^2.0.0"
      }
    },
    "node_modules/micromark-util-subtokenize": {
      "version": "2.1.0",
      "resolved": "https://registry.npmjs.org/micromark-util-subtokenize/-/micromark-util-subtokenize-2.1.0.tgz",
      "integrity": "sha512-XQLu552iSctvnEcgXw6+Sx75GflAPNED1qx7eBJ+wydBb2KCbRZe+NwvIEEMM83uml1+2WSXpBAcp9IUCgCYWA==",
      "funding": [
        {
          "type": "GitHub Sponsors",
          "url": "https://github.com/sponsors/unifiedjs"
        },
        {
          "type": "OpenCollective",
          "url": "https://opencollective.com/unified"
        }
      ],
      "license": "MIT",
      "dependencies": {
        "devlop": "^1.0.0",
        "micromark-util-chunked": "^2.0.0",
        "micromark-util-symbol": "^2.0.0",
        "micromark-util-types": "^2.0.0"
      }
    },
    "node_modules/micromark-util-symbol": {
      "version": "2.0.1",
      "resolved": "https://registry.npmjs.org/micromark-util-symbol/-/micromark-util-symbol-2.0.1.tgz",
      "integrity": "sha512-vs5t8Apaud9N28kgCrRUdEed4UJ+wWNvicHLPxCa9ENlYuAY31M0ETy5y1vA33YoNPDFTghEbnh6efaE8h4x0Q==",
      "funding": [
        {
          "type": "GitHub Sponsors",
          "url": "https://github.com/sponsors/unifiedjs"
        },
        {
          "type": "OpenCollective",
          "url": "https://opencollective.com/unified"
        }
      ],
      "license": "MIT"
    },
    "node_modules/micromark-util-types": {
      "version": "2.0.2",
      "resolved": "https://registry.npmjs.org/micromark-util-types/-/micromark-util-types-2.0.2.tgz",
      "integrity": "sha512-Yw0ECSpJoViF1qTU4DC6NwtC4aWGt1EkzaQB8KPPyCRR8z9TWeV0HbEFGTO+ZY1wB22zmxnJqhPyTpOVCpeHTA==",
      "funding": [
        {
          "type": "GitHub Sponsors",
          "url": "https://github.com/sponsors/unifiedjs"
        },
        {
          "type": "OpenCollective",
          "url": "https://opencollective.com/unified"
        }
      ],
      "license": "MIT"
    },
    "node_modules/ms": {
      "version": "2.1.3",
      "resolved": "https://registry.npmjs.org/ms/-/ms-2.1.3.tgz",
      "integrity": "sha512-6FlzubTLZG3J2a/NVCAleEhjzq5oxgHyaCU9yYXvcLsvoVaHJq/s5xXI6/XXP6tz7R9xAOtHnSO/tXtF3WRTlA==",
      "license": "MIT"
    },
    "node_modules/nanoid": {
      "version": "3.3.11",
      "resolved": "https://registry.npmjs.org/nanoid/-/nanoid-3.3.11.tgz",
      "integrity": "sha512-N8SpfPUnUp1bK+PMYW8qSWdl9U+wwNWI4QKxOYDy9JAro3WMX7p2OeVRF9v+347pnakNevPmiHhNmZ2HbFA76w==",
      "dev": true,
      "funding": [
        {
          "type": "github",
          "url": "https://github.com/sponsors/ai"
        }
      ],
      "license": "MIT",
      "bin": {
        "nanoid": "bin/nanoid.cjs"
      },
      "engines": {
        "node": "^10 || ^12 || ^13.7 || ^14 || >=15.0.1"
      }
    },
    "node_modules/node-releases": {
      "version": "2.0.27",
      "resolved": "https://registry.npmjs.org/node-releases/-/node-releases-2.0.27.tgz",
      "integrity": "sha512-nmh3lCkYZ3grZvqcCH+fjmQ7X+H0OeZgP40OierEaAptX4XofMh5kwNbWh7lBduUzCcV/8kZ+NDLCwm2iorIlA==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/parse-entities": {
      "version": "4.0.2",
      "resolved": "https://registry.npmjs.org/parse-entities/-/parse-entities-4.0.2.tgz",
      "integrity": "sha512-GG2AQYWoLgL877gQIKeRPGO1xF9+eG1ujIb5soS5gPvLQ1y2o8FL90w2QWNdf9I361Mpp7726c+lj3U0qK1uGw==",
      "license": "MIT",
      "dependencies": {
        "@types/unist": "^2.0.0",
        "character-entities-legacy": "^3.0.0",
        "character-reference-invalid": "^2.0.0",
        "decode-named-character-reference": "^1.0.0",
        "is-alphanumerical": "^2.0.0",
        "is-decimal": "^2.0.0",
        "is-hexadecimal": "^2.0.0"
      },
      "funding": {
        "type": "github",
        "url": "https://github.com/sponsors/wooorm"
      }
    },
    "node_modules/parse-entities/node_modules/@types/unist": {
      "version": "2.0.11",
      "resolved": "https://registry.npmjs.org/@types/unist/-/unist-2.0.11.tgz",
      "integrity": "sha512-CmBKiL6NNo/OqgmMn95Fk9Whlp2mtvIv+KNpQKN2F4SjvrEesubTRWGYSg+BnWZOnlCaSTU1sMpsBOzgbYhnsA==",
      "license": "MIT"
    },
    "node_modules/picocolors": {
      "version": "1.1.1",
      "resolved": "https://registry.npmjs.org/picocolors/-/picocolors-1.1.1.tgz",
      "integrity": "sha512-xceH2snhtb5M9liqDsmEw56le376mTZkEX/jEb/RxNFyegNul7eNslCXP9FDj/Lcu0X8KEyMceP2ntpaHrDEVA==",
      "dev": true,
      "license": "ISC"
    },
    "node_modules/picomatch": {
      "version": "4.0.3",
      "resolved": "https://registry.npmjs.org/picomatch/-/picomatch-4.0.3.tgz",
      "integrity": "sha512-5gTmgEY/sqK6gFXLIsQNH19lWb4ebPDLA4SdLP7dsWkIXHWlG66oPuVvXSGFPppYZz8ZDZq0dYYrbHfBCVUb1Q==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=12"
      },
      "funding": {
        "url": "https://github.com/sponsors/jonschlinkert"
      }
    },
    "node_modules/postcss": {
      "version": "8.5.6",
      "resolved": "https://registry.npmjs.org/postcss/-/postcss-8.5.6.tgz",
      "integrity": "sha512-3Ybi1tAuwAP9s0r1UQ2J4n5Y0G05bJkpUIO0/bI9MhwmD70S5aTWbXGBwxHrelT+XM1k6dM0pk+SwNkpTRN7Pg==",
      "dev": true,
      "funding": [
        {
          "type": "opencollective",
          "url": "https://opencollective.com/postcss/"
        },
        {
          "type": "tidelift",
          "url": "https://tidelift.com/funding/github/npm/postcss"
        },
        {
          "type": "github",
          "url": "https://github.com/sponsors/ai"
        }
      ],
      "license": "MIT",
      "dependencies": {
        "nanoid": "^3.3.11",
        "picocolors": "^1.1.1",
        "source-map-js": "^1.2.1"
      },
      "engines": {
        "node": "^10 || ^12 || >=14"
      }
    },
    "node_modules/postcss-selector-parser": {
      "version": "6.0.10",
      "resolved": "https://registry.npmjs.org/postcss-selector-parser/-/postcss-selector-parser-6.0.10.tgz",
      "integrity": "sha512-IQ7TZdoaqbT+LCpShg46jnZVlhWD2w6iQYAcYXfHARZ7X1t/UGhhceQDs5X0cGqKvYlHNOuv7Oa1xmb0oQuA3w==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "cssesc": "^3.0.0",
        "util-deprecate": "^1.0.2"
      },
      "engines": {
        "node": ">=4"
      }
    },
    "node_modules/postcss-value-parser": {
      "version": "4.2.0",
      "resolved": "https://registry.npmjs.org/postcss-value-parser/-/postcss-value-parser-4.2.0.tgz",
      "integrity": "sha512-1NNCs6uurfkVbeXG4S8JFT9t19m45ICnif8zWLd5oPSZ50QnwMfK+H3jv408d4jw/7Bttv5axS5IiHoLaVNHeQ==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/property-information": {
      "version": "7.1.0",
      "resolved": "https://registry.npmjs.org/property-information/-/property-information-7.1.0.tgz",
      "integrity": "sha512-TwEZ+X+yCJmYfL7TPUOcvBZ4QfoT5YenQiJuX//0th53DE6w0xxLEtfK3iyryQFddXuvkIk51EEgrJQ0WJkOmQ==",
      "license": "MIT",
      "funding": {
        "type": "github",
        "url": "https://github.com/sponsors/wooorm"
      }
    },
    "node_modules/react": {
      "version": "19.2.3",
      "resolved": "https://registry.npmjs.org/react/-/react-19.2.3.tgz",
      "integrity": "sha512-Ku/hhYbVjOQnXDZFv2+RibmLFGwFdeeKHFcOTlrt7xplBnya5OGn/hIRDsqDiSUcfORsDC7MPxwork8jBwsIWA==",
      "license": "MIT",
      "engines": {
        "node": ">=0.10.0"
      }
    },
    "node_modules/react-dom": {
      "version": "19.2.3",
      "resolved": "https://registry.npmjs.org/react-dom/-/react-dom-19.2.3.tgz",
      "integrity": "sha512-yELu4WmLPw5Mr/lmeEpox5rw3RETacE++JgHqQzd2dg+YbJuat3jH4ingc+WPZhxaoFzdv9y33G+F7Nl5O0GBg==",
      "license": "MIT",
      "dependencies": {
        "scheduler": "^0.27.0"
      },
      "peerDependencies": {
        "react": "^19.2.3"
      }
    },
    "node_modules/react-markdown": {
      "version": "10.1.0",
      "resolved": "https://registry.npmjs.org/react-markdown/-/react-markdown-10.1.0.tgz",
      "integrity": "sha512-qKxVopLT/TyA6BX3Ue5NwabOsAzm0Q7kAPwq6L+wWDwisYs7R8vZ0nRXqq6rkueboxpkjvLGU9fWifiX/ZZFxQ==",
      "license": "MIT",
      "dependencies": {
        "@types/hast": "^3.0.0",
        "@types/mdast": "^4.0.0",
        "devlop": "^1.0.0",
        "hast-util-to-jsx-runtime": "^2.0.0",
        "html-url-attributes": "^3.0.0",
        "mdast-util-to-hast": "^13.0.0",
        "remark-parse": "^11.0.0",
        "remark-rehype": "^11.0.0",
        "unified": "^11.0.0",
        "unist-util-visit": "^5.0.0",
        "vfile": "^6.0.0"
      },
      "funding": {
        "type": "opencollective",
        "url": "https://opencollective.com/unified"
      },
      "peerDependencies": {
        "@types/react": ">=18",
        "react": ">=18"
      }
    },
    "node_modules/react-refresh": {
      "version": "0.18.0",
      "resolved": "https://registry.npmjs.org/react-refresh/-/react-refresh-0.18.0.tgz",
      "integrity": "sha512-QgT5//D3jfjJb6Gsjxv0Slpj23ip+HtOpnNgnb2S5zU3CB26G/IDPGoy4RJB42wzFE46DRsstbW6tKHoKbhAxw==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=0.10.0"
      }
    },
    "node_modules/remark-gfm": {
      "version": "4.0.1",
      "resolved": "https://registry.npmjs.org/remark-gfm/-/remark-gfm-4.0.1.tgz",
      "integrity": "sha512-1quofZ2RQ9EWdeN34S79+KExV1764+wCUGop5CPL1WGdD0ocPpu91lzPGbwWMECpEpd42kJGQwzRfyov9j4yNg==",
      "license": "MIT",
      "dependencies": {
        "@types/mdast": "^4.0.0",
        "mdast-util-gfm": "^3.0.0",
        "micromark-extension-gfm": "^3.0.0",
        "remark-parse": "^11.0.0",
        "remark-stringify": "^11.0.0",
        "unified": "^11.0.0"
      },
      "funding": {
        "type": "opencollective",
        "url": "https://opencollective.com/unified"
      }
    },
    "node_modules/remark-parse": {
      "version": "11.0.0",
      "resolved": "https://registry.npmjs.org/remark-parse/-/remark-parse-11.0.0.tgz",
      "integrity": "sha512-FCxlKLNGknS5ba/1lmpYijMUzX2esxW5xQqjWxw2eHFfS2MSdaHVINFmhjo+qN1WhZhNimq0dZATN9pH0IDrpA==",
      "license": "MIT",
      "dependencies": {
        "@types/mdast": "^4.0.0",
        "mdast-util-from-markdown": "^2.0.0",
        "micromark-util-types": "^2.0.0",
        "unified": "^11.0.0"
      },
      "funding": {
        "type": "opencollective",
        "url": "https://opencollective.com/unified"
      }
    },
    "node_modules/remark-rehype": {
      "version": "11.1.2",
      "resolved": "https://registry.npmjs.org/remark-rehype/-/remark-rehype-11.1.2.tgz",
      "integrity": "sha512-Dh7l57ianaEoIpzbp0PC9UKAdCSVklD8E5Rpw7ETfbTl3FqcOOgq5q2LVDhgGCkaBv7p24JXikPdvhhmHvKMsw==",
      "license": "MIT",
      "dependencies": {
        "@types/hast": "^3.0.0",
        "@types/mdast": "^4.0.0",
        "mdast-util-to-hast": "^13.0.0",
        "unified": "^11.0.0",
        "vfile": "^6.0.0"
      },
      "funding": {
        "type": "opencollective",
        "url": "https://opencollective.com/unified"
      }
    },
    "node_modules/remark-stringify": {
      "version": "11.0.0",
      "resolved": "https://registry.npmjs.org/remark-stringify/-/remark-stringify-11.0.0.tgz",
      "integrity": "sha512-1OSmLd3awB/t8qdoEOMazZkNsfVTeY4fTsgzcQFdXNq8ToTN4ZGwrMnlda4K6smTFKD+GRV6O48i6Z4iKgPPpw==",
      "license": "MIT",
      "dependencies": {
        "@types/mdast": "^4.0.0",
        "mdast-util-to-markdown": "^2.0.0",
        "unified": "^11.0.0"
      },
      "funding": {
        "type": "opencollective",
        "url": "https://opencollective.com/unified"
      }
    },
    "node_modules/rollup": {
      "version": "4.53.3",
      "resolved": "https://registry.npmjs.org/rollup/-/rollup-4.53.3.tgz",
      "integrity": "sha512-w8GmOxZfBmKknvdXU1sdM9NHcoQejwF/4mNgj2JuEEdRaHwwF12K7e9eXn1nLZ07ad+du76mkVsyeb2rKGllsA==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@types/estree": "1.0.8"
      },
      "bin": {
        "rollup": "dist/bin/rollup"
      },
      "engines": {
        "node": ">=18.0.0",
        "npm": ">=8.0.0"
      },
      "optionalDependencies": {
        "@rollup/rollup-android-arm-eabi": "4.53.3",
        "@rollup/rollup-android-arm64": "4.53.3",
        "@rollup/rollup-darwin-arm64": "4.53.3",
        "@rollup/rollup-darwin-x64": "4.53.3",
        "@rollup/rollup-freebsd-arm64": "4.53.3",
        "@rollup/rollup-freebsd-x64": "4.53.3",
        "@rollup/rollup-linux-arm-gnueabihf": "4.53.3",
        "@rollup/rollup-linux-arm-musleabihf": "4.53.3",
        "@rollup/rollup-linux-arm64-gnu": "4.53.3",
        "@rollup/rollup-linux-arm64-musl": "4.53.3",
        "@rollup/rollup-linux-loong64-gnu": "4.53.3",
        "@rollup/rollup-linux-ppc64-gnu": "4.53.3",
        "@rollup/rollup-linux-riscv64-gnu": "4.53.3",
        "@rollup/rollup-linux-riscv64-musl": "4.53.3",
        "@rollup/rollup-linux-s390x-gnu": "4.53.3",
        "@rollup/rollup-linux-x64-gnu": "4.53.3",
        "@rollup/rollup-linux-x64-musl": "4.53.3",
        "@rollup/rollup-openharmony-arm64": "4.53.3",
        "@rollup/rollup-win32-arm64-msvc": "4.53.3",
        "@rollup/rollup-win32-ia32-msvc": "4.53.3",
        "@rollup/rollup-win32-x64-gnu": "4.53.3",
        "@rollup/rollup-win32-x64-msvc": "4.53.3",
        "fsevents": "~2.3.2"
      }
    },
    "node_modules/scheduler": {
      "version": "0.27.0",
      "resolved": "https://registry.npmjs.org/scheduler/-/scheduler-0.27.0.tgz",
      "integrity": "sha512-eNv+WrVbKu1f3vbYJT/xtiF5syA5HPIMtf9IgY/nKg0sWqzAUEvqY/xm7OcZc/qafLx/iO9FgOmeSAp4v5ti/Q==",
      "license": "MIT"
    },
    "node_modules/semver": {
      "version": "6.3.1",
      "resolved": "https://registry.npmjs.org/semver/-/semver-6.3.1.tgz",
      "integrity": "sha512-BR7VvDCVHO+q2xBEWskxS6DJE1qRnb7DxzUrogb71CWoSficBxYsiAGd+Kl0mmq/MprG9yArRkyrQxTO6XjMzA==",
      "dev": true,
      "license": "ISC",
      "bin": {
        "semver": "bin/semver.js"
      }
    },
    "node_modules/source-map-js": {
      "version": "1.2.1",
      "resolved": "https://registry.npmjs.org/source-map-js/-/source-map-js-1.2.1.tgz",
      "integrity": "sha512-UXWMKhLOwVKb728IUtQPXxfYU+usdybtUrK/8uGE8CQMvrhOpwvzDBwj0QhSL7MQc7vIsISBG8VQ8+IDQxpfQA==",
      "dev": true,
      "license": "BSD-3-Clause",
      "engines": {
        "node": ">=0.10.0"
      }
    },
    "node_modules/space-separated-tokens": {
      "version": "2.0.2",
      "resolved": "https://registry.npmjs.org/space-separated-tokens/-/space-separated-tokens-2.0.2.tgz",
      "integrity": "sha512-PEGlAwrG8yXGXRjW32fGbg66JAlOAwbObuqVoJpv/mRgoWDQfgH1wDPvtzWyUSNAXBGSk8h755YDbbcEy3SH2Q==",
      "license": "MIT",
      "funding": {
        "type": "github",
        "url": "https://github.com/sponsors/wooorm"
      }
    },
    "node_modules/stringify-entities": {
      "version": "4.0.4",
      "resolved": "https://registry.npmjs.org/stringify-entities/-/stringify-entities-4.0.4.tgz",
      "integrity": "sha512-IwfBptatlO+QCJUo19AqvrPNqlVMpW9YEL2LIVY+Rpv2qsjCGxaDLNRgeGsQWJhfItebuJhsGSLjaBbNSQ+ieg==",
      "license": "MIT",
      "dependencies": {
        "character-entities-html4": "^2.0.0",
        "character-entities-legacy": "^3.0.0"
      },
      "funding": {
        "type": "github",
        "url": "https://github.com/sponsors/wooorm"
      }
    },
    "node_modules/style-to-js": {
      "version": "1.1.21",
      "resolved": "https://registry.npmjs.org/style-to-js/-/style-to-js-1.1.21.tgz",
      "integrity": "sha512-RjQetxJrrUJLQPHbLku6U/ocGtzyjbJMP9lCNK7Ag0CNh690nSH8woqWH9u16nMjYBAok+i7JO1NP2pOy8IsPQ==",
      "license": "MIT",
      "dependencies": {
        "style-to-object": "1.0.14"
      }
    },
    "node_modules/style-to-object": {
      "version": "1.0.14",
      "resolved": "https://registry.npmjs.org/style-to-object/-/style-to-object-1.0.14.tgz",
      "integrity": "sha512-LIN7rULI0jBscWQYaSswptyderlarFkjQ+t79nzty8tcIAceVomEVlLzH5VP4Cmsv6MtKhs7qaAiwlcp+Mgaxw==",
      "license": "MIT",
      "dependencies": {
        "inline-style-parser": "0.2.7"
      }
    },
    "node_modules/tailwind-merge": {
      "version": "3.4.0",
      "resolved": "https://registry.npmjs.org/tailwind-merge/-/tailwind-merge-3.4.0.tgz",
      "integrity": "sha512-uSaO4gnW+b3Y2aWoWfFpX62vn2sR3skfhbjsEnaBI81WD1wBLlHZe5sWf0AqjksNdYTbGBEd0UasQMT3SNV15g==",
      "license": "MIT",
      "funding": {
        "type": "github",
        "url": "https://github.com/sponsors/dcastil"
      }
    },
    "node_modules/tailwindcss": {
      "version": "4.1.18",
      "resolved": "https://registry.npmjs.org/tailwindcss/-/tailwindcss-4.1.18.tgz",
      "integrity": "sha512-4+Z+0yiYyEtUVCScyfHCxOYP06L5Ne+JiHhY2IjR2KWMIWhJOYZKLSGZaP5HkZ8+bY0cxfzwDE5uOmzFXyIwxw==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/tapable": {
      "version": "2.3.0",
      "resolved": "https://registry.npmjs.org/tapable/-/tapable-2.3.0.tgz",
      "integrity": "sha512-g9ljZiwki/LfxmQADO3dEY1CbpmXT5Hm2fJ+QaGKwSXUylMybePR7/67YW7jOrrvjEgL1Fmz5kzyAjWVWLlucg==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=6"
      },
      "funding": {
        "type": "opencollective",
        "url": "https://opencollective.com/webpack"
      }
    },
    "node_modules/tinyglobby": {
      "version": "0.2.15",
      "resolved": "https://registry.npmjs.org/tinyglobby/-/tinyglobby-0.2.15.tgz",
      "integrity": "sha512-j2Zq4NyQYG5XMST4cbs02Ak8iJUdxRM0XI5QyxXuZOzKOINmWurp3smXu3y5wDcJrptwpSjgXHzIQxR0omXljQ==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "fdir": "^6.5.0",
        "picomatch": "^4.0.3"
      },
      "engines": {
        "node": ">=12.0.0"
      },
      "funding": {
        "url": "https://github.com/sponsors/SuperchupuDev"
      }
    },
    "node_modules/trim-lines": {
      "version": "3.0.1",
      "resolved": "https://registry.npmjs.org/trim-lines/-/trim-lines-3.0.1.tgz",
      "integrity": "sha512-kRj8B+YHZCc9kQYdWfJB2/oUl9rA99qbowYYBtr4ui4mZyAQ2JpvVBd/6U2YloATfqBhBTSMhTpgBHtU0Mf3Rg==",
      "license": "MIT",
      "funding": {
        "type": "github",
        "url": "https://github.com/sponsors/wooorm"
      }
    },
    "node_modules/trough": {
      "version": "2.2.0",
      "resolved": "https://registry.npmjs.org/trough/-/trough-2.2.0.tgz",
      "integrity": "sha512-tmMpK00BjZiUyVyvrBK7knerNgmgvcV/KLVyuma/SC+TQN167GrMRciANTz09+k3zW8L8t60jWO1GpfkZdjTaw==",
      "license": "MIT",
      "funding": {
        "type": "github",
        "url": "https://github.com/sponsors/wooorm"
      }
    },
    "node_modules/typescript": {
      "version": "5.8.3",
      "resolved": "https://registry.npmjs.org/typescript/-/typescript-5.8.3.tgz",
      "integrity": "sha512-p1diW6TqL9L07nNxvRMM7hMMw4c5XOo/1ibL4aAIGmSAt9slTE1Xgw5KWuof2uTOvCg9BY7ZRi+GaF+7sfgPeQ==",
      "dev": true,
      "license": "Apache-2.0",
      "bin": {
        "tsc": "bin/tsc",
        "tsserver": "bin/tsserver"
      },
      "engines": {
        "node": ">=14.17"
      }
    },
    "node_modules/undici-types": {
      "version": "6.21.0",
      "resolved": "https://registry.npmjs.org/undici-types/-/undici-types-6.21.0.tgz",
      "integrity": "sha512-iwDZqg0QAGrg9Rav5H4n0M64c3mkR59cJ6wQp+7C4nI0gsmExaedaYLNO44eT4AtBBwjbTiGPMlt2Md0T9H9JQ==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/unified": {
      "version": "11.0.5",
      "resolved": "https://registry.npmjs.org/unified/-/unified-11.0.5.tgz",
      "integrity": "sha512-xKvGhPWw3k84Qjh8bI3ZeJjqnyadK+GEFtazSfZv/rKeTkTjOJho6mFqh2SM96iIcZokxiOpg78GazTSg8+KHA==",
      "license": "MIT",
      "dependencies": {
        "@types/unist": "^3.0.0",
        "bail": "^2.0.0",
        "devlop": "^1.0.0",
        "extend": "^3.0.0",
        "is-plain-obj": "^4.0.0",
        "trough": "^2.0.0",
        "vfile": "^6.0.0"
      },
      "funding": {
        "type": "opencollective",
        "url": "https://opencollective.com/unified"
      }
    },
    "node_modules/unist-util-is": {
      "version": "6.0.1",
      "resolved": "https://registry.npmjs.org/unist-util-is/-/unist-util-is-6.0.1.tgz",
      "integrity": "sha512-LsiILbtBETkDz8I9p1dQ0uyRUWuaQzd/cuEeS1hoRSyW5E5XGmTzlwY1OrNzzakGowI9Dr/I8HVaw4hTtnxy8g==",
      "license": "MIT",
      "dependencies": {
        "@types/unist": "^3.0.0"
      },
      "funding": {
        "type": "opencollective",
        "url": "https://opencollective.com/unified"
      }
    },
    "node_modules/unist-util-position": {
      "version": "5.0.0",
      "resolved": "https://registry.npmjs.org/unist-util-position/-/unist-util-position-5.0.0.tgz",
      "integrity": "sha512-fucsC7HjXvkB5R3kTCO7kUjRdrS0BJt3M/FPxmHMBOm8JQi2BsHAHFsy27E0EolP8rp0NzXsJ+jNPyDWvOJZPA==",
      "license": "MIT",
      "dependencies": {
        "@types/unist": "^3.0.0"
      },
      "funding": {
        "type": "opencollective",
        "url": "https://opencollective.com/unified"
      }
    },
    "node_modules/unist-util-stringify-position": {
      "version": "4.0.0",
      "resolved": "https://registry.npmjs.org/unist-util-stringify-position/-/unist-util-stringify-position-4.0.0.tgz",
      "integrity": "sha512-0ASV06AAoKCDkS2+xw5RXJywruurpbC4JZSm7nr7MOt1ojAzvyyaO+UxZf18j8FCF6kmzCZKcAgN/yu2gm2XgQ==",
      "license": "MIT",
      "dependencies": {
        "@types/unist": "^3.0.0"
      },
      "funding": {
        "type": "opencollective",
        "url": "https://opencollective.com/unified"
      }
    },
    "node_modules/unist-util-visit": {
      "version": "5.0.0",
      "resolved": "https://registry.npmjs.org/unist-util-visit/-/unist-util-visit-5.0.0.tgz",
      "integrity": "sha512-MR04uvD+07cwl/yhVuVWAtw+3GOR/knlL55Nd/wAdblk27GCVt3lqpTivy/tkJcZoNPzTwS1Y+KMojlLDhoTzg==",
      "license": "MIT",
      "dependencies": {
        "@types/unist": "^3.0.0",
        "unist-util-is": "^6.0.0",
        "unist-util-visit-parents": "^6.0.0"
      },
      "funding": {
        "type": "opencollective",
        "url": "https://opencollective.com/unified"
      }
    },
    "node_modules/unist-util-visit-parents": {
      "version": "6.0.2",
      "resolved": "https://registry.npmjs.org/unist-util-visit-parents/-/unist-util-visit-parents-6.0.2.tgz",
      "integrity": "sha512-goh1s1TBrqSqukSc8wrjwWhL0hiJxgA8m4kFxGlQ+8FYQ3C/m11FcTs4YYem7V664AhHVvgoQLk890Ssdsr2IQ==",
      "license": "MIT",
      "dependencies": {
        "@types/unist": "^3.0.0",
        "unist-util-is": "^6.0.0"
      },
      "funding": {
        "type": "opencollective",
        "url": "https://opencollective.com/unified"
      }
    },
    "node_modules/update-browserslist-db": {
      "version": "1.2.2",
      "resolved": "https://registry.npmjs.org/update-browserslist-db/-/update-browserslist-db-1.2.2.tgz",
      "integrity": "sha512-E85pfNzMQ9jpKkA7+TJAi4TJN+tBCuWh5rUcS/sv6cFi+1q9LYDwDI5dpUL0u/73EElyQ8d3TEaeW4sPedBqYA==",
      "dev": true,
      "funding": [
        {
          "type": "opencollective",
          "url": "https://opencollective.com/browserslist"
        },
        {
          "type": "tidelift",
          "url": "https://tidelift.com/funding/github/npm/browserslist"
        },
        {
          "type": "github",
          "url": "https://github.com/sponsors/ai"
        }
      ],
      "license": "MIT",
      "dependencies": {
        "escalade": "^3.2.0",
        "picocolors": "^1.1.1"
      },
      "bin": {
        "update-browserslist-db": "cli.js"
      },
      "peerDependencies": {
        "browserslist": ">= 4.21.0"
      }
    },
    "node_modules/util-deprecate": {
      "version": "1.0.2",
      "resolved": "https://registry.npmjs.org/util-deprecate/-/util-deprecate-1.0.2.tgz",
      "integrity": "sha512-EPD5q1uXyFxJpCrLnCc1nHnq3gOa6DZBocAIiI2TaSCA7VCJ1UJDMagCzIkXNsUYfD1daK//LTEQ8xiIbrHtcw==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/vfile": {
      "version": "6.0.3",
      "resolved": "https://registry.npmjs.org/vfile/-/vfile-6.0.3.tgz",
      "integrity": "sha512-KzIbH/9tXat2u30jf+smMwFCsno4wHVdNmzFyL+T/L3UGqqk6JKfVqOFOZEpZSHADH1k40ab6NUIXZq422ov3Q==",
      "license": "MIT",
      "dependencies": {
        "@types/unist": "^3.0.0",
        "vfile-message": "^4.0.0"
      },
      "funding": {
        "type": "opencollective",
        "url": "https://opencollective.com/unified"
      }
    },
    "node_modules/vfile-message": {
      "version": "4.0.3",
      "resolved": "https://registry.npmjs.org/vfile-message/-/vfile-message-4.0.3.tgz",
      "integrity": "sha512-QTHzsGd1EhbZs4AsQ20JX1rC3cOlt/IWJruk893DfLRr57lcnOeMaWG4K0JrRta4mIJZKth2Au3mM3u03/JWKw==",
      "license": "MIT",
      "dependencies": {
        "@types/unist": "^3.0.0",
        "unist-util-stringify-position": "^4.0.0"
      },
      "funding": {
        "type": "opencollective",
        "url": "https://opencollective.com/unified"
      }
    },
    "node_modules/vite": {
      "version": "6.4.1",
      "resolved": "https://registry.npmjs.org/vite/-/vite-6.4.1.tgz",
      "integrity": "sha512-+Oxm7q9hDoLMyJOYfUYBuHQo+dkAloi33apOPP56pzj+vsdJDzr+j1NISE5pyaAuKL4A3UD34qd0lx5+kfKp2g==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "esbuild": "^0.25.0",
        "fdir": "^6.4.4",
        "picomatch": "^4.0.2",
        "postcss": "^8.5.3",
        "rollup": "^4.34.9",
        "tinyglobby": "^0.2.13"
      },
      "bin": {
        "vite": "bin/vite.js"
      },
      "engines": {
        "node": "^18.0.0 || ^20.0.0 || >=22.0.0"
      },
      "funding": {
        "url": "https://github.com/vitejs/vite?sponsor=1"
      },
      "optionalDependencies": {
        "fsevents": "~2.3.3"
      },
      "peerDependencies": {
        "@types/node": "^18.0.0 || ^20.0.0 || >=22.0.0",
        "jiti": ">=1.21.0",
        "less": "*",
        "lightningcss": "^1.21.0",
        "sass": "*",
        "sass-embedded": "*",
        "stylus": "*",
        "sugarss": "*",
        "terser": "^5.16.0",
        "tsx": "^4.8.1",
        "yaml": "^2.4.2"
      },
      "peerDependenciesMeta": {
        "@types/node": {
          "optional": true
        },
        "jiti": {
          "optional": true
        },
        "less": {
          "optional": true
        },
        "lightningcss": {
          "optional": true
        },
        "sass": {
          "optional": true
        },
        "sass-embedded": {
          "optional": true
        },
        "stylus": {
          "optional": true
        },
        "sugarss": {
          "optional": true
        },
        "terser": {
          "optional": true
        },
        "tsx": {
          "optional": true
        },
        "yaml": {
          "optional": true
        }
      }
    },
    "node_modules/yallist": {
      "version": "3.1.1",
      "resolved": "https://registry.npmjs.org/yallist/-/yallist-3.1.1.tgz",
      "integrity": "sha512-a4UGQaWPH59mOXUYnAG2ewncQS4i4F43Tv3JoAM+s2VDAmS9NsK8GpDMLrCHPksFT7h3K6TOoUNn2pb7RoXx4g==",
      "dev": true,
      "license": "ISC"
    },
    "node_modules/zwitch": {
      "version": "2.0.4",
      "resolved": "https://registry.npmjs.org/zwitch/-/zwitch-2.0.4.tgz",
      "integrity": "sha512-bXE4cR/kVZhKZX/RjPEflHaKVhUVl85noU3v6b8apfQEc1x4A+zBxjZ4lN8LqGd6WZ3dl98pY4o717VFmoPp+A==",
      "license": "MIT",
      "funding": {
        "type": "github",
        "url": "https://github.com/sponsors/wooorm"
      }
    }
  }
}

</file>

<file path="go.sum">
cloud.google.com/go v0.26.0/go.mod h1:aQUYkXzVsufM+DwF1aE+0xfcU+56JwCaLick0ClmMTw=
cloud.google.com/go v0.116.0 h1:B3fRrSDkLRt5qSHWe40ERJvhvnQwdZiHu0bJOpldweE=
cloud.google.com/go v0.116.0/go.mod h1:cEPSRWPzZEswwdr9BxE6ChEn01dWlTaF05LiC2Xs70U=
cloud.google.com/go/auth v0.9.3 h1:VOEUIAADkkLtyfr3BLa3R8Ed/j6w1jTBmARx+wb5w5U=
cloud.google.com/go/auth v0.9.3/go.mod h1:7z6VY+7h3KUdRov5F1i8NDP5ZzWKYmEPO842BgCsmTk=
cloud.google.com/go/compute/metadata v0.5.0 h1:Zr0eK8JbFv6+Wi4ilXAR8FJ3wyNdpxHKJNPos6LTZOY=
cloud.google.com/go/compute/metadata v0.5.0/go.mod h1:aHnloV2TPI38yx4s9+wAZhHykWvVCfu7hQbF+9CWoiY=
github.com/BurntSushi/toml v0.3.1/go.mod h1:xHWCNGjB5oqiDr8zfno3MHue2Ht5sIBksp03qcyfWMU=
github.com/bep/debounce v1.2.1 h1:v67fRdBA9UQu2NhLFXrSg0Brw7CexQekrBwDMM8bzeY=
github.com/bep/debounce v1.2.1/go.mod h1:H8yggRPQKLUhUoqrJC1bO2xNya7vanpDl7xR3ISbCJ0=
github.com/census-instrumentation/opencensus-proto v0.2.1/go.mod h1:f6KPmirojxKA12rnyqOA5BBL4O983OfeGPqjHWSTneU=
github.com/client9/misspell v0.3.4/go.mod h1:qj6jICC3Q7zFZvVWo7KLAzC3yx5G7kyvSDkc90ppPyw=
github.com/cncf/udpa/go v0.0.0-20191209042840-269d4d468f6f/go.mod h1:M8M6+tZqaGXZJjfX53e64911xZQV5JYwmTeXPW+k8Sc=
github.com/davecgh/go-spew v1.1.0/go.mod h1:J7Y8YcW2NihsgmVo/mv3lAwl/skON4iLHjSsI+c5H38=
github.com/davecgh/go-spew v1.1.1 h1:vj9j/u1bqnvCEfJOwUhtlOARqs3+rkHYY13jYWTU97c=
github.com/davecgh/go-spew v1.1.1/go.mod h1:J7Y8YcW2NihsgmVo/mv3lAwl/skON4iLHjSsI+c5H38=
github.com/envoyproxy/go-control-plane v0.9.0/go.mod h1:YTl/9mNaCwkRvm6d1a2C3ymFceY/DCBVvsKhRF0iEA4=
github.com/envoyproxy/go-control-plane v0.9.1-0.20191026205805-5f8ba28d4473/go.mod h1:YTl/9mNaCwkRvm6d1a2C3ymFceY/DCBVvsKhRF0iEA4=
github.com/envoyproxy/go-control-plane v0.9.4/go.mod h1:6rpuAdCZL397s3pYoYcLgu1mIlRU8Am5FuJP05cCM98=
github.com/envoyproxy/protoc-gen-validate v0.1.0/go.mod h1:iSmxcyjqTsJpI2R4NaDN7+kN2VEUnK/pcBlmesArF7c=
github.com/go-ole/go-ole v1.3.0 h1:Dt6ye7+vXGIKZ7Xtk4s6/xVdGDQynvom7xCFEdWr6uE=
github.com/go-ole/go-ole v1.3.0/go.mod h1:5LS6F96DhAwUc7C+1HLexzMXY1xGRSryjyPPKW6zv78=
github.com/godbus/dbus/v5 v5.1.0 h1:4KLkAxT3aOY8Li4FRJe/KvhoNFFxo0m6fNuFUO8QJUk=
github.com/godbus/dbus/v5 v5.1.0/go.mod h1:xhWf0FNVPg57R7Z0UbKHbJfkEywrmjJnf7w5xrFpKfA=
github.com/golang/glog v0.0.0-20160126235308-23def4e6c14b/go.mod h1:SBH7ygxi8pfUlaOkMMuAQtPIUF8ecWP5IEl/CR7VP2Q=
github.com/golang/groupcache v0.0.0-20200121045136-8c9f03a8e57e/go.mod h1:cIg4eruTrX1D+g88fzRXU5OdNfaM+9IcxsU14FzY7Hc=
github.com/golang/groupcache v0.0.0-20210331224755-41bb18bfe9da h1:oI5xCqsCo564l8iNU+DwB5epxmsaqB+rhGL0m5jtYqE=
github.com/golang/groupcache v0.0.0-20210331224755-41bb18bfe9da/go.mod h1:cIg4eruTrX1D+g88fzRXU5OdNfaM+9IcxsU14FzY7Hc=
github.com/golang/mock v1.1.1/go.mod h1:oTYuIxOrZwtPieC+H1uAHpcLFnEyAGVDL/k47Jfbm0A=
github.com/golang/protobuf v1.2.0/go.mod h1:6lQm79b+lXiMfvg/cZm0SGofjICqVBUtrP5yJMmIC1U=
github.com/golang/protobuf v1.3.2/go.mod h1:6lQm79b+lXiMfvg/cZm0SGofjICqVBUtrP5yJMmIC1U=
github.com/golang/protobuf v1.4.0-rc.1/go.mod h1:ceaxUfeHdC40wWswd/P6IGgMaK3YpKi5j83Wpe3EHw8=
github.com/golang/protobuf v1.4.0-rc.1.0.20200221234624-67d41d38c208/go.mod h1:xKAWHe0F5eneWXFV3EuXVDTCmh+JuBKY0li0aMyXATA=
github.com/golang/protobuf v1.4.0-rc.2/go.mod h1:LlEzMj4AhA7rCAGe4KMBDvJI+AwstrUpVNzEA03Pprs=
github.com/golang/protobuf v1.4.0-rc.4.0.20200313231945-b860323f09d0/go.mod h1:WU3c8KckQ9AFe+yFwt9sWVRKCVIyN9cPHBJSNnbL67w=
github.com/golang/protobuf v1.4.0/go.mod h1:jodUvKwWbYaEsadDk5Fwe5c77LiNKVO9IDvqG2KuDX0=
github.com/golang/protobuf v1.4.1/go.mod h1:U8fpvMrcmy5pZrNK1lt4xCsGvpyWQ/VVv6QDs8UjoX8=
github.com/golang/protobuf v1.4.3/go.mod h1:oDoupMAO8OvCJWAcko0GGGIgR6R6ocIYbsSw735rRwI=
github.com/google/go-cmp v0.2.0/go.mod h1:oXzfMopK8JAjlY9xF4vHSVASa0yLyX7SntLO5aqRK0M=
github.com/google/go-cmp v0.3.0/go.mod h1:8QqcDgzrUqlUb/G2PQTWiueGozuR1884gddMywk6iLU=
github.com/google/go-cmp v0.3.1/go.mod h1:8QqcDgzrUqlUb/G2PQTWiueGozuR1884gddMywk6iLU=
github.com/google/go-cmp v0.4.0/go.mod h1:v8dTdLbMG2kIc/vJvl+f65V22dbkXbowE6jgT/gNBxE=
github.com/google/go-cmp v0.5.0/go.mod h1:v8dTdLbMG2kIc/vJvl+f65V22dbkXbowE6jgT/gNBxE=
github.com/google/go-cmp v0.5.3/go.mod h1:v8dTdLbMG2kIc/vJvl+f65V22dbkXbowE6jgT/gNBxE=
github.com/google/go-cmp v0.6.0 h1:ofyhxvXcZhMsU5ulbFiLKl/XBFqE1GSq7atu8tAmTRI=
github.com/google/go-cmp v0.6.0/go.mod h1:17dUlkBOakJ0+DkrSSNjCkIjxS6bF9zb3elmeNGIjoY=
github.com/google/s2a-go v0.1.8 h1:zZDs9gcbt9ZPLV0ndSyQk6Kacx2g/X+SKYovpnz3SMM=
github.com/google/s2a-go v0.1.8/go.mod h1:6iNWHTpQ+nfNRN5E00MSdfDwVesa8hhS32PhPO8deJA=
github.com/google/uuid v1.1.2/go.mod h1:TIyPZe4MgqvfeYDBFedMoGGpEw/LqOeaOT+nhxU+yHo=
github.com/google/uuid v1.6.0 h1:NIvaJDMOsjHA8n1jAhLSgzrAzy1Hgr+hNrb57e+94F0=
github.com/google/uuid v1.6.0/go.mod h1:TIyPZe4MgqvfeYDBFedMoGGpEw/LqOeaOT+nhxU+yHo=
github.com/googleapis/enterprise-certificate-proxy v0.3.4 h1:XYIDZApgAnrN1c855gTgghdIA6Stxb52D5RnLI1SLyw=
github.com/googleapis/enterprise-certificate-proxy v0.3.4/go.mod h1:YKe7cfqYXjKGpGvmSg28/fFvhNzinZQm8DGnaburhGA=
github.com/gorilla/websocket v1.5.3 h1:saDtZ6Pbx/0u+bgYQ3q96pZgCzfhKXGPqt7kZ72aNNg=
github.com/gorilla/websocket v1.5.3/go.mod h1:YR8l580nyteQvAITg2hZ9XVh4b55+EU/adAjf1fMHhE=
github.com/jchv/go-winloader v0.0.0-20210711035445-715c2860da7e h1:Q3+PugElBCf4PFpxhErSzU3/PY5sFL5Z6rfv4AbGAck=
github.com/jchv/go-winloader v0.0.0-20210711035445-715c2860da7e/go.mod h1:alcuEEnZsY1WQsagKhZDsoPCRoOijYqhZvPwLG0kzVs=
github.com/labstack/echo/v4 v4.13.3 h1:pwhpCPrTl5qry5HRdM5FwdXnhXSLSY+WE+YQSeCaafY=
github.com/labstack/echo/v4 v4.13.3/go.mod h1:o90YNEeQWjDozo584l7AwhJMHN0bOC4tAfg+Xox9q5g=
github.com/labstack/gommon v0.4.2 h1:F8qTUNXgG1+6WQmqoUWnz8WiEU60mXVVw0P4ht1WRA0=
github.com/labstack/gommon v0.4.2/go.mod h1:QlUFxVM+SNXhDL/Z7YhocGIBYOiwB0mXm1+1bAPHPyU=
github.com/leaanthony/debme v1.2.1 h1:9Tgwf+kjcrbMQ4WnPcEIUcQuIZYqdWftzZkBr+i/oOc=
github.com/leaanthony/debme v1.2.1/go.mod h1:3V+sCm5tYAgQymvSOfYQ5Xx2JCr+OXiD9Jkw3otUjiA=
github.com/leaanthony/go-ansi-parser v1.6.1 h1:xd8bzARK3dErqkPFtoF9F3/HgN8UQk0ed1YDKpEz01A=
github.com/leaanthony/go-ansi-parser v1.6.1/go.mod h1:+vva/2y4alzVmmIEpk9QDhA7vLC5zKDTRwfZGOp3IWU=
github.com/leaanthony/gosod v1.0.4 h1:YLAbVyd591MRffDgxUOU1NwLhT9T1/YiwjKZpkNFeaI=
github.com/leaanthony/gosod v1.0.4/go.mod h1:GKuIL0zzPj3O1SdWQOdgURSuhkF+Urizzxh26t9f1cw=
github.com/leaanthony/slicer v1.6.0 h1:1RFP5uiPJvT93TAHi+ipd3NACobkW53yUiBqZheE/Js=
github.com/leaanthony/slicer v1.6.0/go.mod h1:o/Iz29g7LN0GqH3aMjWAe90381nyZlDNquK+mtH2Fj8=
github.com/leaanthony/u v1.1.1 h1:TUFjwDGlNX+WuwVEzDqQwC2lOv0P4uhTQw7CMFdiK7M=
github.com/leaanthony/u v1.1.1/go.mod h1:9+o6hejoRljvZ3BzdYlVL0JYCwtnAsVuN9pVTQcaRfI=
github.com/matryer/is v1.4.0/go.mod h1:8I/i5uYgLzgsgEloJE1U6xx5HkBQpAZvepWuujKwMRU=
github.com/matryer/is v1.4.1 h1:55ehd8zaGABKLXQUe2awZ99BD/PTc2ls+KV/dXphgEQ=
github.com/matryer/is v1.4.1/go.mod h1:8I/i5uYgLzgsgEloJE1U6xx5HkBQpAZvepWuujKwMRU=
github.com/mattn/go-colorable v0.1.13 h1:fFA4WZxdEF4tXPZVKMLwD8oUnCTTo08duU7wxecdEvA=
github.com/mattn/go-colorable v0.1.13/go.mod h1:7S9/ev0klgBDR4GtXTXX8a3vIGJpMovkB8vQcUbaXHg=
github.com/mattn/go-isatty v0.0.16/go.mod h1:kYGgaQfpe5nmfYZH+SKPsOc2e4SrIfOl2e/yFXSvRLM=
github.com/mattn/go-isatty v0.0.20 h1:xfD0iDuEKnDkl03q4limB+vH+GxLEtL/jb4xVJSWWEY=
github.com/mattn/go-isatty v0.0.20/go.mod h1:W+V8PltTTMOvKvAeJH7IuucS94S2C6jfK/D7dTCTo3Y=
github.com/pkg/browser v0.0.0-20240102092130-5ac0b6a4141c h1:+mdjkGKdHQG3305AYmdv1U2eRNDiU2ErMBj1gwrq8eQ=
github.com/pkg/browser v0.0.0-20240102092130-5ac0b6a4141c/go.mod h1:7rwL4CYBLnjLxUqIJNnCWiEdr3bn6IUYi15bNlnbCCU=
github.com/pkg/errors v0.9.1 h1:FEBLx1zS214owpjy7qsBeixbURkuhQAwrK5UwLGTwt4=
github.com/pkg/errors v0.9.1/go.mod h1:bwawxfHBFNV+L2hUp1rHADufV3IMtnDRdf1r5NINEl0=
github.com/pmezard/go-difflib v1.0.0 h1:4DBwDE0NGyQoBHbLQYPwSUPoCMWR5BEzIk/f1lZbAQM=
github.com/pmezard/go-difflib v1.0.0/go.mod h1:iKH77koFhYxTK1pcRnkKkqfTogsbg7gZNVY4sRDYZ/4=
github.com/prometheus/client_model v0.0.0-20190812154241-14fe0d1b01d4/go.mod h1:xMI15A0UPsDsEKsMN9yxemIoYk6Tm2C1GtYGdfGttqA=
github.com/rivo/uniseg v0.2.0/go.mod h1:J6wj4VEh+S6ZtnVlnTBMWIodfgj8LQOQFoIToxlJtxc=
github.com/rivo/uniseg v0.4.7 h1:WUdvkW8uEhrYfLC4ZzdpI2ztxP1I582+49Oc5Mq64VQ=
github.com/rivo/uniseg v0.4.7/go.mod h1:FN3SvrM+Zdj16jyLfmOkMNblXMcoc8DfTHruCPUcx88=
github.com/samber/lo v1.49.1 h1:4BIFyVfuQSEpluc7Fua+j1NolZHiEHEpaSEKdsH0tew=
github.com/samber/lo v1.49.1/go.mod h1:dO6KHFzUKXgP8LDhU0oI8d2hekjXnGOu0DB8Jecxd6o=
github.com/stretchr/objx v0.1.0/go.mod h1:HFkY916IF+rwdDfMAkV7OtwuqBVzrE8GR6GFx+wExME=
github.com/stretchr/objx v0.4.0/go.mod h1:YvHI0jy2hoMjB+UWwv71VJQ9isScKT/TqJzVSSt89Yw=
github.com/stretchr/objx v0.5.0/go.mod h1:Yh+to48EsGEfYuaHDzXPcE3xhTkx73EhmCGUpEOglKo=
github.com/stretchr/testify v1.7.1/go.mod h1:6Fq8oRcR53rry900zMqJjRRixrwX3KX962/h/Wwjteg=
github.com/stretchr/testify v1.8.0/go.mod h1:yNjHg4UonilssWZ8iaSj1OCr/vHnekPRkoO+kdMU+MU=
github.com/stretchr/testify v1.8.1/go.mod h1:w2LPCIKwWwSfY2zedu0+kehJoqGctiVI29o6fzry7u4=
github.com/stretchr/testify v1.10.0 h1:Xv5erBjTwe/5IxqUQTdXv5kgmIvbHo3QQyRwhJsOfJA=
github.com/stretchr/testify v1.10.0/go.mod h1:r2ic/lqez/lEtzL7wO/rwa5dbSLXVDPFyf8C91i36aY=
github.com/tkrajina/go-reflector v0.5.8 h1:yPADHrwmUbMq4RGEyaOUpz2H90sRsETNVpjzo3DLVQQ=
github.com/tkrajina/go-reflector v0.5.8/go.mod h1:ECbqLgccecY5kPmPmXg1MrHW585yMcDkVl6IvJe64T4=
github.com/valyala/bytebufferpool v1.0.0 h1:GqA5TC/0021Y/b9FG4Oi9Mr3q7XYx6KllzawFIhcdPw=
github.com/valyala/bytebufferpool v1.0.0/go.mod h1:6bBcMArwyJ5K/AmCkWv1jt77kVWyCJ6HpOuEn7z0Csc=
github.com/valyala/fasttemplate v1.2.2 h1:lxLXG0uE3Qnshl9QyaK6XJxMXlQZELvChBOCmQD0Loo=
github.com/valyala/fasttemplate v1.2.2/go.mod h1:KHLXt3tVN2HBp8eijSv/kGJopbvo7S+qRAEEKiv+SiQ=
github.com/wailsapp/go-webview2 v1.0.22 h1:YT61F5lj+GGaat5OB96Aa3b4QA+mybD0Ggq6NZijQ58=
github.com/wailsapp/go-webview2 v1.0.22/go.mod h1:qJmWAmAmaniuKGZPWwne+uor3AHMB5PFhqiK0Bbj8kc=
github.com/wailsapp/mimetype v1.4.1 h1:pQN9ycO7uo4vsUUuPeHEYoUkLVkaRntMnHJxVwYhwHs=
github.com/wailsapp/mimetype v1.4.1/go.mod h1:9aV5k31bBOv5z6u+QP8TltzvNGJPmNJD4XlAL3U+j3o=
github.com/wailsapp/wails/v2 v2.11.0 h1:seLacV8pqupq32IjS4Y7V8ucab0WZwtK6VvUVxSBtqQ=
github.com/wailsapp/wails/v2 v2.11.0/go.mod h1:jrf0ZaM6+GBc1wRmXsM8cIvzlg0karYin3erahI4+0k=
github.com/yukifoo/claude-code-sdk-go v0.0.0-20250618211252-be3af0d0e1b6 h1:sCwb0ClwRpLoxk8zkivW5YJRezz1mxlqTYx/8BFpELE=
github.com/yukifoo/claude-code-sdk-go v0.0.0-20250618211252-be3af0d0e1b6/go.mod h1:n7Ls96tG7/UBYYiBJ3U7URJJ8MltWyVqs4xK0adYngc=
go.opencensus.io v0.24.0 h1:y73uSU6J157QMP2kn2r30vwW1A2W2WFwSCGnAVxeaD0=
go.opencensus.io v0.24.0/go.mod h1:vNK8G9p7aAivkbmorf4v+7Hgx+Zs0yY+0fOtgBfjQKo=
golang.org/x/crypto v0.0.0-20190308221718-c2843e01d9a2/go.mod h1:djNgcEr1/C05ACkg1iLfiJU5Ep61QUkGW8qpdssI0+w=
golang.org/x/crypto v0.0.0-20200622213623-75b288015ac9/go.mod h1:LzIPMQfyMNhhGPhUkYOs5KpL4U8rLKemX1yGLhDgUto=
golang.org/x/crypto v0.36.0 h1:AnAEvhDddvBdpY+uR+MyHmuZzzNqXSe/GvuDeob5L34=
golang.org/x/crypto v0.36.0/go.mod h1:Y4J0ReaxCR1IMaabaSMugxJES1EpwhBHhv2bDHklZvc=
golang.org/x/exp v0.0.0-20190121172915-509febef88a4/go.mod h1:CJ0aWSM057203Lf6IL+f9T1iT9GByDxfZKAQTCR3kQA=
golang.org/x/lint v0.0.0-20181026193005-c67002cb31c3/go.mod h1:UVdnD1Gm6xHRNCYTkRU2/jEulfH38KcIWyp/GAMgvoE=
golang.org/x/lint v0.0.0-20190227174305-5b3e6a55c961/go.mod h1:wehouNa3lNwaWXcvxsM5YxQ5yQlVC4a0KAMCusXpPoU=
golang.org/x/lint v0.0.0-20190313153728-d0100b6bd8b3/go.mod h1:6SW0HCj/g11FgYtHlgUYUwCkIfeOF89ocIRzGO/8vkc=
golang.org/x/net v0.0.0-20180724234803-3673e40ba225/go.mod h1:mL1N/T3taQHkDXs73rZJwtUhF3w3ftmwwsq0BUmARs4=
golang.org/x/net v0.0.0-20180826012351-8a410e7b638d/go.mod h1:mL1N/T3taQHkDXs73rZJwtUhF3w3ftmwwsq0BUmARs4=
golang.org/x/net v0.0.0-20190213061140-3a22650c66bd/go.mod h1:mL1N/T3taQHkDXs73rZJwtUhF3w3ftmwwsq0BUmARs4=
golang.org/x/net v0.0.0-20190311183353-d8887717615a/go.mod h1:t9HGtf8HONx5eT2rtn7q6eTqICYqUVnKs3thJo3Qplg=
golang.org/x/net v0.0.0-20190404232315-eb5bcb51f2a3/go.mod h1:t9HGtf8HONx5eT2rtn7q6eTqICYqUVnKs3thJo3Qplg=
golang.org/x/net v0.0.0-20201110031124-69a78807bb2b/go.mod h1:sp8m0HH+o8qH0wwXwYZr8TS3Oi6o0r6Gce1SSxlDquU=
golang.org/x/net v0.0.0-20210505024714-0287a6fb4125/go.mod h1:9nx3DQGgdP8bBQD5qxJ1jj9UTztislL4KSBs9R2vV5Y=
golang.org/x/net v0.38.0 h1:vRMAPTMaeGqVhG5QyLJHqNDwecKTomGeqbnfZyKlBI8=
golang.org/x/net v0.38.0/go.mod h1:ivrbrMbzFq5J41QOQh0siUuly180yBYtLp+CKbEaFx8=
golang.org/x/oauth2 v0.0.0-20180821212333-d2e6202438be/go.mod h1:N/0e6XlmueqKjAGxoOufVs8QHGRruUQn6yWY3a++T0U=
golang.org/x/sync v0.0.0-20180314180146-1d60e4601c6f/go.mod h1:RxMgew5VJxzue5/jJTE5uejpjVlOe/izrB70Jof72aM=
golang.org/x/sync v0.0.0-20181108010431-42b317875d0f/go.mod h1:RxMgew5VJxzue5/jJTE5uejpjVlOe/izrB70Jof72aM=
golang.org/x/sync v0.0.0-20190423024810-112230192c58/go.mod h1:RxMgew5VJxzue5/jJTE5uejpjVlOe/izrB70Jof72aM=
golang.org/x/sync v0.12.0 h1:MHc5BpPuC30uJk597Ri8TV3CNZcTLu6B6z4lJy+g6Jw=
golang.org/x/sync v0.12.0/go.mod h1:1dzgHSNfp02xaA81J2MS99Qcpr2w7fw1gpm99rleRqA=
golang.org/x/sys v0.0.0-20180830151530-49385e6e1522/go.mod h1:STP8DvDyc/dI5b8T5hshtkjS+E42TnysNCUPdjciGhY=
golang.org/x/sys v0.0.0-20190215142949-d0b11bdaac8a/go.mod h1:STP8DvDyc/dI5b8T5hshtkjS+E42TnysNCUPdjciGhY=
golang.org/x/sys v0.0.0-20190412213103-97732733099d/go.mod h1:h1NjWce9XRLGQEsW7wpKNCjG9DtNlClVuFLEZdDNbEs=
golang.org/x/sys v0.0.0-20200810151505-1b9f1253b3ed/go.mod h1:h1NjWce9XRLGQEsW7wpKNCjG9DtNlClVuFLEZdDNbEs=
golang.org/x/sys v0.0.0-20200930185726-fdedc70b468f/go.mod h1:h1NjWce9XRLGQEsW7wpKNCjG9DtNlClVuFLEZdDNbEs=
golang.org/x/sys v0.0.0-20201119102817-f84b799fce68/go.mod h1:h1NjWce9XRLGQEsW7wpKNCjG9DtNlClVuFLEZdDNbEs=
golang.org/x/sys v0.0.0-20210423082822-04245dca01da/go.mod h1:h1NjWce9XRLGQEsW7wpKNCjG9DtNlClVuFLEZdDNbEs=
golang.org/x/sys v0.0.0-20220811171246-fbc7d0a398ab/go.mod h1:oPkhp1MJrh7nUepCBck5+mAzfO9JrbApNNgaTdGDITg=
golang.org/x/sys v0.1.0/go.mod h1:oPkhp1MJrh7nUepCBck5+mAzfO9JrbApNNgaTdGDITg=
golang.org/x/sys v0.6.0/go.mod h1:oPkhp1MJrh7nUepCBck5+mAzfO9JrbApNNgaTdGDITg=
golang.org/x/sys v0.31.0 h1:ioabZlmFYtWhL+TRYpcnNlLwhyxaM9kWTDEmfnprqik=
golang.org/x/sys v0.31.0/go.mod h1:BJP2sWEmIv4KK5OTEluFJCKSidICx8ciO85XgH3Ak8k=
golang.org/x/term v0.0.0-20201126162022-7de9c90e9dd1/go.mod h1:bj7SfCRtBDWHUb9snDiAeCFNEtKQo2Wmx5Cou7ajbmo=
golang.org/x/text v0.3.0/go.mod h1:NqM8EUOU14njkJ3fqMW+pc6Ldnwhi/IjpwHt7yyuwOQ=
golang.org/x/text v0.3.3/go.mod h1:5Zoc/QRtKVWzQhOtBMvqHzDpF6irO9z98xDceosuGiQ=
golang.org/x/text v0.3.6/go.mod h1:5Zoc/QRtKVWzQhOtBMvqHzDpF6irO9z98xDceosuGiQ=
golang.org/x/text v0.23.0 h1:D71I7dUrlY+VX0gQShAThNGHFxZ13dGLBHQLVl1mJlY=
golang.org/x/text v0.23.0/go.mod h1:/BLNzu4aZCJ1+kcD0DNRotWKage4q2rGVAg4o22unh4=
golang.org/x/tools v0.0.0-20180917221912-90fa682c2a6e/go.mod h1:n7NCudcB/nEzxVGmLbDWY5pfWTLqBcC2KZ6jyYvM4mQ=
golang.org/x/tools v0.0.0-20190114222345-bf090417da8b/go.mod h1:n7NCudcB/nEzxVGmLbDWY5pfWTLqBcC2KZ6jyYvM4mQ=
golang.org/x/tools v0.0.0-20190226205152-f727befe758c/go.mod h1:9Yl7xja0Znq3iFh3HoIrodX9oNMXvdceNzlUR8zjMvY=
golang.org/x/tools v0.0.0-20190311212946-11955173bddd/go.mod h1:LCzVGOaR6xXOjkQ3onu1FJEFr0SW1gC7cKk1uF8kGRs=
golang.org/x/tools v0.0.0-20190524140312-2c0ae7006135/go.mod h1:RgjU9mgBXZiqYHBnxXauZ1Gv1EHHAz9KjViQ78xBX0Q=
golang.org/x/xerrors v0.0.0-20191204190536-9bdfabe68543/go.mod h1:I/5z698sn9Ka8TeJc9MKroUUfqBBauWjQqLJ2OPfmY0=
google.golang.org/appengine v1.1.0/go.mod h1:EbEs0AVv82hx2wNQdGPgUI5lhzA/G0D9YwlJXL52JkM=
google.golang.org/appengine v1.4.0/go.mod h1:xpcJRLb0r/rnEns0DIKYYv+WjYCduHsrkT7/EB5XEv4=
google.golang.org/genai v1.39.0 h1:80I1sYFGROliWNxEgPWDklNYVO8xq/bNvw70BFh6XmA=
google.golang.org/genai v1.39.0/go.mod h1:A3kkl0nyBjyFlNjgxIwKq70julKbIxpSxqKO5gw/gmk=
google.golang.org/genproto v0.0.0-20180817151627-c66870c02cf8/go.mod h1:JiN7NxoALGmiZfu7CAH4rXhgtRTLTxftemlI0sWmxmc=
google.golang.org/genproto v0.0.0-20190819201941-24fa4b261c55/go.mod h1:DMBHOl98Agz4BDEuKkezgsaosCRResVns1a3J2ZsMNc=
google.golang.org/genproto v0.0.0-20200526211855-cb27e3aa2013/go.mod h1:NbSheEEYHJ7i3ixzK3sjbqSGDJWnxyFXZblF3eUsNvo=
google.golang.org/genproto/googleapis/rpc v0.0.0-20240903143218-8af14fe29dc1 h1:pPJltXNxVzT4pK9yD8vR9X75DaWYYmLGMsEvBfFQZzQ=
google.golang.org/genproto/googleapis/rpc v0.0.0-20240903143218-8af14fe29dc1/go.mod h1:UqMtugtsSgubUsoxbuAoiCXvqvErP7Gf0so0mK9tHxU=
google.golang.org/grpc v1.19.0/go.mod h1:mqu4LbDTu4XGKhr4mRzUsmM4RtVoemTSY81AxZiDr8c=
google.golang.org/grpc v1.23.0/go.mod h1:Y5yQAOtifL1yxbo5wqy6BxZv8vAUGQwXBOALyacEbxg=
google.golang.org/grpc v1.25.1/go.mod h1:c3i+UQWmh7LiEpx4sFZnkU36qjEYZ0imhYfXVyQciAY=
google.golang.org/grpc v1.27.0/go.mod h1:qbnxyOmOxrQa7FizSgH+ReBfzJrCY1pSN7KXBS8abTk=
google.golang.org/grpc v1.33.2/go.mod h1:JMHMWHQWaTccqQQlmk3MJZS+GWXOdAesneDmEnv2fbc=
google.golang.org/grpc v1.66.2 h1:3QdXkuq3Bkh7w+ywLdLvM56cmGvQHUMZpiCzt6Rqaoo=
google.golang.org/grpc v1.66.2/go.mod h1:s3/l6xSSCURdVfAnL+TqCNMyTDAGN6+lZeVxnZR128Y=
google.golang.org/protobuf v0.0.0-20200109180630-ec00e32a8dfd/go.mod h1:DFci5gLYBciE7Vtevhsrf46CRTquxDuWsQurQQe4oz8=
google.golang.org/protobuf v0.0.0-20200221191635-4d8936d0db64/go.mod h1:kwYJMbMJ01Woi6D6+Kah6886xMZcty6N08ah7+eCXa0=
google.golang.org/protobuf v0.0.0-20200228230310-ab0ca4ff8a60/go.mod h1:cfTl7dwQJ+fmap5saPgwCLgHXTUD7jkjRqWcaiX5VyM=
google.golang.org/protobuf v1.20.1-0.20200309200217-e05f789c0967/go.mod h1:A+miEFZTKqfCUM6K7xSMQL9OKL/b6hQv+e19PK+JZNE=
google.golang.org/protobuf v1.21.0/go.mod h1:47Nbq4nVaFHyn7ilMalzfO3qCViNmqZ2kzikPIcrTAo=
google.golang.org/protobuf v1.22.0/go.mod h1:EGpADcykh3NcUnDUJcl1+ZksZNG86OlYog2l/sGQquU=
google.golang.org/protobuf v1.23.0/go.mod h1:EGpADcykh3NcUnDUJcl1+ZksZNG86OlYog2l/sGQquU=
google.golang.org/protobuf v1.23.1-0.20200526195155-81db48ad09cc/go.mod h1:EGpADcykh3NcUnDUJcl1+ZksZNG86OlYog2l/sGQquU=
google.golang.org/protobuf v1.25.0/go.mod h1:9JNX74DMeImyA3h4bdi1ymwjUzf21/xIlbajtzgsN7c=
google.golang.org/protobuf v1.34.2 h1:6xV6lTsCfpGD21XK49h7MhtcApnLqkfYgPcdHftf6hg=
google.golang.org/protobuf v1.34.2/go.mod h1:qYOHts0dSfpeUzUFpOMr/WGzszTmLH+DiWniOlNbLDw=
gopkg.in/check.v1 v0.0.0-20161208181325-20d25e280405/go.mod h1:Co6ibVJAznAaIkqp8huTwlJQCZ016jof/cbN4VW5Yz0=
gopkg.in/yaml.v3 v3.0.0-20200313102051-9f266ea9e77c/go.mod h1:K4uyk7z7BCEPqu6E+C64Yfv1cQ7kz7rIZviUmN+EgEM=
gopkg.in/yaml.v3 v3.0.1 h1:fxVm/GzAzEWqLHuvctI91KS9hhNmmWOoWu0XTYJS7CA=
gopkg.in/yaml.v3 v3.0.1/go.mod h1:K4uyk7z7BCEPqu6E+C64Yfv1cQ7kz7rIZviUmN+EgEM=
honnef.co/go/tools v0.0.0-20190102054323-c2f93a96b099/go.mod h1:rf3lG4BRIbNafJWhAfAdb/ePZxsR/4RtNHQocxwk9r4=
honnef.co/go/tools v0.0.0-20190523083050-ea95bdfd59fc/go.mod h1:rf3lG4BRIbNafJWhAfAdb/ePZxsR/4RtNHQocxwk9r4=

</file>

<file path="components/features/Setup/SetupWizard.tsx">
import React, { useState } from 'react';
import { useStore } from '../../../contexts/StoreContext';
import { useToast } from '../../../contexts/ToastContext';
import { PROVIDERS, getModelsByProvider } from '../../../constants';
import { ProviderType, Model } from '../../../types';
import { Button } from '../../ui/Button';
import { Input } from '../../ui/Input';
import { ArrowRight, Check, Eye, EyeOff, Terminal, Key, Zap } from 'lucide-react';
import { Bridge } from '../../../services/bridge';
import { ModelService } from '../../../services/ModelService';

export const SetupWizard: React.FC = () => {
  const { state, dispatch } = useStore();
  const { addToast } = useToast();

  const [step, setStep] = useState<'provider' | 'config' | 'test'>('provider');
  const [selectedProvider, setSelectedProvider] = useState<ProviderType | null>(null);
  const [apiKey, setApiKey] = useState('');
  const [selectedModel, setSelectedModel] = useState('');
  const [showApiKey, setShowApiKey] = useState(false);
  const [isTesting, setIsTesting] = useState(false);
  const [testResult, setTestResult] = useState<'success' | 'error' | null>(null);

  // Dynamic Models State
  const [fetchedModels, setFetchedModels] = useState<Model[]>([]);
  const [isLoadingModels, setIsLoadingModels] = useState(false);
  const [fetchError, setFetchError] = useState<string | null>(null);

  const provider = selectedProvider ? PROVIDERS.find(p => p.id === selectedProvider) : null;
  // Combine fetched models with static fallbacks, prioritizing fetched
  const displayModels = fetchedModels.length > 0 ? fetchedModels : (selectedProvider ? getModelsByProvider(selectedProvider) : []);

  const handleProviderSelect = (providerId: ProviderType) => {
    setSelectedProvider(providerId);
    setFetchedModels([]); 
    setFetchError(null);
    
    // Auto-fetch for local
    if (providerId === 'local') {
        fetchModels(providerId, '', 'http://localhost:11434/v1');
    }
    
    setStep('config');
  };

  const fetchModels = async (provId: ProviderType, key: string, url?: string) => {
      setIsLoadingModels(true);
      setFetchError(null);
      try {
          const res = await ModelService.fetchModels(provId, key, url);
          if (res.error) {
              setFetchError(res.error);
          } else {
              setFetchedModels(res.models);
              if (res.models.length > 0) {
                  setSelectedModel(res.models[0].id);
              }
          }
      } catch (e) {
          setFetchError('Error fetching models');
      } finally {
          setIsLoadingModels(false);
      }
  };

  const handleManualRefresh = () => {
      if (selectedProvider) {
          fetchModels(selectedProvider, apiKey, provider?.baseURL);
      }
  };

  const handleTestConnection = async () => {
    if (!selectedProvider) return;

    setIsTesting(true);
    setTestResult(null);

    try {
      // Configurar el provider en el backend (Bridge)
      await Bridge.ConfigureLLM(selectedProvider, apiKey, provider?.baseURL || '');

      // VERIFICACIN REAL: Intentar fetch de modelos
      // Si el fetch funciona, la credencial es vlida.
      const response = await ModelService.fetchModels(selectedProvider, apiKey, provider?.baseURL);
      
      if (response.error) {
          throw new Error(response.error);
      }
      
      if (response.models.length === 0 && selectedProvider !== 'anthropic') {
           // Si devolvio 0 modelos y no es anthropic (que no lista), sospechoso pero pase.
           // Pero si es error, ya habria saltado.
      }

      setTestResult('success');
      addToast('success', 'Conexin verificada exitosamente');

    } catch (err) {
      console.error(err);
      setTestResult('error');
      addToast('error', 'Error de conexin: Credenciales invlidas o servicio inaccesible');
    } finally {
      setIsTesting(false);
    }
  };

  const handleComplete = () => {
    if (!selectedProvider || !selectedModel) return;

    dispatch({
      type: 'UPDATE_AI_CONFIG',
      payload: {
        provider: selectedProvider,
        model: selectedModel,
        apiKey: apiKey,
        baseURL: provider?.baseURL,
        isConfigured: true,
      }
    });

    addToast('success', 'Configuracin guardada');
  };

  const handleSkip = () => {
    dispatch({
      type: 'UPDATE_AI_CONFIG',
      payload: {
        isConfigured: true,
      }
    });
  };

  return (
    <div className="min-h-screen bg-background flex items-center justify-center p-8">
      <div className="w-full max-w-2xl">
        {/* Header */}
        <div className="text-center mb-12 animate-reveal">
          <h1 className="text-4xl font-semibold tracking-tighter text-primary mb-4">
            one-shot
          </h1>
          <p className="text-secondary text-sm font-light">
            configura tu proveedor de IA para comenzar
          </p>
        </div>

        {/* Progress */}
        <div className="flex items-center justify-center gap-2 mb-12">
          {['provider', 'config', 'test'].map((s, i) => (
            <React.Fragment key={s}>
              <div className={`w-8 h-8 rounded-full flex items-center justify-center text-xs font-mono transition-all ${
                step === s
                  ? 'bg-primary text-background'
                  : i < ['provider', 'config', 'test'].indexOf(step)
                    ? 'bg-primary/20 text-primary'
                    : 'bg-border/30 text-secondary'
              }`}>
                {i < ['provider', 'config', 'test'].indexOf(step) ? <Check size={14} /> : i + 1}
              </div>
              {i < 2 && (
                <div className={`w-16 h-px transition-all ${
                  i < ['provider', 'config', 'test'].indexOf(step) ? 'bg-primary/40' : 'bg-border/30'
                }`} />
              )}
            </React.Fragment>
          ))}
        </div>

        {/* Step: Provider Selection */}
        {step === 'provider' && (
          <div className="space-y-4 animate-reveal">
            <h2 className="text-lg font-medium text-primary mb-6 text-center">
              selecciona tu proveedor
            </h2>
            <div className="grid grid-cols-1 md:grid-cols-2 gap-3">
              {PROVIDERS.map((p) => (
                <button
                  key={p.id}
                  onClick={() => handleProviderSelect(p.id)}
                  className={`p-5 border rounded-lg text-left transition-all hover:border-primary/50 hover:bg-surface/30 group ${
                    selectedProvider === p.id ? 'border-primary bg-surface/40' : 'border-border/50'
                  }`}
                >
                  <div className="flex items-start gap-4">
                    <span className="text-2xl">{p.icon}</span>
                    <div className="flex-1 min-w-0">
                      <div className="font-medium text-primary group-hover:text-primary/90">
                        {p.name}
                      </div>
                      <div className="text-xs text-secondary mt-1">
                        {p.description}
                      </div>
                      <div className="flex items-center gap-2 mt-2">
                        {p.requiresApiKey ? (
                          <span className="text-[10px] px-2 py-0.5 bg-yellow-500/10 text-yellow-500 rounded">
                            <Key size={10} className="inline mr-1" />
                            API Key
                          </span>
                        ) : (
                          <span className="text-[10px] px-2 py-0.5 bg-green-500/10 text-green-500 rounded">
                            <Terminal size={10} className="inline mr-1" />
                            Local
                          </span>
                        )}
                        <span className="text-[10px] text-secondary">
                          {p.models.length} modelos
                        </span>
                      </div>
                    </div>
                    <ArrowRight size={16} className="text-secondary group-hover:text-primary transition-colors" />
                  </div>
                </button>
              ))}
            </div>

            <div className="text-center pt-6">
              <button
                onClick={handleSkip}
                className="text-xs text-secondary hover:text-primary transition-colors"
              >
                saltar configuracin por ahora
              </button>
            </div>
          </div>
        )}

        {/* Step: Configuration */}
        {step === 'config' && provider && (
          <div className="space-y-6 animate-reveal">
            <div className="flex items-center justify-between">
              <button
                onClick={() => setStep('provider')}
                className="text-xs text-secondary hover:text-primary transition-colors"
                disabled={isLoadingModels}
              >
                &larr; cambiar proveedor
              </button>
              <div className="flex items-center gap-2">
                <span className="text-xl">{provider.icon}</span>
                <span className="font-medium text-primary">{provider.name}</span>
              </div>
            </div>

            {/* API Key (si es requerida) */}
            {provider.requiresApiKey && (
              <div className="space-y-4">
                <label className="text-xs text-secondary uppercase tracking-widest font-mono">
                  API Key
                </label>
                <div className="relative">
                  <Input
                    type={showApiKey ? 'text' : 'password'}
                    value={apiKey}
                    onChange={(e) => setApiKey(e.target.value)}
                    onBlur={() => apiKey && fetchModels(selectedProvider!, apiKey, provider?.baseURL)}
                    placeholder={`Ingresa tu ${provider.name} API Key...`}
                    className="pr-12"
                  />
                  <button
                    type="button"
                    onClick={() => setShowApiKey(!showApiKey)}
                    className="absolute right-2 top-1/2 -translate-y-1/2 text-secondary hover:text-primary transition-colors p-1"
                  >
                    {showApiKey ? <EyeOff size={16} /> : <Eye size={16} />}
                  </button>
                </div>
                <p className="text-[10px] text-secondary">
                  Tu API key se guarda localmente y nunca se comparte
                </p>
              </div>
            )}

            {/* Modelo */}
            <div className="space-y-2">
              <div className="flex items-center justify-between">
                  <label className="text-xs text-secondary uppercase tracking-widest">
                    Modelo
                  </label>
                  <button 
                    onClick={handleManualRefresh}
                    disabled={isLoadingModels}
                    className="text-[10px] text-primary hover:underline disabled:opacity-50 flex items-center gap-1"
                  >
                    {isLoadingModels ? <span className="animate-spin"></span> : ''} Refrescar lista
                  </button>
              </div>
              
              {fetchError && (
                  <div className="text-xs text-red-400 mb-2">Error: {fetchError}</div>
              )}
              
              <div className="grid gap-2 max-h-[300px] overflow-y-auto pr-1">
                {displayModels.map((model) => (
                  <button
                    key={model.id}
                    onClick={() => setSelectedModel(model.id)}
                    className={`p-4 border rounded-lg text-left transition-all ${
                      selectedModel === model.id
                        ? 'border-primary bg-primary/5'
                        : 'border-border/50 hover:border-border'
                    }`}
                  >
                    <div className="flex items-center justify-between">
                      <div>
                        <div className="font-medium text-sm text-primary">{model.name}</div>
                        <div className="text-xs text-secondary mt-0.5">{model.description}</div>
                      </div>
                      <div className="flex items-center gap-2">
                        {model.canThink && (
                          <span className="text-[10px] px-2 py-0.5 bg-purple-500/10 text-purple-400 rounded">
                            COT
                          </span>
                        )}
                        {model.canSearch && (
                          <span className="text-[10px] px-2 py-0.5 bg-blue-500/10 text-blue-400 rounded">
                            Search
                          </span>
                        )}
                        <span className="text-[10px] text-secondary font-mono">
                          {(model.maxTokens / 1000).toFixed(0)}k
                        </span>
                      </div>
                    </div>
                  </button>
                ))}
            </div>
            
            <div className="mt-2">
                 <p className="text-[10px] text-secondary font-mono mb-1 uppercase tracking-widest">o escribe el id manualmente:</p>
                 <Input 
                    value={selectedModel} 
                    onChange={(e) => setSelectedModel(e.target.value)} 
                    placeholder="ej: gpt-5-preview"
                    className="text-xs"
                 />
            </div>
          </div>
            <div className="flex gap-3 pt-4">
              <Button
                variant="ghost"
                onClick={() => setStep('provider')}
                className="flex-1"
              >
                atrs
              </Button>
              <Button
                variant="primary"
                onClick={() => setStep('test')}
                disabled={provider.requiresApiKey && !apiKey.trim()}
                className="flex-1"
              >
                continuar
                <ArrowRight size={14} className="ml-2" />
              </Button>
            </div>
          </div>
        )}

        {/* Step: Test Connection */}
        {step === 'test' && provider && (
          <div className="space-y-6 animate-reveal text-center">
            <div className="flex items-center justify-center gap-2 mb-4">
              <span className="text-3xl">{provider.icon}</span>
            </div>

            <h2 className="text-lg font-medium text-primary">
              verificar conexin
            </h2>

            <p className="text-sm text-secondary max-w-md mx-auto">
              Probamos la conexin con {provider.name} usando el modelo seleccionado
            </p>

            <div className="bg-surface/30 border border-border/50 rounded-lg p-6 max-w-md mx-auto">
              <div className="space-y-3 text-left text-sm">
                <div className="flex items-center justify-between">
                  <span className="text-secondary">Proveedor:</span>
                  <span className="text-primary font-medium">{provider.name}</span>
                </div>
                <div className="flex items-center justify-between">
                  <span className="text-secondary">Modelo:</span>
                  <span className="text-primary font-mono text-xs">{selectedModel}</span>
                </div>
                {provider.requiresApiKey && (
                  <div className="flex items-center justify-between">
                    <span className="text-secondary">API Key:</span>
                    <span className="text-primary font-mono text-xs">
                      {apiKey.slice(0, 8)}...{apiKey.slice(-4)}
                    </span>
                  </div>
                )}
              </div>
            </div>

            {testResult === 'success' && (
              <div className="flex items-center justify-center gap-2 text-green-400 animate-reveal">
                <Check size={20} />
                <span className="font-medium">Conexin exitosa</span>
              </div>
            )}

            {testResult === 'error' && (
              <div className="text-red-400 animate-reveal">
                <span className="text-sm">Error de conexin. Verifica tu API key.</span>
              </div>
            )}

            <div className="flex gap-3 pt-4 max-w-md mx-auto">
              <Button
                variant="ghost"
                onClick={() => setStep('config')}
                className="flex-1"
              >
                atrs
              </Button>

              {testResult !== 'success' ? (
                <Button
                  variant="primary"
                  onClick={handleTestConnection}
                  isLoading={isTesting}
                  className="flex-1"
                >
                  <Zap size={14} className="mr-2" />
                  probar conexin
                </Button>
              ) : (
                <Button
                  variant="primary"
                  onClick={handleComplete}
                  className="flex-1"
                >
                  <Check size={14} className="mr-2" />
                  comenzar
                </Button>
              )}
            </div>

            {testResult !== 'success' && (
              <button
                onClick={handleComplete}
                className="text-xs text-secondary hover:text-primary transition-colors"
              >
                continuar sin probar
              </button>
            )}
          </div>
        )}
      </div>
    </div>
  );
};

</file>

<file path="docs/ARCHITECTURE.md">
# Arquitectura de Integracin Go  TypeScript

## Vista General

```

                     Frontend (TypeScript)                        

                                                                  
                        
    React Components        Zustand Store                   
    - ChatOverlay     - AppState                      
    - FileExplorer          - Dispatchers                   
                        
                                                                 
                                                                 
                    
           services/bridge.ts                                  
    - Auto-detects Wails/Mock                                  
    - Type-safe bindings                                       
    - Event listeners management                               
                    
                                                                 

               
                Wails IPC (JSON-RPC over WebSocket)
               

                      Backend (Go)                                 

                                                                   
                     
          internal/app/app.go                                   
    - Wails Bound Methods (25 mtodos)                         
    - Events Emitter (chat:*, job:*)                           
    - Structured Logging (slog)                                
                     
                                                                  
           internal/fs/*        (File scanning)           
           internal/jobs/*      (Job management)          
           internal/llm/*       (LLM providers)           
           internal/context/*   (Context building)        
                                                                   

```

---

## Flujo de Datos: Streaming de LLM

```

 1. Usuario enva mensaje en ChatOverlay                          

                           
                           

 2. Bridge.StreamChat(config, fileIds, messages, callbacks)       
    - Registra listeners: chat:token, chat:complete, chat:error   
    - Llama window.go.app.App.StreamPrompt(spec)                  

                           
                           

 3. Backend: StreamPrompt(spec)  crea Job, inicia goroutine      
    - job, jobCtx := a.jobManager.CreateJob(JobKindRunPrompt)    
    - go func() { llmService.Stream(...) }()                      
    - Retorna jobId inmediatamente                                

                           
                           

 4. LLM Provider streaming (OpenAI/OpenRouter)                    
    - Para cada token recibido:                                   
      wailsRuntime.EventsEmit(a.ctx, "chat:token", token)        

                           
                           

 5. Frontend: EventListener recibe "chat:token"                   
    - Valida tipo con isString(token)                            
    - Llama callback: onToken(token)                             
    - Actualiza UI con nuevo token                               

                           
                           

 6. Streaming completa o falla                                    
    - xito: EventsEmit("chat:complete", jobId)                  
    - Error: EventsEmit("chat:error", err.Error())               

                           
                           

 7. Frontend: Cleanup automtico                                  
    - Ejecuta onComplete() o onError(msg)                        
    - Desmonta listeners (tokenCleanup, completeCleanup, etc)    
    - Actualiza estado de UI                                      

```

---

## Gestin de Jobs Asncronos

```
Backend (internal/jobs/manager.go)

  JobManager                              
  - CreateJob(kind)  (Job, Context)     
  - UpdateJob(id, state, stage, ...)     
  - CompleteJob(id, error)                
  - CancelJob(id)  bool                  
  - GetJob(id)  *Job                     

                          
          Create           Poll/Query
                          

  Frontend                                
  - jobId = await StreamPrompt(spec)     
  - status = await GetJobStatus(jobId)   
  - await CancelJob(jobId)                


Estados del Job:
  queued  running  [succeeded | failed | cancelled]
```

---

## DTOs: Alineacin Go  TypeScript

```go
// Go: internal/domain/types.go
type TreeSnapshotDTO struct {
    Project   ProjectDTO   `json:"project"`
    Root      FileNodeDTO  `json:"root"`
    Stats     TreeStatsDTO `json:"stats"`
    CreatedAt ISOTime      `json:"createdAt"`
    Version   int          `json:"version"`
}
```

```typescript
// TypeScript: types/domain.ts
export type TreeSnapshotDTO = {
  project: ProjectDTO;
  root: FileNodeDTO;
  stats: TreeStatsDTO;
  createdAt: ISOTime;
  version: number;
};
```

**JSON Serialization**:
- Go struct tags `json:"field"`  camelCase
- TypeScript interfaces match exactly
- Zero-copy deserialization en frontend

---

## Manejo de Errores: 3 Capas

### Capa 1: Backend (Go)

```go
func (a *App) ScanProject(path string) (*TreeSnapshotDTO, error) {
    snapshot, err := a.scanner.Scan(path, opts)
    if err != nil {
        a.logger.Error("Scan fallido", "path", path, "error", err)
        return nil, fmt.Errorf("scan failed: %w", err)
    }
    return &dto, nil
}
```

### Capa 2: Bridge (TypeScript)

```typescript
async ScanProject(path: string): Promise<TreeSnapshot> {
  try {
    const dto = await window.go.app.App.ScanProject(path);
    return convertTreeDTO(dto);
  } catch (err) {
    console.error('[Bridge] Error escaneando:', err);
    throw err; // Re-lanzar para que componente maneje
  }
}
```

### Capa 3: Componente (React)

```typescript
const handleScan = async () => {
  try {
    setLoading(true);
    const tree = await Bridge.ScanProject(path);
    dispatch({ type: 'SET_PROJECT', payload: tree });
  } catch (err) {
    showToast(`Error: ${err.message}`, 'error');
  } finally {
    setLoading(false);
  }
};
```

---

## Eventos Wails: Publisher-Subscriber

```
Backend (Publisher)                   Frontend (Subscriber)
             
 wailsRuntime.EventsEmit              window.runtime.EventsOn
                        chat:token                        
    (token: string)     
                                       onToken(token)    
                                    
                                    
                       chat:complete                      
    (jobId: string)     
                                       onComplete()      
                                    
                                    
                        chat:error                        
    (error: string)     
                                       onError(error)    
              

Cleanup:
  - Frontend llama EventsOff(eventName) en unmount
  - O usa funcin de cleanup retornada por EventsOn()
```

---

## Logging y Observabilidad

### Backend (Go): Structured Logging con slog

```go
a.logger.Info("Operacin exitosa",
    "operation", "ScanProject",
    "path", path,
    "files", dto.Stats.Files,
    "duration_ms", elapsed.Milliseconds(),
)

a.logger.Error("Operacin fallida",
    "operation", "StreamPrompt",
    "jobId", job.ID,
    "error", err,
    "provider", spec.Provider,
)
```

**Output (JSON)**:
```json
{"time":"2025-12-15T10:30:45Z","level":"INFO","msg":"Operacin exitosa","operation":"ScanProject","path":"/Users/...","files":142,"duration_ms":234}
```

### Frontend (TypeScript): Console Logging

```typescript
console.log('[Bridge] Streaming iniciado', config.provider, config.model);
console.error('[Bridge] Error:', error);
```

**Prefijos**:
- `[Bridge]` - Operaciones de bridge
- `[EventValidator]` - Validacin de eventos
- `[Chat]` - Componente de chat

---

## Type Safety: Validadores de Eventos

```typescript
// event-validators.ts
export function isString(data: unknown): data is string {
  return typeof data === 'string';
}

// Uso en listener
tokenCleanup = window.runtime.EventsOn('chat:token', (token: unknown) => {
  if (!isString(token)) {
    logInvalidEvent('chat:token', token);
    return;
  }
  onToken(token); // token es string aqu
});
```

**Beneficios**:
- Runtime validation de datos
- Type narrowing automtico
- Logging de datos invlidos
- Previene crashes por tipos incorrectos

---

## Patrones de Cleanup

### useEffect Cleanup Pattern

```typescript
useEffect(() => {
  const streamControl = Bridge.StreamChat(...);

  return () => {
    // Cleanup automtico en unmount
    streamControl.stop();
  };
}, [dependencies]);
```

### Ref-based Manual Cleanup

```typescript
const streamRef = useRef<{ stop: () => void } | null>(null);

const start = () => {
  streamRef.current = Bridge.StreamChat(...);
};

const stop = () => {
  streamRef.current?.stop();
  streamRef.current = null;
};

useEffect(() => {
  return () => streamRef.current?.stop();
}, []);
```

---

## Resumen de Garantas

### Type Safety
-  DTOs idnticos Go  TypeScript
-  Type guards para eventos
-  Inferencia de tipos en callbacks
-  No `any` en interfaces pblicas

### Error Handling
-  Wrapped errors en backend (`%w`)
-  Try-catch en operaciones crticas
-  Callbacks `onError` para async ops
-  Logging en todas las capas

### Resource Management
-  Cleanup automtico de listeners
-  Cancelacin de jobs via `CancelJob()`
-  Refs para control de streaming
-  useEffect cleanup hooks

### Observability
-  Structured logging (JSON) en backend
-  Console logging con prefijos en frontend
-  Eventos auditables
-  Job status polling disponible

---

**Versin**: 1.0.0
**ltima actualizacin**: 2025-12-15

</file>

<file path="components/OneShot/Dashboard.tsx">
import React, { useMemo, useState } from 'react';
import { useStore } from '../../contexts/StoreContext';
import { StrategySelector } from './StrategySelector';
import { FileCard } from './FileCard';
import { ActionDock } from './ActionDock';
import { ArrowDown, ArrowUpRight, Sparkles, Folder, FileText, Zap, ChevronDown } from 'lucide-react';
import { Bridge } from '../../services/bridge';
import { useToast } from '../../contexts/ToastContext';
import { Button } from '../ui/Button';
import { Card } from '../ui/Card';
import { Select } from '../ui/Select';
import type { FileNode } from '../../types';
import { estimateTokens, formatNumber, cn } from '../../utils/cn';
import { findNodeById } from '../../utils/tree-utils';

export const Dashboard: React.FC = () => {
  const { state, dispatch } = useStore();
  const { addToast } = useToast();
  const [isGenerating, setIsGenerating] = useState(false);

  const selectedFiles: string[] = useMemo(
    () => Array.from(state.selectedFileIds),
    [state.selectedFileIds]
  );

  const { totalSize, totalTokens, fileCount } = useMemo(() => {
    if (!state.tree?.root) return { totalSize: 0, totalTokens: 0, fileCount: 0 };

    let size = 0;
    let count = 0;
    for (const id of selectedFiles) {
      const node = findNodeById(state.tree.root, id);
      if (node && !node.isDir) {
        size += node.size;
        count++;
      }
    }
    return { totalSize: size, totalTokens: estimateTokens(size), fileCount: count };
  }, [selectedFiles, state.tree]);

  const usagePercent = Math.min((totalTokens / state.budgetTokens) * 100, 100);
  const isOverBudget = totalTokens > state.budgetTokens;

  const handleOpen = async () => {
    dispatch({ type: 'SET_LOADING', payload: true });
    try {
      const path = await Bridge.SelectProject();
      if (path) {
        const tree = await Bridge.ScanProject(path);
        dispatch({ type: 'SET_PROJECT', payload: { path, tree } });
      }
    } catch (err) {
      addToast('error', 'Error al abrir proyecto');
    } finally {
      dispatch({ type: 'SET_LOADING', payload: false });
    }
  };

  const handleGenerate = async () => {
    if (fileCount === 0) {
      addToast('error', 'Selecciona al menos un archivo');
      return;
    }
    if (!state.intent.trim()) {
      addToast('error', 'Describe tu objetivo');
      return;
    }

    setIsGenerating(true);
    try {
      let contextPayload = '';
      for (const id of selectedFiles) {
        const content = await Bridge.GetFileContent(id);
        contextPayload += `<file path="${id}">\n${content}\n</file>\n\n`;
      }

      const systemPrompt = `Eres un asistente experto en desarrollo de software.
El usuario te proporciona archivos de codigo como contexto y un objetivo.
Analiza el contexto y genera una solucion completa.

CONTEXTO DEL PROYECTO:
${contextPayload}`;

      const fullPrompt = `OBJETIVO: ${state.intent}

Por favor, genera una solucion completa que incluya:
1. Analisis del codigo existente
2. Cambios propuestos (con diff cuando sea posible)
3. Nuevos archivos si son necesarios
4. Comandos de terminal si aplica`;

      await navigator.clipboard.writeText(`${systemPrompt}\n\n${fullPrompt}`);
      addToast('success', 'Prompt copiado al portapapeles');

    } catch (err) {
      addToast('error', 'Error al generar prompt');
    } finally {
      setIsGenerating(false);
    }
  };

  // 
  // HERO STATE (Sin proyecto)
  // 
  if (!state.projectPath) {
    return (
      <div className="flex-1 flex flex-col h-full bg-canvas relative overflow-hidden">
        {/* Background decoration */}
        <div className="absolute top-0 right-0 w-[50vw] h-[50vw] bg-surface rounded-full blur-[120px] -translate-y-1/2 translate-x-1/4 -z-10 opacity-40" />

        {/* Spacer */}
        <div className="flex-grow" />

        {/* Main content */}
        <div className="flex flex-col md:flex-row justify-between items-end w-full px-8 md:px-12 pb-8 md:pb-12 border-b border-stroke">
          {/* Left: Description + CTA */}
          <div className="animate-reveal mb-8 md:mb-0 w-full md:w-auto">
            <p className="text-sm font-normal leading-relaxed text-ink-subtle lowercase max-w-xs tracking-wide mb-8">
              constructor de contexto para llms. selecciona archivos,
              define tu objetivo, genera prompts estructurados.
            </p>

            <button
              onClick={handleOpen}
              disabled={state.isLoading}
              className="group inline-flex items-center gap-2 text-micro font-medium uppercase tracking-widest border-b border-stroke pb-1 transition-all duration-normal hover:border-ink hover:text-ink-muted disabled:opacity-50"
            >
              {state.isLoading ? 'cargando...' : 'abrir repositorio'}
              <ArrowUpRight
                size={14}
                className="group-hover:translate-x-0.5 group-hover:-translate-y-0.5 transition-transform duration-normal"
              />
            </button>
          </div>

          {/* Right: Headline */}
          <div className="text-left md:text-right animate-reveal delay-100">
            <h1 className="text-display lowercase leading-[0.85] font-semibold text-ink tracking-tighter">
              contexto<br />
              simplificado<br />
              <span className="text-ink-subtle">one-shot</span>
            </h1>
          </div>
        </div>

        {/* Bottom status bar */}
        <div className="w-full px-8 md:px-12 py-6 flex justify-between items-center animate-reveal delay-200">
          <div className="flex gap-8">
            <span className="text-xs font-medium lowercase flex items-center gap-2">
              <span className="w-2 h-2 bg-status-ready rounded-full animate-pulse" />
              listo para trabajar
            </span>
          </div>

          <div className="text-micro text-ink-subtle uppercase tracking-widest animate-pulse-subtle">
            selecciona un proyecto
          </div>
        </div>
      </div>
    );
  }

  // 
  // WORKSPACE STATE (Con proyecto)
  // 
  return (
    <div className="flex-1 flex flex-col h-full overflow-hidden bg-canvas relative font-sans selection:bg-status-ready selection:text-black">
      
      {/* Header */}
      <header className="px-10 pt-10 pb-6 flex justify-between items-center animate-reveal">
        <h1 className="text-h2 font-light lowercase text-ink tracking-tight">dashboard</h1>
        <button className="text-ink-subtle hover:text-ink transition-colors">
            <span className="sr-only">Settings</span>
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><circle cx="12" cy="12" r="3"></circle><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path></svg>
        </button>
      </header>
      
      {/* SVG Defs for Graphs */}
      <svg className="absolute w-0 h-0">
        <defs>
            <linearGradient id="gradient-files" x1="0" y1="0" x2="0" y2="1">
                <stop offset="0%" stopColor="currentColor" stopOpacity="0.5" />
                <stop offset="100%" stopColor="currentColor" stopOpacity="0" />
            </linearGradient>
        </defs>
      </svg>

      <div className="flex-1 overflow-y-auto px-10 pb-32 scrollbar-hidden">

        {/* Separator */}
        <div className="w-full h-px bg-stroke mb-8 animate-reveal delay-100" />

        {/* Stats Grid */}
        <section className="grid grid-cols-1 md:grid-cols-3 gap-6 mb-16 animate-reveal delay-200">
            {/* Files Card */}
            <div className="group relative p-6 bg-surface border border-stroke rounded-xl h-40 flex flex-col justify-between hover:border-stroke-emphasis hover:shadow-glow-subtle transition-all duration-300">
                <span className="text-sm text-ink-muted lowercase font-medium">files</span>
                <div className="flex items-end justify-between">
                    <span className="text-4xl font-light text-ink tracking-tighter">{formatNumber(fileCount)}</span>
                    {/* Tiny Graph Decoration */}
                    <svg className="w-16 h-8 text-ink-subtle opacity-50 group-hover:text-status-ready group-hover:opacity-100 transition-colors" viewBox="0 0 64 32" fill="none" stroke="currentColor" strokeWidth="2">
                        <path d="M0 28 C10 28, 15 15, 25 20 C35 25, 40 5, 50 10 C55 12, 60 0, 64 0" vectorEffect="non-scaling-stroke"/>
                        <path d="M0 28 L64 28" strokeWidth="0" fill="url(#gradient-files)" className="opacity-20"/>
                    </svg>
                </div>
            </div>

            {/* Tokens Card */}
            <div className="group relative p-6 bg-surface border border-stroke rounded-xl h-40 flex flex-col justify-between hover:border-stroke-emphasis hover:shadow-glow-subtle transition-all duration-300">
                <span className="text-sm text-ink-muted lowercase font-medium">tokens</span>
                <div className="flex items-end justify-between">
                    <span className="text-4xl font-light text-ink tracking-tighter">{totalTokens > 1000 ? `${(totalTokens/1000).toFixed(0)}k` : totalTokens}</span>
                    <svg className="w-16 h-8 text-ink-subtle opacity-50 group-hover:text-status-ready group-hover:opacity-100 transition-colors" viewBox="0 0 64 32" fill="none" stroke="currentColor" strokeWidth="2">
                         <path d="M0 25 C10 25, 20 20, 30 22 C40 24, 50 10, 64 5" vectorEffect="non-scaling-stroke"/>
                    </svg>
                </div>
            </div>

            {/* Budget Card */}
            <div className="group relative p-6 bg-surface border border-stroke rounded-xl h-40 flex flex-col justify-between hover:border-stroke-emphasis hover:shadow-glow-subtle transition-all duration-300">
                <span className="text-sm text-ink-muted lowercase font-medium">budget</span>
                <div>
                     <div className="flex items-baseline gap-1">
                        <span className="text-4xl font-light text-ink tracking-tighter">${(state.budgetTokens / 10000).toFixed(2)}</span>
                     </div>
                     <div className="w-full bg-surface-muted h-1 mt-4 rounded-full overflow-hidden">
                        <div 
                            className={`h-full rounded-full transition-all duration-500 ${isOverBudget ? 'bg-status-error' : 'bg-status-ready'}`}
                            style={{ width: `${Math.min(usagePercent, 100)}%` }}
                        />
                     </div>
                </div>
            </div>
        </section>

        {/* Main Action - Centered Large Button */}
        <section className="flex justify-center items-center py-10 animate-reveal delay-300">
            <button
                onClick={handleGenerate}
                disabled={fileCount === 0 || isGenerating}
                className="group relative w-full max-w-lg h-20 rounded-pill bg-surface border border-stroke hover:border-status-ready hover:shadow-glow transition-all duration-300 flex items-center justify-center gap-3 overflow-hidden"
            >
                {/* Background Hover Effect */}
                <div className="absolute inset-0 bg-gradient-to-r from-transparent via-white/5 to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-1000 ease-in-out" />
                
                <span className="text-xl font-light lowercase text-ink tracking-wide z-10">
                    {isGenerating ? 'generating...' : 'generate one-shot'}
                </span>
                
                {!isGenerating && <Sparkles className="w-5 h-5 text-status-ready z-10 animate-pulse-glow" />}
            </button>
        </section>

        {/* Selected Files List (Visible but subtle) */}
        {fileCount > 0 && (
          <section className="animate-slide-up mt-12">
            <div className="flex items-center justify-between mb-6 px-2">
              <span className="text-micro font-mono text-ink-subtle uppercase tracking-widest">
                contexto seleccionado
              </span>
              <button
                onClick={() => dispatch({ type: 'CLEAR_SELECTION' })}
                className="text-micro text-ink-subtle hover:text-status-error transition-colors uppercase tracking-widest"
              >
                clear
              </button>
            </div>
            <div className="grid grid-cols-1 gap-2">
                {selectedFiles.map(id => (
                    <div key={id} className="group flex items-center justify-between p-3 rounded-lg hover:bg-surface-elevated transition-colors border border-transparent hover:border-stroke">
                        <div className="flex items-center gap-3 overflow-hidden">
                            <FileText size={16} className="text-ink-subtle group-hover:text-status-ready transition-colors" />
                            <span className="text-sm text-ink-muted truncate font-mono">{id.split('/').pop()}</span>
                        </div>
                        <span className="text-xs text-ink-subtle font-mono group-hover:text-ink transition-colors">
                            {formatNumber(findNodeById(state.tree?.root, id)?.size || 0)}b
                        </span>
                    </div>
                ))}
            </div>
          </section>
        )}

      </div>
    </div>
  );
};

</file>

<file path="components/features/Context/ContextPanel.tsx">
import React, { useState, useMemo } from 'react';
import { useStore } from '../../../contexts/StoreContext';
import { Button } from '../../ui/Button';
import { Copy, Download, Eye, EyeOff, FileText, Code2 } from 'lucide-react';
import { useToast } from '../../../contexts/ToastContext';
import { formatBytes, estimateTokens } from '../../../utils/cn';
import { Bridge } from '../../../services/bridge';
import type { FileNode } from '../../../types';
import { findNodeById } from '../../../utils/tree-utils';

type OutputFormat = 'xml' | 'markdown';

export const ContextPanel: React.FC = () => {
  const { state, dispatch } = useStore();
  const { addToast } = useToast();
  const [showPreview, setShowPreview] = useState(false);
  const [previewContent, setPreviewContent] = useState('');
  const [isLoading, setIsLoading] = useState(false);
  const [outputFormat, setOutputFormat] = useState<OutputFormat>('xml');

  const selectedFiles: string[] = useMemo(
    () => Array.from(state.selectedFileIds),
    [state.selectedFileIds]
  );

  // Calcular tamano real desde el arbol
  const { totalSize, fileDetails } = useMemo(() => {
    if (!state.tree?.root) {
      return { totalSize: 0, fileDetails: [] as { id: string; name: string; size: number }[] };
    }

    const details: { id: string; name: string; size: number }[] = [];
    let size = 0;

    for (const id of selectedFiles) {
      const node = findNodeById(state.tree.root, id);
      if (node && !node.isDir) {
        details.push({ id: node.id, name: node.name, size: node.size });
        size += node.size;
      }
    }

    // Ordenar por tamao descendente
    details.sort((a, b) => b.size - a.size);

    return { totalSize: size, fileDetails: details };
  }, [selectedFiles, state.tree]);

  const estimatedTokens = estimateTokens(totalSize);
  const budgetLimit = state.budgetTokens;
  const usagePercent = Math.min((estimatedTokens / budgetLimit) * 100, 100);
  const isOverBudget = estimatedTokens > budgetLimit;

  // Construir preview del payload
  const buildPreview = async () => {
    if (selectedFiles.length === 0) return;

    setIsLoading(true);
    try {
      let content = '';
      for (const file of fileDetails) {
        const fileContent = await Bridge.GetFileContent(file.id);
        if (outputFormat === 'xml') {
          content += `<file path="${file.id}">\n${fileContent}\n</file>\n\n`;
        } else {
          content += `## ${file.id}\n\n\`\`\`\n${fileContent}\n\`\`\`\n\n`;
        }
      }
      setPreviewContent(content);
      setShowPreview(true);
    } catch (err) {
      addToast('error', 'Error al cargar archivos');
    } finally {
      setIsLoading(false);
    }
  };

  const handleCopy = async () => {
    if (selectedFiles.length === 0) return;

    setIsLoading(true);
    try {
      let content = '';
      for (const file of fileDetails) {
        const fileContent = await Bridge.GetFileContent(file.id);
        if (outputFormat === 'xml') {
          content += `<file path="${file.id}">\n${fileContent}\n</file>\n\n`;
        } else {
          content += `## ${file.id}\n\n\`\`\`\n${fileContent}\n\`\`\`\n\n`;
        }
      }
      await navigator.clipboard.writeText(content);
      addToast('success', `${fileDetails.length} archivos copiados`);
    } catch (err) {
      addToast('error', 'Error al copiar');
    } finally {
      setIsLoading(false);
    }
  };

  const handleCopyPreview = async () => {
    try {
      await navigator.clipboard.writeText(previewContent);
      addToast('success', 'Preview copiado al portapapeles');
    } catch (err) {
      addToast('error', 'Error al copiar preview');
    }
  };

  const handleExportJSON = () => {
    const manifest = {
      files: fileDetails.map(f => ({ path: f.id, size: f.size, tokens: estimateTokens(f.size) })),
      totalSize,
      estimatedTokens,
      budget: budgetLimit,
      createdAt: new Date().toISOString(),
    };
    const blob = new Blob([JSON.stringify(manifest, null, 2)], { type: 'application/json' });
    const url = URL.createObjectURL(blob);
    const a = document.createElement('a');
    a.href = url;
    a.download = 'context-manifest.json';
    a.click();
    URL.revokeObjectURL(url);
    addToast('success', 'Manifest exportado');
  };

  const handleBudgetChange = (newBudget: number) => {
    dispatch({ type: 'SET_BUDGET', payload: newBudget });
  };

  return (
    <div className="flex flex-col h-full bg-background animate-reveal">
      {/* Header con metricas */}
      <div className="p-12 border-b border-border">
        <h2 className="text-3xl font-light tracking-tight lowercase text-primary mb-8">
          Contexto
        </h2>

        <div className="grid grid-cols-3 gap-12 mb-8">
          <div>
            <span className="text-[10px] text-secondary uppercase tracking-widest block mb-2">
              Archivos
            </span>
            <span className="text-4xl font-mono text-primary">{fileDetails.length}</span>
          </div>
          <div>
            <span className="text-[10px] text-secondary uppercase tracking-widest block mb-2">
              Tamao
            </span>
            <span className="text-4xl font-mono text-primary">{formatBytes(totalSize)}</span>
          </div>
          <div>
            <span className="text-[10px] text-secondary uppercase tracking-widest block mb-2">
              Tokens (est.)
            </span>
            <span className={`text-4xl font-mono ${isOverBudget ? 'text-red-400' : 'text-primary'}`}>
              {estimatedTokens.toLocaleString('es-MX')}
            </span>
          </div>
        </div>

        {/* Budget selector */}
        <div className="flex items-center gap-4 mb-6">
          <span className="text-[10px] text-secondary uppercase tracking-widest">Presupuesto:</span>
          <select
            value={budgetLimit}
            onChange={(e) => handleBudgetChange(Number(e.target.value))}
            className="bg-surface border border-border rounded px-3 py-1 text-sm text-primary"
          >
            <option value={25000}>25k tokens</option>
            <option value={50000}>50k tokens</option>
            <option value={100000}>100k tokens</option>
            <option value={128000}>128k tokens</option>
            <option value={200000}>200k tokens</option>
          </select>
          <span className="text-[10px] text-secondary">
            {usagePercent.toFixed(0)}% usado
          </span>
        </div>

        {/* Barra de progreso mejorada */}
        <div className="space-y-3">
          <div className="flex items-center justify-between text-xs">
            <span className="text-secondary font-mono">
              {estimatedTokens.toLocaleString('es-MX')} / {budgetLimit.toLocaleString('es-MX')} tokens
            </span>
            <span className={`font-medium ${
              isOverBudget ? 'text-red-400' :
              usagePercent > 80 ? 'text-yellow-400' :
              'text-green-400'
            }`}>
              {usagePercent.toFixed(1)}%
            </span>
          </div>
          <div className="relative w-full bg-surface h-2 rounded-full overflow-hidden">
            <div
              className={`h-full transition-all duration-500 ease-out rounded-full ${
                isOverBudget ? 'bg-red-400' :
                usagePercent > 80 ? 'bg-yellow-400' :
                'bg-green-400'
              }`}
              style={{ width: `${Math.min(usagePercent, 100)}%` }}
            />
          </div>
          {isOverBudget && (
            <p className="text-xs text-red-400">
              Excede el presupuesto por {(estimatedTokens - budgetLimit).toLocaleString('es-MX')} tokens
            </p>
          )}
        </div>
      </div>

      {/* Lista de archivos */}
      <div className="flex-1 overflow-y-auto p-12 custom-scrollbar">
        {fileDetails.length > 0 ? (
          <div className="space-y-4">
            <div className="flex items-center justify-between border-b border-border pb-3">
              <h3 className="text-xs font-mono text-secondary lowercase">
                Archivos seleccionados
              </h3>
              <span className="text-[10px] text-border">
                {fileDetails.length} archivo{fileDetails.length !== 1 ? 's' : ''}
              </span>
            </div>

            <div className="space-y-2">
              {fileDetails.map((file) => (
                <div
                  key={file.id}
                  className="flex items-center justify-between p-3 rounded bg-surface/50 hover:bg-surface transition-colors group"
                >
                  <div className="flex-1 min-w-0 mr-4">
                    <div className="text-sm text-primary font-mono truncate">{file.name}</div>
                    <div className="text-[10px] text-border mt-1 truncate">{file.id}</div>
                  </div>
                  <div className="flex items-center gap-4 shrink-0">
                    <div className="text-right">
                      <div className="text-xs text-secondary font-mono">
                        {formatBytes(file.size)}
                      </div>
                      <div className="text-[10px] text-border">
                        {estimateTokens(file.size).toLocaleString('es-MX')} tok
                      </div>
                    </div>
                  </div>
                </div>
              ))}
            </div>

            {/* Total */}
            <div className="border-t border-border pt-4 mt-4">
              <div className="flex items-center justify-between p-3 rounded bg-primary/5">
                <span className="text-sm font-medium text-primary">Total</span>
                <div className="text-right">
                  <div className="text-sm text-primary font-mono font-medium">
                    {formatBytes(totalSize)}
                  </div>
                  <div className="text-xs text-secondary">
                    {estimatedTokens.toLocaleString('es-MX')} tokens
                  </div>
                </div>
              </div>
            </div>
          </div>
        ) : (
          <div className="flex flex-col items-center justify-center h-full text-secondary">
            <FileText size={48} className="mb-4 opacity-20" />
            <p className="text-sm">Selecciona archivos en el rbol</p>
          </div>
        )}

        {/* Preview panel mejorado */}
        {showPreview && previewContent && (
          <div className="mt-8 border border-border rounded-lg overflow-hidden animate-reveal">
            <div className="bg-surface px-4 py-3 border-b border-border flex items-center justify-between">
              <div className="flex items-center gap-3">
                <span className="text-xs font-mono text-secondary">Preview del contexto</span>
                <span className="text-[10px] text-border">
                  {previewContent.length.toLocaleString('es-MX')} caracteres
                </span>
              </div>
              <div className="flex items-center gap-2">
                <Button
                  variant="ghost"
                  size="sm"
                  onClick={handleCopyPreview}
                  icon={<Copy size={12} />}
                >
                  Copiar
                </Button>
                <button
                  onClick={() => setShowPreview(false)}
                  className="text-secondary hover:text-primary transition-colors p-1"
                >
                  <EyeOff size={14} />
                </button>
              </div>
            </div>
            <div className="relative">
              <pre className="p-4 text-xs font-mono text-secondary overflow-x-auto max-h-80 overflow-y-auto custom-scrollbar bg-black/20">
{previewContent.slice(0, 8000)}
{previewContent.length > 8000 && '\n\n... (truncado para preview, copia el contenido completo)'}
              </pre>
            </div>
          </div>
        )}
      </div>

      {/* Footer con acciones */}
      <div className="p-8 border-t border-border bg-background space-y-4">
        {/* Selector de formato */}
        <div className="flex items-center justify-between">
          <div className="flex items-center gap-3">
            <span className="text-[10px] text-secondary uppercase tracking-widest">Formato:</span>
            <div className="flex gap-2 p-1 bg-surface rounded-lg border border-border">
              <button
                onClick={() => setOutputFormat('xml')}
                className={`flex items-center gap-2 px-3 py-1.5 rounded text-xs font-medium transition-colors ${
                  outputFormat === 'xml'
                    ? 'bg-primary text-black'
                    : 'text-secondary hover:text-primary'
                }`}
              >
                <Code2 size={14} />
                XML-ish
              </button>
              <button
                onClick={() => setOutputFormat('markdown')}
                className={`flex items-center gap-2 px-3 py-1.5 rounded text-xs font-medium transition-colors ${
                  outputFormat === 'markdown'
                    ? 'bg-primary text-black'
                    : 'text-secondary hover:text-primary'
                }`}
              >
                <FileText size={14} />
                Markdown
              </button>
            </div>
          </div>
        </div>

        {/* Botones de accin */}
        <div className="flex justify-between items-center">
          <Button
            variant="ghost"
            onClick={buildPreview}
            disabled={fileDetails.length === 0 || isLoading}
            icon={<Eye size={14} />}
          >
            {showPreview ? 'Actualizar' : 'Preview'}
          </Button>

          <div className="flex gap-3">
            <Button variant="outline" onClick={handleExportJSON} disabled={fileDetails.length === 0}>
              <Download size={14} className="mr-2" />
              JSON
            </Button>
            <Button
              variant="primary"
              onClick={handleCopy}
              disabled={fileDetails.length === 0 || isLoading}
              isLoading={isLoading}
            >
              <Copy size={14} className="mr-2" />
              Copiar
            </Button>
          </div>
        </div>
      </div>
    </div>
  );
};

</file>

<file path="services/bridge.ts">
// Bridge: Conexion real con backend Go via Wails
import type { TreeSnapshot, FileSummary, PromptRunResult, AIConfig, ChatMessage } from '../types';
import type {
  TreeSnapshotDTO,
  SelectionDTO,
  ContextBuildOptionsDTO,
  ContextPayloadDTO,
  PromptRunSpecDTO,
  PromptRunResultDTO,
  treeDTOToLegacy,
} from '../types/domain';
import { isString, logInvalidEvent } from './event-validators';

// Declaraciones de tipos para Wails bindings
declare global {
  interface Window {
    go: {
      app: {
        App: {
          SelectProject(): Promise<string>;
          ScanProject(path: string): Promise<TreeSnapshotDTO>;
          ScanProjectWithOptions(path: string, useGitignore: boolean, customIgnore: string): Promise<TreeSnapshotDTO>;
          ReadFile(relPath: string, projectPath: string): Promise<string>;
          ReadFileWithLimit(relPath: string, projectPath: string, maxBytes: number): Promise<[string, boolean]>;
          GetPlatform(): Promise<string>;
          CancelJob(jobId: string): Promise<void>;
          GetJobStatus(jobId: string): Promise<import('../types/domain').JobProgressDTO>;
          BuildContext(selection: SelectionDTO, options: ContextBuildOptionsDTO, projectPath: string): Promise<ContextPayloadDTO>;
          ConfigureLLM(provider: string, apiKey: string, baseURL: string): Promise<void>;
          RunPrompt(spec: PromptRunSpecDTO): Promise<PromptRunResultDTO>;
          StreamPrompt(spec: PromptRunSpecDTO): Promise<string>; // Retorna jobId
          StopStream(jobId: string): Promise<void>;
        };
      };
    };
    runtime: {
      EventsOn(eventName: string, callback: (...args: unknown[]) => void): () => void;
      EventsOff(eventName: string): void;
      EventsEmit(eventName: string, ...args: unknown[]): void;
    };
  }
}

// Estado del proyecto actual (cache local)
let currentProjectPath: string | null = null;

// Conversion de TreeSnapshotDTO a formato legacy
function convertTreeDTO(dto: TreeSnapshotDTO): TreeSnapshot {
  const convertNode = (node: TreeSnapshotDTO['root']): TreeSnapshot['root'] => ({
    id: node.id,
    name: node.name,
    path: node.relPath,
    isDir: node.kind === 'dir',
    size: node.sizeBytes ?? 0,
    modTime: node.modTime ?? new Date().toISOString(),
    children: node.children?.map(convertNode),
  });

  return {
    root: convertNode(dto.root),
    fileCount: dto.stats.files,
    totalSize: dto.stats.totalBytes,
    scannedAt: dto.createdAt,
  };
}

// Detecta si estamos en entorno Wails o desarrollo web
function isWailsEnvironment(): boolean {
  return typeof window !== 'undefined' &&
         typeof window.go !== 'undefined' &&
         typeof window.go.app !== 'undefined';
}

// Mock para desarrollo web sin backend
const MockBridge = {
  async SelectProject(): Promise<string> {
    console.warn('[Bridge] Modo mock: SelectProject');
    return '/mock/project/path';
  },

  async ScanProject(_path: string): Promise<TreeSnapshot> {
    console.warn('[Bridge] Modo mock: ScanProject');
    return {
      fileCount: 3,
      totalSize: 1024,
      scannedAt: new Date().toISOString(),
      root: {
        id: 'root',
        name: 'mock-project',
        path: '.',
        isDir: true,
        size: 0,
        modTime: new Date().toISOString(),
        children: [
          { id: 'src', name: 'src', path: 'src', isDir: true, size: 0, modTime: new Date().toISOString(), children: [
            { id: 'src/main.ts', name: 'main.ts', path: 'src/main.ts', isDir: false, size: 512, modTime: new Date().toISOString() },
          ]},
          { id: 'package.json', name: 'package.json', path: 'package.json', isDir: false, size: 256, modTime: new Date().toISOString() },
        ],
      },
    };
  },

  async GetFileContent(_fileId: string): Promise<string> {
    console.warn('[Bridge] Modo mock: GetFileContent');
    return '// Mock file content\nconsole.log("Hello");';
  },

  async SummarizeFile(fileId: string, content: string): Promise<FileSummary> {
    console.warn('[Bridge] Modo mock: SummarizeFile');
    return {
      fileId,
      originalSize: content.length,
      summarySize: Math.floor(content.length * 0.3),
      isReady: true,
      content: `// Summary of ${fileId}`,
    };
  },

  async RunPrompt(_params: { provider: string; model: string; system: string; userPrompt: string; contextFiles: string[] }): Promise<PromptRunResult> {
    console.warn('[Bridge] Modo mock: RunPrompt');
    return {
      id: crypto.randomUUID(),
      content: 'Mock response: Backend no disponible.',
      duration: 100,
    };
  },

  StreamChat(
    _config: AIConfig,
    _fileIds: string[],
    _messages: ChatMessage[],
    onToken: (token: string) => void,
    onComplete?: () => void,
    onError?: (error: string) => void
  ): { stop: () => void } {
    console.warn('[Bridge] Modo mock: StreamChat');
    let active = true;
    setTimeout(() => {
      if (active) {
        onToken('Mock response: Backend no disponible.');
        if (onComplete) onComplete();
      }
    }, 100);
    return { stop: () => { active = false; } };
  },

  async ConfigureLLM(provider: string, apiKey: string, baseURL: string = ''): Promise<void> {
    console.warn('[Bridge] Modo mock: ConfigureLLM', { provider, hasKey: !!apiKey, baseURL });
    // Simular delay de configuracin
    await new Promise(resolve => setTimeout(resolve, 500));
  },
};

// Bridge real conectado a Wails
const WailsBridge = {
  async SelectProject(): Promise<string> {
    const path = await window.go.app.App.SelectProject();
    if (path) {
      currentProjectPath = path;
    }
    return path;
  },

  async ScanProject(path: string): Promise<TreeSnapshot> {
    currentProjectPath = path;
    const dto = await window.go.app.App.ScanProject(path);
    return convertTreeDTO(dto);
  },

  async ScanProjectWithOptions(path: string, useGitignore: boolean, customIgnore: string): Promise<TreeSnapshot> {
    currentProjectPath = path;
    const dto = await window.go.app.App.ScanProjectWithOptions(path, useGitignore, customIgnore);
    return convertTreeDTO(dto);
  },

  async GetFileContent(fileId: string): Promise<string> {
    if (!currentProjectPath) {
      throw new Error('No project selected');
    }
    return await window.go.app.App.ReadFile(fileId, currentProjectPath);
  },

  async GetFileContentWithLimit(fileId: string, maxBytes: number): Promise<{ content: string; truncated: boolean }> {
    if (!currentProjectPath) {
      throw new Error('No project selected');
    }
    const [content, truncated] = await window.go.app.App.ReadFileWithLimit(fileId, currentProjectPath, maxBytes);
    return { content, truncated };
  },

  async SummarizeFile(fileId: string, content: string): Promise<FileSummary> {
    // Por ahora, summarize es local (heuristica simple)
    // En Fase 5 esto puede conectarse a un LLM
    const originalSize = content.length;
    const summarySize = Math.floor(originalSize * 0.3);

    return {
      fileId,
      originalSize,
      summarySize,
      isReady: true,
      content: content.slice(0, summarySize) + '\n// ... (truncated)',
    };
  },

  async BuildContext(
    selectedIds: string[],
    options: ContextBuildOptionsDTO
  ): Promise<ContextPayloadDTO> {
    if (!currentProjectPath) {
      throw new Error('No project selected');
    }
    const selection: SelectionDTO = { selectedIds };
    return await window.go.app.App.BuildContext(selection, options, currentProjectPath);
  },

  async RunPrompt(params: { provider: string; model: string; system: string; userPrompt: string; contextFiles: string[] }): Promise<PromptRunResult> {
    // Construir spec para el backend
    const spec: PromptRunSpecDTO = {
      provider: params.provider as 'openai' | 'gemini' | 'openrouter',
      model: params.model,
      messages: [
        { role: 'system', content: params.system },
        { role: 'user', content: params.userPrompt },
      ],
    };

    const result = await window.go.app.App.RunPrompt(spec);

    return {
      id: result.runId,
      content: result.text,
      duration: 0, // TODO: calcular desde timestamps
    };
  },

  StreamChat(
    config: AIConfig,
    fileIds: string[],
    messages: ChatMessage[],
    onToken: (token: string) => void,
    onComplete?: () => void,
    onError?: (error: string) => void
  ): { stop: () => void } {
    let tokenCleanup: (() => void) | null = null;
    let completeCleanup: (() => void) | null = null;
    let errorCleanup: (() => void) | null = null;
    let currentJobId: string | null = null;

    console.log('[Bridge] StreamChat iniciando con config:', config.provider, config.model);

    // Listener: chat:token
    tokenCleanup = window.runtime.EventsOn('chat:token', (token: unknown) => {
      if (!isString(token)) {
        logInvalidEvent('chat:token', token);
        return;
      }
      console.log('[Bridge] Token recibido:', token.substring(0, 50));
      onToken(token);
    });

    // Listener: chat:complete
    completeCleanup = window.runtime.EventsOn('chat:complete', (jobId: unknown) => {
      console.log('[Bridge] Streaming completado, jobId:', jobId);
      if (onComplete) onComplete();
      // Cleanup automatico
      if (tokenCleanup) tokenCleanup();
      if (completeCleanup) completeCleanup();
      if (errorCleanup) errorCleanup();
    });

    // Listener: chat:error
    errorCleanup = window.runtime.EventsOn('chat:error', (errorMsg: unknown) => {
      if (!isString(errorMsg)) {
        logInvalidEvent('chat:error', errorMsg);
        if (onError) onError('Error desconocido');
        return;
      }
      console.error('[Bridge] Error en streaming:', errorMsg);
      if (onError) onError(errorMsg);
      // Cleanup automatico
      if (tokenCleanup) tokenCleanup();
      if (completeCleanup) completeCleanup();
      if (errorCleanup) errorCleanup();
    });

    // Construir spec con contexto de archivos seleccionados
    const spec: PromptRunSpecDTO = {
      provider: config.provider as 'openai' | 'gemini' | 'openrouter',
      model: config.model,
      temperature: config.temperature,
      messages: messages.map(m => ({
        role: m.role as 'user' | 'assistant',
        content: m.content,
      })),
    };

    // Llamar a StreamPrompt real del backend
    window.go.app.App.StreamPrompt(spec)
      .then(jobId => {
        currentJobId = jobId;
        console.log('[Bridge] Streaming iniciado, jobId:', jobId);
      })
      .catch(err => {
        console.error('[Bridge] Error iniciando streaming:', err);
        if (onError) onError(err.message || 'Error al iniciar streaming');
        // Cleanup en caso de fallo al iniciar
        if (tokenCleanup) tokenCleanup();
        if (completeCleanup) completeCleanup();
        if (errorCleanup) errorCleanup();
      });

    return {
      stop: () => {
        console.log('[Bridge] Deteniendo streaming, jobId:', currentJobId);
        if (currentJobId) {
          window.go.app.App.StopStream(currentJobId).catch(err => {
            console.error('[Bridge] Error deteniendo stream:', err);
          });
        }
        // Cleanup manual de listeners
        if (tokenCleanup) tokenCleanup();
        if (completeCleanup) completeCleanup();
        if (errorCleanup) errorCleanup();
      },
    };
  },

  async CancelJob(jobId: string): Promise<void> {
    console.log('[Bridge] Cancelando job:', jobId);
    try {
      await window.go.app.App.CancelJob(jobId);
      console.log('[Bridge] Job cancelado exitosamente');
    } catch (err) {
      console.error('[Bridge] Error cancelando job:', err);
      throw err;
    }
  },

  async GetJobStatus(jobId: string): Promise<import('../types/domain').JobProgressDTO> {
    console.log('[Bridge] Obteniendo estado de job:', jobId);
    try {
      const status = await window.go.app.App.GetJobStatus(jobId);
      console.log('[Bridge] Estado del job:', status.state, status.stage);
      return status;
    } catch (err) {
      console.error('[Bridge] Error obteniendo estado de job:', err);
      throw err;
    }
  },

  async ConfigureLLM(provider: string, apiKey: string, baseURL: string = ''): Promise<void> {
    console.log('[Bridge] Configurando LLM provider:', provider);
    try {
      await window.go.app.App.ConfigureLLM(provider, apiKey, baseURL);
      console.log('[Bridge] LLM configurado exitosamente');
    } catch (err) {
      console.error('[Bridge] Error configurando LLM:', err);
      throw err;
    }
  },

  async GetPlatform(): Promise<string> {
    return await window.go.app.App.GetPlatform();
  },

  // Getter para path actual
  getCurrentProjectPath(): string | null {
    return currentProjectPath;
  },

  setCurrentProjectPath(path: string): void {
    currentProjectPath = path;
  },
};

// Exportar bridge apropiado segun entorno
export const Bridge = isWailsEnvironment() ? WailsBridge : MockBridge;

// Re-exportar metodos adicionales solo disponibles en Wails
export const WailsExtras = isWailsEnvironment() ? {
  ScanProjectWithOptions: WailsBridge.ScanProjectWithOptions,
  GetFileContentWithLimit: WailsBridge.GetFileContentWithLimit,
  BuildContext: WailsBridge.BuildContext,
  CancelJob: WailsBridge.CancelJob,
  GetJobStatus: WailsBridge.GetJobStatus,
  ConfigureLLM: WailsBridge.ConfigureLLM,
  GetPlatform: WailsBridge.GetPlatform,
  getCurrentProjectPath: WailsBridge.getCurrentProjectPath,
  setCurrentProjectPath: WailsBridge.setCurrentProjectPath,
} : null;

// Helpers para manejo robusto de eventos
export function createEventListener<T = unknown>(
  eventName: string,
  handler: (data: T) => void,
  validator?: (data: unknown) => data is T
): () => void {
  if (!isWailsEnvironment()) {
    console.warn(`[Bridge] EventListener "${eventName}" en modo mock`);
    return () => {};
  }

  const cleanup = window.runtime.EventsOn(eventName, (data: unknown) => {
    if (validator && !validator(data)) {
      console.error(`[Bridge] Evento "${eventName}" con datos invalidos:`, data);
      return;
    }
    handler(data as T);
  });

  console.log(`[Bridge] Listener registrado para evento: ${eventName}`);
  return cleanup;
}

</file>

<file path="internal/domain/types.go">
package domain

import (
	"crypto/rand"
	"fmt"
	"time"
)

// NewUUID genera un UUID v4 simple
func NewUUID() string {
	b := make([]byte, 16)
	rand.Read(b)
	return fmt.Sprintf("%x-%x-%x-%x-%x", b[0:4], b[4:6], b[6:8], b[8:10], b[10:])
}

// 
// Common Types
// 

// ISOTime representa timestamps en formato RFC3339 (UTC)
type ISOTime string

func NowISO() ISOTime {
	return ISOTime(time.Now().UTC().Format(time.RFC3339Nano))
}

func (t ISOTime) Time() (time.Time, error) {
	return time.Parse(time.RFC3339Nano, string(t))
}

// ErrorDTO estructura estndar para errores
type ErrorDTO struct {
	Code    string `json:"code"`
	Message string `json:"message"`
	Details any    `json:"details,omitempty"`
}

// 
// Project / Tree DTOs
// 

// ProjectDTO informacin del proyecto abierto
type ProjectDTO struct {
	RootPath string  `json:"rootPath"`
	RepoName string  `json:"repoName"`
	OpenedAt ISOTime `json:"openedAt"`
	ScanHash string  `json:"scanHash,omitempty"`
	Platform string  `json:"platform,omitempty"`
}

// TreeSnapshotDTO snapshot completo del rbol de archivos
type TreeSnapshotDTO struct {
	Project   ProjectDTO   `json:"project"`
	Root      FileNodeDTO  `json:"root"`
	Stats     TreeStatsDTO `json:"stats"`
	CreatedAt ISOTime      `json:"createdAt"`
	Version   int          `json:"version"`
}

// TreeStatsDTO estadsticas del rbol
type TreeStatsDTO struct {
	Files      int   `json:"files"`
	Dirs       int   `json:"dirs"`
	TotalBytes int64 `json:"totalBytes"`
	Ignored    int   `json:"ignored"`
	MaxDepth   int   `json:"maxDepth"`
}

// FileKind tipo de nodo en el rbol
type FileKind string

const (
	FileKindDir  FileKind = "dir"
	FileKindFile FileKind = "file"
	FileKindLink FileKind = "link"
)

// FileNodeDTO nodo individual del rbol
type FileNodeDTO struct {
	Id        string        `json:"id"`
	RelPath   string        `json:"relPath"`
	Name      string        `json:"name"`
	Kind      FileKind      `json:"kind"`
	Ext       string        `json:"ext,omitempty"`
	SizeBytes int64         `json:"sizeBytes,omitempty"`
	ModTime   ISOTime       `json:"modTime,omitempty"`
	Hash      string        `json:"hash,omitempty"`
	Ignored   bool          `json:"ignored"`
	Reason    string        `json:"reason,omitempty"`
	Children  []FileNodeDTO `json:"children,omitempty"`
}

// 
// Selection / Ignore DTOs
// 

// SelectionDTO estado de seleccin del usuario
type SelectionDTO struct {
	SelectedIds []string `json:"selectedIds"`
	ExpandedIds []string `json:"expandedIds,omitempty"`
	FocusId     string   `json:"focusId,omitempty"`
}

// IgnoreOptionsDTO configuracin de reglas de ignore
type IgnoreOptionsDTO struct {
	UseGitignore     bool   `json:"useGitignore"`
	UseCustomIgnore  bool   `json:"useCustomIgnore"`
	CustomIgnoreText string `json:"customIgnoreText,omitempty"`
}

// 
// Job DTOs
// 

// JobKind tipo de trabajo
type JobKind string

const (
	JobKindScan         JobKind = "scan"
	JobKindBuildContext JobKind = "buildContext"
	JobKindRunPrompt    JobKind = "runPrompt"
)

// JobState estado del trabajo
type JobState string

const (
	JobStateQueued    JobState = "queued"
	JobStateRunning   JobState = "running"
	JobStateSucceeded JobState = "succeeded"
	JobStateFailed    JobState = "failed"
	JobStateCancelled JobState = "cancelled"
)

// JobProgressDTO progreso de un trabajo
type JobProgressDTO struct {
	JobId     string    `json:"jobId"`
	Kind      JobKind   `json:"kind"`
	State     JobState  `json:"state"`
	Stage     string    `json:"stage,omitempty"`
	Current   int64     `json:"current,omitempty"`
	Total     int64     `json:"total,omitempty"`
	Message   string    `json:"message,omitempty"`
	StartedAt ISOTime   `json:"startedAt,omitempty"`
	UpdatedAt ISOTime   `json:"updatedAt,omitempty"`
	Error     *ErrorDTO `json:"error,omitempty"`
}

// 
// Context DTOs
// 

// ContextBuildOptionsDTO opciones para construir el contexto
type ContextBuildOptionsDTO struct {
	MaxBytes      int64  `json:"maxBytes"`
	MaxFileBytes  int64  `json:"maxFileBytes"`
	IncludeBinary bool   `json:"includeBinary"`
	Format        string `json:"format"` // "xmlish" | "markdown"
}

// ContextFileDTO archivo incluido en el contexto
type ContextFileDTO struct {
	Id        string `json:"id"`
	RelPath   string `json:"relPath"`
	SizeBytes int64  `json:"sizeBytes,omitempty"`
	Truncated bool   `json:"truncated"`
	Content   string `json:"content"`
}

// ContextPayloadDTO payload completo del contexto
type ContextPayloadDTO struct {
	SnapshotId string                 `json:"snapshotId,omitempty"`
	Options    ContextBuildOptionsDTO `json:"options"`
	Files      []ContextFileDTO       `json:"files"`
	TotalBytes int64                  `json:"totalBytes"`
	Warnings   []string               `json:"warnings,omitempty"`
	CreatedAt  ISOTime                `json:"createdAt"`
}

// 
// LLM / Prompt DTOs
// 

// ProviderID identificador del proveedor LLM
type ProviderID string

const (
	ProviderOpenAI     ProviderID = "openai"
	ProviderGemini     ProviderID = "gemini"
	ProviderOpenRouter ProviderID = "openrouter"
)

// ChatRole rol en la conversacin
type ChatRole string

const (
	RoleSystem    ChatRole = "system"
	RoleUser      ChatRole = "user"
	RoleAssistant ChatRole = "assistant"
)

// ChatMessageDTO mensaje de chat
type ChatMessageDTO struct {
	Role      ChatRole `json:"role"`
	Content   string   `json:"content"`
	CreatedAt ISOTime  `json:"createdAt,omitempty"`
}

// PromptRunSpecDTO especificacin para ejecutar un prompt
type PromptRunSpecDTO struct {
	Provider        ProviderID         `json:"provider"`
	Model           string             `json:"model"`
	Temperature     float64            `json:"temperature,omitempty"`
	MaxOutputTokens int                `json:"maxOutputTokens,omitempty"`
	Metadata        map[string]string  `json:"metadata,omitempty"`
	Messages        []ChatMessageDTO   `json:"messages"`
	Context         *ContextPayloadDTO `json:"context,omitempty"`
}

// UsageDTO uso de tokens
type UsageDTO struct {
	InputTokens  int `json:"inputTokens,omitempty"`
	OutputTokens int `json:"outputTokens,omitempty"`
	TotalTokens  int `json:"totalTokens,omitempty"`
}

// PromptRunResultDTO resultado de ejecutar un prompt
type PromptRunResultDTO struct {
	RunId     string         `json:"runId"`
	Provider  ProviderID     `json:"provider"`
	Model     string         `json:"model"`
	Text      string         `json:"text"`
	RawCall   map[string]any `json:"rawCall,omitempty"`
	Usage     UsageDTO       `json:"usage,omitempty"`
	CreatedAt ISOTime        `json:"createdAt"`
	Error     *ErrorDTO      `json:"error,omitempty"`
}

// 
// History DTOs
// 

// HistoryItemDTO item del historial
type HistoryItemDTO struct {
	Id        string             `json:"id"`
	Title     string             `json:"title,omitempty"`
	Spec      PromptRunSpecDTO   `json:"spec"`
	Result    PromptRunResultDTO `json:"result"`
	CreatedAt ISOTime            `json:"createdAt"`
}

</file>

<file path="components/features/Settings/SettingsModal.tsx">
import React, { useState } from 'react';
import { Modal } from '../../ui/Modal';
import { useStore } from '../../../contexts/StoreContext';
import { useToast } from '../../../contexts/ToastContext';
import { Button } from '../../ui/Button';
import { Switch } from '../../ui/Switch';
import { PROVIDERS, getProviderById, getModelsByProvider } from '../../../constants';
import { ProviderType } from '../../../types';
import { Bridge } from '../../../services/bridge';
import { Check, Eye, EyeOff, Key, Terminal } from 'lucide-react';

interface SettingsModalProps {
  isOpen: boolean;
  onClose: () => void;
}

export const SettingsModal: React.FC<SettingsModalProps> = ({ isOpen, onClose }) => {
  const { state, dispatch } = useStore();
  const { addToast } = useToast();
  const { aiConfig } = state;

  const [localProvider, setLocalProvider] = useState<ProviderType>(aiConfig.provider);
  const [localModel, setLocalModel] = useState(aiConfig.model);
  const [localApiKey, setLocalApiKey] = useState(aiConfig.apiKey || '');
  const [showApiKey, setShowApiKey] = useState(false);
  const [saved, setSaved] = useState(false);
  const [activeTab, setActiveTab] = useState<'provider' | 'behavior'>('provider');

  const provider = getProviderById(localProvider);
  const models = getModelsByProvider(localProvider);

  const handleProviderChange = (newProvider: ProviderType) => {
    setLocalProvider(newProvider);
    const newModels = getModelsByProvider(newProvider);
    if (newModels.length > 0) {
      setLocalModel(newModels[0].id);
    }
    setLocalApiKey('');
  };

  const handleSave = async () => {
    try {
      // Configurar en backend
      await Bridge.ConfigureLLM(localProvider, localApiKey, provider?.baseURL || '');

      dispatch({
        type: 'UPDATE_AI_CONFIG',
        payload: {
          provider: localProvider,
          model: localModel,
          apiKey: localApiKey,
          baseURL: provider?.baseURL,
        }
      });

      setSaved(true);
      addToast('success', 'Configuracin guardada');
      setTimeout(() => {
        setSaved(false);
        onClose();
      }, 800);
    } catch (err) {
      addToast('error', 'Error al guardar configuracin');
    }
  };

  return (
    <Modal isOpen={isOpen} onClose={onClose} title="configuracin">
      <div className="space-y-6">
        {/* Tabs */}
        <div className="flex gap-1 p-1 bg-surface rounded-base">
          <button
            onClick={() => setActiveTab('provider')}
            className={`flex-1 px-4 py-2 text-micro font-medium uppercase tracking-widest rounded-base transition-all duration-normal ${
              activeTab === 'provider'
                ? 'bg-ink text-ink-inverted'
                : 'text-ink-subtle hover:text-ink'
            }`}
          >
            proveedor ia
          </button>
          <button
            onClick={() => setActiveTab('behavior')}
            className={`flex-1 px-4 py-2 text-micro font-medium uppercase tracking-widest rounded-base transition-all duration-normal ${
              activeTab === 'behavior'
                ? 'bg-ink text-ink-inverted'
                : 'text-ink-subtle hover:text-ink'
            }`}
          >
            comportamiento
          </button>
        </div>

        {/* Tab: Provider */}
        {activeTab === 'provider' && (
          <div className="space-y-6 animate-reveal">
            {/* Provider Selection */}
            <div className="space-y-3">
              <label className="text-micro text-ink-subtle uppercase tracking-widest font-mono">
                proveedor
              </label>
              <div className="grid grid-cols-2 gap-2">
                {PROVIDERS.map((p) => (
                  <button
                    key={p.id}
                    onClick={() => handleProviderChange(p.id)}
                    className={`p-3 border rounded-base text-left transition-all duration-normal ${
                      localProvider === p.id
                        ? 'border-ink bg-surface'
                        : 'border-stroke hover:border-stroke-emphasis'
                    }`}
                  >
                    <div className="flex items-center gap-2">
                      <span className="text-lg">{p.icon}</span>
                      <div className="flex-1 min-w-0">
                        <div className="text-xs font-medium text-ink truncate">{p.name}</div>
                        <div className="flex items-center gap-1 mt-0.5">
                          {p.requiresApiKey ? (
                            <Key size={8} className="text-status-warning" />
                          ) : (
                            <Terminal size={8} className="text-status-ready" />
                          )}
                          <span className="text-[9px] text-ink-subtle">
                            {p.models.length} modelos
                          </span>
                        </div>
                      </div>
                    </div>
                  </button>
                ))}
              </div>
            </div>

            {/* API Key */}
            {provider?.requiresApiKey && (
              <div className="space-y-2">
                <label className="text-micro text-ink-subtle uppercase tracking-widest font-mono">
                  api key
                </label>
                <div className="relative">
                  <input
                    type={showApiKey ? 'text' : 'password'}
                    value={localApiKey}
                    onChange={(e) => setLocalApiKey(e.target.value)}
                    placeholder={`${provider.name} API Key...`}
                    className="w-full bg-surface border border-stroke rounded-base px-4 py-2.5 pr-10 text-sm text-ink placeholder:text-ink-subtle/50 focus:outline-none focus:border-ink transition-colors duration-normal font-mono"
                  />
                  <button
                    type="button"
                    onClick={() => setShowApiKey(!showApiKey)}
                    className="absolute right-3 top-1/2 -translate-y-1/2 text-ink-subtle hover:text-ink transition-colors duration-normal"
                  >
                    {showApiKey ? <EyeOff size={14} /> : <Eye size={14} />}
                  </button>
                </div>
              </div>
            )}

            {/* Model Selection */}
            <div className="space-y-2">
              <label className="text-micro text-ink-subtle uppercase tracking-widest font-mono">
                modelo
              </label>
              <select
                value={localModel}
                onChange={(e) => setLocalModel(e.target.value)}
                className="w-full bg-surface border border-stroke rounded-base px-4 py-2.5 text-sm text-ink focus:outline-none focus:border-ink transition-colors duration-normal"
              >
                {models.map((model) => (
                  <option key={model.id} value={model.id}>
                    {model.name} - {model.description}
                  </option>
                ))}
              </select>
            </div>
          </div>
        )}

        {/* Tab: Behavior */}
        {activeTab === 'behavior' && (
          <div className="space-y-6 animate-reveal">
            {/* System Instruction */}
            <div className="space-y-2">
              <label className="text-micro text-ink-subtle uppercase tracking-widest font-mono">
                instrucciones del sistema
              </label>
              <textarea
                className="w-full h-32 bg-surface border border-stroke p-3 text-sm text-ink outline-none focus:border-ink transition-colors duration-normal font-mono rounded-base leading-relaxed resize-none custom-scrollbar"
                value={aiConfig.systemInstruction}
                onChange={(e) => dispatch({ type: 'UPDATE_AI_CONFIG', payload: { systemInstruction: e.target.value }})}
                placeholder="define el comportamiento del asistente..."
              />
            </div>

            {/* Switches */}
            <div className="space-y-3">
              <div className="flex items-center justify-between py-3 border-b border-stroke-subtle">
                <div className="flex flex-col gap-0.5">
                  <span className="text-sm text-ink font-medium lowercase">modo pensamiento (cot)</span>
                  <span className="text-xs text-ink-subtle">
                    cadena de razonamiento extendido
                  </span>
                </div>
                <Switch
                  checked={aiConfig.useThinking}
                  onChange={(v) => dispatch({ type: 'UPDATE_AI_CONFIG', payload: { useThinking: v }})}
                />
              </div>

              <div className="flex items-center justify-between py-3 border-b border-stroke-subtle">
                <div className="flex flex-col gap-0.5">
                  <span className="text-sm text-ink font-medium lowercase">web grounding</span>
                  <span className="text-xs text-ink-subtle">
                    bsqueda en tiempo real
                  </span>
                </div>
                <Switch
                  checked={aiConfig.useGrounding}
                  onChange={(v) => dispatch({ type: 'UPDATE_AI_CONFIG', payload: { useGrounding: v }})}
                />
              </div>
            </div>
          </div>
        )}

        {/* Actions */}
        <div className="pt-4 flex justify-end gap-3 border-t border-stroke-subtle">
          <Button onClick={onClose} variant="ghost" size="md">
            cancelar
          </Button>
          <Button
            onClick={handleSave}
            variant="primary"
            size="md"
            icon={saved ? <Check size={14} /> : undefined}
            disabled={saved}
          >
            {saved ? 'guardado' : 'guardar'}
          </Button>
        </div>
      </div>
    </Modal>
  );
};

</file>

<file path="docs/INTEGRATION.md">
# Integracin Robusta Go  TypeScript (Wails)

## Resumen Ejecutivo

Integracin completa entre backend Go y frontend TypeScript con manejo robusto de errores, logging estructurado y comunicacin bidireccional via eventos Wails.

---

## 1. Backend (Go) - `/internal/app/app.go`

### Mtodos Wails Bound

#### Project Management
- `SelectProject() (string, error)` - Dialogo de seleccin de directorio
- `ScanProject(path string) (*TreeSnapshotDTO, error)` - Escaneo bsico de proyecto
- `ScanProjectWithOptions(...)` - Escaneo con opciones personalizadas
- `ReadFile(relPath, projectPath string) (string, error)` - Lectura de archivo
- `ReadFileWithLimit(...) (string, bool, error)` - Lectura con lmite de bytes
- `GetPlatform() string` - Informacin de plataforma

#### Job Management
- `CancelJob(jobId string) error` - Cancelar trabajo en ejecucin
- `GetJobStatus(jobId string) (*JobProgressDTO, error)` - Estado de un job

#### Context Building
- `BuildContext(selection, options, projectPath) (*ContextPayloadDTO, error)` - Construir contexto para prompt
- `FormatContext(payload) string` - Formatear contexto

#### LLM Integration
- `ConfigureLLM(provider, apiKey, baseURL string) error` - Configurar provider de LLM
- `RunPrompt(spec PromptRunSpecDTO) (*PromptRunResultDTO, error)` - Ejecutar prompt sincrono
- `StreamPrompt(spec PromptRunSpecDTO) (string, error)` - **Streaming con eventos** (retorna jobId)
- `StopStream(jobId string) error` - Detener streaming activo

### Eventos Emitidos (Backend  Frontend)

| Evento | Payload | Descripcin |
|--------|---------|-------------|
| `chat:token` | `string` | Token individual del streaming de LLM |
| `chat:error` | `string` | Error durante streaming (mensaje de error) |
| `chat:complete` | `string` | Streaming completado (jobId) |
| ~~`job:progress`~~ | ~~`JobProgressDTO`~~ | **NO IMPLEMENTADO** (usar `GetJobStatus` polling) |

### Logging Estructurado (`log/slog`)

```go
a.logger.Info("Mensaje", "key", value)
a.logger.Error("Error", "error", err, "context", data)
a.logger.Warn("Advertencia", "jobId", id)
```

**Formato**: JSON a stdout con nivel `INFO` por defecto.

---

## 2. Frontend (TypeScript) - `/services/bridge.ts`

### Interface Bridge (Auto-detecta Wails vs Mock)

```typescript
// Uso bsico
import { Bridge, WailsExtras } from './services/bridge';

// Project management
const path = await Bridge.SelectProject();
const tree = await Bridge.ScanProject(path);

// File operations
const content = await Bridge.GetFileContent(fileId);

// LLM streaming
const streamControl = Bridge.StreamChat(
  config,
  selectedFileIds,
  messages,
  (token) => console.log(token),      // onToken
  () => console.log('Complete'),       // onComplete
  (error) => console.error(error)      // onError
);

// Cancelar streaming
streamControl.stop();
```

### WailsExtras (Solo en entorno Wails)

```typescript
if (WailsExtras) {
  await WailsExtras.ConfigureLLM('openai', apiKey, baseURL);
  const status = await WailsExtras.GetJobStatus(jobId);
  const { content, truncated } = await WailsExtras.GetFileContentWithLimit(fileId, 1000000);
  const context = await WailsExtras.BuildContext(selectedIds, options);
}
```

### Manejo de Eventos con Type Safety

```typescript
import { createEventListener, isString } from './services/event-validators';

// Listener tipado con validacin automtica
const cleanup = createEventListener<string>(
  'chat:token',
  (token) => console.log('Token:', token),
  isString // Validator opcional
);

// Cleanup
cleanup();
```

---

## 3. DTOs (Alineacin Go  TypeScript)

### Archivo: `/types/domain.ts`  `/internal/domain/types.go`

**Coherencia 100%**: Nombres de campos en camelCase (TS) coinciden con JSON tags de Go.

| DTO | Go | TypeScript | Uso |
|-----|-----|------------|-----|
| `TreeSnapshotDTO` |  |  | Snapshot de rbol de archivos |
| `FileNodeDTO` |  |  | Nodo individual del rbol |
| `SelectionDTO` |  |  | Estado de seleccin de archivos |
| `ContextPayloadDTO` |  |  | Payload de contexto para LLM |
| `PromptRunSpecDTO` |  |  | Especificacin para ejecutar prompt |
| `PromptRunResultDTO` |  |  | Resultado de prompt |
| `JobProgressDTO` |  |  | Estado de trabajo asncrono |

**Conversin Legacy**:
```typescript
import { treeDTOToLegacy } from './types/domain';

const legacyTree = treeDTOToLegacy(treeSnapshotDTO);
```

---

## 4. Manejo de Errores

### Backend (Go)

```go
// Wrapped errors para trazabilidad
if err != nil {
    a.logger.Error("Operacin fallida", "error", err, "path", path)
    return nil, fmt.Errorf("scan failed: %w", err)
}
```

### Frontend (TypeScript)

```typescript
// Try-catch con logging
try {
  const result = await Bridge.RunPrompt(spec);
} catch (err) {
  console.error('[Bridge] Error:', err);
  showToast('Error al ejecutar prompt', 'error');
}
```

### Streaming con Callbacks

```typescript
Bridge.StreamChat(
  config,
  fileIds,
  messages,
  (token) => appendToken(token),
  () => setComplete(true),
  (error) => {
    console.error('[Chat] Error:', error);
    showErrorMessage(error);
  }
);
```

---

## 5. Patrones de Uso

### Inicializar Proyecto

```typescript
// 1. Seleccionar proyecto
const path = await Bridge.SelectProject();
if (!path) return;

// 2. Escanear con gitignore
const tree = await Bridge.ScanProject(path);

// 3. Guardar en estado
dispatch({ type: 'SET_PROJECT', payload: { path, tree } });
```

### Streaming con Cleanup Automtico

```typescript
const ChatComponent = () => {
  const streamRef = useRef<{ stop: () => void } | null>(null);

  const handleSend = () => {
    streamRef.current = Bridge.StreamChat(
      config,
      fileIds,
      messages,
      (token) => appendMessage(token),
      () => setGenerating(false),
      (error) => handleError(error)
    );
  };

  const handleStop = () => {
    streamRef.current?.stop();
    streamRef.current = null;
  };

  // Cleanup en unmount
  useEffect(() => {
    return () => streamRef.current?.stop();
  }, []);

  return <button onClick={handleStop}>Detener</button>;
};
```

### Configurar LLM Provider

```typescript
// Al iniciar sesin o cambiar API key
if (WailsExtras) {
  await WailsExtras.ConfigureLLM('openai', apiKey, 'https://api.openai.com/v1');
}

// Backend registra provider internamente
// Subsecuentes llamadas usan el provider configurado
```

---

## 6. Testing

### Mock Bridge (Desarrollo Web)

```typescript
// Automticamente activo si window.go === undefined
const tree = await Bridge.ScanProject('/any/path');
// Retorna datos mock sin backend
```

### Wails Bridge (Produccin)

```typescript
// Automticamente activo si window.go est presente
const tree = await Bridge.ScanProject('/real/path');
// Conecta a backend Go real
```

---

## 7. Checklist de Integracin

### Backend Go
- [x] Todos los mtodos Wails bound tienen manejo de errores con `fmt.Errorf("...: %w", err)`
- [x] Logging estructurado con `log/slog` en operaciones crticas
- [x] Eventos emitidos: `chat:token`, `chat:error`, `chat:complete`
- [x] Mtodos sincrnicos y asncronos (jobs) claramente diferenciados

### Frontend TypeScript
- [x] Bridge expone todos los mtodos del backend
- [x] Type safety en declaraciones `window.go.app.App`
- [x] Listeners de eventos con cleanup automtico en callbacks
- [x] Type guards para validacin de eventos (`event-validators.ts`)
- [x] Mock bridge para desarrollo sin backend

### DTOs
- [x] Todos los DTOs alineados Go  TypeScript
- [x] Nombres de campos en camelCase consistentes
- [x] Conversin legacy disponible (`treeDTOToLegacy`)

### Manejo de Errores
- [x] Errores wrapeados en backend (`%w`)
- [x] Callbacks `onError` en operaciones asncronas
- [x] Logging en desarrollo: `console.log('[Bridge]', ...)`
- [x] Try-catch en llamadas crticas del frontend

### Cleanup
- [x] EventsOff automtico en callbacks de StreamChat
- [x] Refs para control de streaming (`streamControlRef`)
- [x] useEffect cleanup en componentes que usan streaming

---

## 8. Mejoras Futuras

### Backend
- [ ] Emitir evento `job:progress` para tracking de jobs de larga duracin
- [ ] Configuracin de nivel de logging (DEBUG, INFO, WARN, ERROR) via flag o env var
- [ ] Rate limiting para prevenir abuse de APIs de LLM
- [ ] Persistencia de configuracin de LLM en disco (API keys encriptadas)

### Frontend
- [ ] Schema validation con Zod para todos los eventos
- [ ] Retry automtico con backoff exponencial para operaciones fallidas
- [ ] Queue de requests para evitar sobrecarga del backend
- [ ] Indicadores de progreso para operaciones largas (BuildContext, ScanProject)

### Observabilidad
- [ ] Metrics: latencia de llamadas Wails, tasa de errores
- [ ] Tracing distribuido para seguir requests cross-boundary
- [ ] Dashboard de monitoreo de jobs activos

---

## 9. Debugging

### Backend
```bash
# Ver logs estructurados
wails dev 2>&1 | jq 'select(.level == "ERROR")'
```

### Frontend
```javascript
// Ver todos los eventos Wails
window.runtime.EventsOn('*', (event, ...args) => {
  console.log('[WailsEvent]', event, args);
});
```

### Validacin de DTOs
```typescript
import { isJobProgressDTO } from './services/event-validators';

const data = await Bridge.GetJobStatus(jobId);
console.assert(isJobProgressDTO(data), 'Invalid DTO shape');
```

---

## 10. Recursos

- **Wails Docs**: https://wails.io/docs/reference/runtime/events
- **Go log/slog**: https://pkg.go.dev/log/slog
- **TypeScript Type Guards**: https://www.typescriptlang.org/docs/handbook/2/narrowing.html

---

**Versin**: 1.0.0
**ltima actualizacin**: 2025-12-15
**Autor**: OneShot Team

</file>

<file path="components/features/Chat/ChatOverlay.tsx">
import React, { useState, useRef, useEffect } from 'react';
import { useStore } from '../../../contexts/StoreContext';
import { Bridge } from '../../../services/bridge';
import { X, ArrowRight, Bot, Terminal, StopCircle, Trash2 } from 'lucide-react';
import { ChatMessage } from './ChatMessage';
import { cn } from '../../../utils/cn';

export const ChatOverlay: React.FC = () => {
    const { state, dispatch } = useStore();
    const [input, setInput] = useState('');
    const scrollRef = useRef<HTMLDivElement>(null);
    const [isStreaming, setIsStreaming] = useState(false);
    const streamControlRef = useRef<{ stop: () => void } | null>(null);

    const handleClose = () => dispatch({ type: 'TOGGLE_CHAT', payload: false });

    const handleClear = () => {
        if (window.confirm('Limpiar todo el historial de chat?')) {
            dispatch({ type: 'CLEAR_CHAT' });
        }
    };

    const handleStop = () => {
        if (streamControlRef.current) {
            streamControlRef.current.stop();
            streamControlRef.current = null;
        }
        setIsStreaming(false);
        dispatch({ type: 'SET_CHAT_GENERATING', payload: false });
    };

    const handleSend = () => {
        if (!input.trim() || state.isChatGenerating) return;

        const userMsg = {
            id: crypto.randomUUID(),
            role: 'user' as const,
            content: input,
            timestamp: Date.now()
        };

        dispatch({ type: 'ADD_CHAT_MESSAGE', payload: userMsg });
        setInput('');

        const assistantMsg = {
            id: `assistant-${Date.now()}`,
            role: 'assistant' as const,
            content: '',
            timestamp: Date.now()
        };

        dispatch({ type: 'ADD_CHAT_MESSAGE', payload: assistantMsg });
        dispatch({ type: 'SET_CHAT_GENERATING', payload: true });
        setIsStreaming(true);

        const streamControl = Bridge.StreamChat(
            state.aiConfig,
            Array.from(state.selectedFileIds),
            [],
            (token) => dispatch({ type: 'UPDATE_LAST_CHAT_MESSAGE', payload: token }),
            () => {
                setIsStreaming(false);
                dispatch({ type: 'SET_CHAT_GENERATING', payload: false });
            },
            (error) => {
                setIsStreaming(false);
                dispatch({ type: 'SET_CHAT_GENERATING', payload: false });
                dispatch({
                    type: 'ADD_CHAT_MESSAGE',
                    payload: {
                        id: crypto.randomUUID(),
                        role: 'assistant' as const,
                        content: `Error: ${error}`,
                        timestamp: Date.now(),
                        isError: true
                    }
                });
            }
        );

        streamControlRef.current = streamControl;
    };

    useEffect(() => {
        return () => {
            if (streamControlRef.current) {
                streamControlRef.current.stop();
                streamControlRef.current = null;
            }
        };
    }, []);

    useEffect(() => {
        if (scrollRef.current) {
            scrollRef.current.scrollTop = scrollRef.current.scrollHeight;
        }
    }, [state.chatMessages, isStreaming]);

    if (!state.isChatOpen) return null;

    return (
        <div className="absolute inset-0 z-[60] flex justify-end">
            <div className="absolute inset-0 bg-canvas/60 backdrop-blur-sm animate-fade-in" onClick={handleClose} />
            
            <div
                className="w-full max-w-[600px] h-full bg-canvas border-l border-smoke shadow-2xl flex flex-col relative z-10"
                style={{
                    animation: 'slideInRight 0.7s cubic-bezier(0.16, 1, 0.3, 1)',
                }}
            >
                {/* Header */}
                <div className="flex items-center justify-between p-8 border-b border-light shrink-0">
                    <div className="flex items-center gap-4">
                        <Terminal size={18} className="text-ink" />
                        <div>
                            <h3 className="text-xl font-semibold text-ink lowercase tracking-tight">Chat AI</h3>
                            <p className="text-[10px] text-ash font-mono uppercase tracking-widest mt-1">
                                Contexto: {state.selectedFileIds.size} archivos
                            </p>
                        </div>
                    </div>
                    <div className="flex items-center gap-6">
                        <button
                            onClick={handleClear}
                            className="text-ash hover:text-red-500 transition-colors"
                            title="Limpiar chat"
                            disabled={state.chatMessages.length === 0}
                        >
                            <Trash2 size={18} strokeWidth={1.5} />
                        </button>
                        <button
                            onClick={handleClose}
                            className="text-ash hover:text-ink transition-colors hover:rotate-90 duration-500"
                            title="Cerrar"
                        >
                            <X size={24} strokeWidth={1.5} />
                        </button>
                    </div>
                </div>

                {/* Messages Area */}
                <div
                    className="flex-1 overflow-y-auto p-10 custom-scrollbar space-y-8"
                    ref={scrollRef}
                >
                    {state.chatMessages.length === 0 ? (
                        <div className="h-full flex flex-col items-center justify-center text-center opacity-40">
                            <Bot size={48} className="mb-6 text-ash" strokeWidth={1} />
                            <p className="text-lg font-light lowercase text-ink tracking-tight">
                                Comienza una conversacin
                            </p>
                            <p className="text-xs text-ash font-mono uppercase tracking-widest mt-4">
                                Selecciona archivos para dar contexto
                            </p>
                        </div>
                    ) : (
                        state.chatMessages.map((msg, idx) => (
                            <ChatMessage
                                key={msg.id}
                                message={msg}
                                isStreaming={
                                    isStreaming &&
                                    idx === state.chatMessages.length - 1 &&
                                    msg.role === 'assistant'
                                }
                            />
                        ))
                    )}

                    {state.isChatGenerating && state.chatMessages.length > 0 && (
                        <div className="flex items-center gap-2 text-ash/60 text-[10px] font-mono uppercase tracking-widest animate-pulse ml-2">
                            <Bot size={12} />
                            <span>thinking...</span>
                        </div>
                    )}
                </div>

                {/* Input Area */}
                <div className="p-8 border-t border-light bg-canvas/50 backdrop-blur-md shrink-0">
                    <div className="relative group">
                        <textarea
                            value={input}
                            onChange={e => setInput(e.target.value)}
                            onKeyDown={e => {
                                if (e.key === 'Enter' && !e.shiftKey) {
                                    e.preventDefault();
                                    handleSend();
                                }
                            }}
                            placeholder="Escribe tu mensaje..."
                            disabled={state.isChatGenerating}
                            className={cn(
                                "w-full bg-transparent border-b border-light p-2 pr-14",
                                "text-base text-ink focus:border-ink outline-none resize-none h-16",
                                "transition-all duration-500 font-sans placeholder:text-smoke placeholder:font-light",
                                "disabled:opacity-50 disabled:cursor-not-allowed"
                            )}
                        />
                        <button
                            onClick={state.isChatGenerating ? handleStop : handleSend}
                            disabled={!state.isChatGenerating && !input.trim()}
                            className={cn(
                                "absolute bottom-4 right-2 p-2 transition-all duration-300 rounded-full hover:bg-smoke/30",
                                "disabled:opacity-30 disabled:cursor-not-allowed",
                                state.isChatGenerating
                                    ? "text-red-400 hover:text-red-500 animate-pulse"
                                    : "text-ash hover:text-ink"
                            )}
                        >
                            {state.isChatGenerating ? (
                                <StopCircle size={24} strokeWidth={1} />
                            ) : (
                                <ArrowRight size={24} strokeWidth={1} />
                            )}
                        </button>
                    </div>
                </div>
            </div>
        </div>
    );
};
</file>

<file path="internal/app/app.go">
package app

import (
	"context"
	"fmt"
	"log/slog"
	"os"
	"path/filepath"
	goruntime "runtime"

	wailsRuntime "github.com/wailsapp/wails/v2/pkg/runtime"

	ctx "shotgun/internal/context"
	"shotgun/internal/domain"
	"shotgun/internal/fs"
	"shotgun/internal/jobs"
	"shotgun/internal/llm"
)

// App estructura principal de la aplicacion Wails
type App struct {
	ctx        context.Context
	scanner    *fs.Scanner
	jobManager *jobs.Manager
	llmService *llm.Service
	ctxBuilder *ctx.Builder
	logger     *slog.Logger
}

// New crea una nueva instancia de la aplicacion
func New() *App {
	logger := slog.New(slog.NewJSONHandler(os.Stdout, &slog.HandlerOptions{
		Level: slog.LevelInfo,
	}))

	return &App{
		scanner:    fs.NewScanner(),
		jobManager: jobs.NewManager(),
		llmService: llm.NewService(),
		logger:     logger,
	}
}

// Startup se llama cuando la aplicacion inicia
func (a *App) Startup(wailsCtx context.Context) {
	a.ctx = wailsCtx
	a.logger.Info("OneShot iniciado", "platform", goruntime.GOOS)

	// Registrar providers de LLM (API keys vienen del frontend por ahora)
	// En produccion, leer de configuracion
}

// Shutdown se llama cuando la aplicacion se cierra
func (a *App) Shutdown(ctx context.Context) {
	a.logger.Info("OneShot cerrando")
	// Cleanup
}

// ---------------------------------------------------------------------------
// Wails Bound Methods - Project Management
// ---------------------------------------------------------------------------

// SelectProject abre un dialogo para seleccionar un directorio
func (a *App) SelectProject() (string, error) {
	a.logger.Info("Abriendo dialogo de seleccion de proyecto")

	path, err := wailsRuntime.OpenDirectoryDialog(a.ctx, wailsRuntime.OpenDialogOptions{
		Title: "Seleccionar proyecto",
	})
	if err != nil {
		a.logger.Error("Error abriendo dialogo", "error", err)
		return "", fmt.Errorf("error opening directory dialog: %w", err)
	}

	// Inicializar context builder con el nuevo path
	if path != "" {
		a.ctxBuilder = ctx.NewBuilder(path)
		a.logger.Info("Proyecto seleccionado", "path", path)
	}

	return path, nil
}

// ScanProject escanea un proyecto y retorna el arbol de archivos
func (a *App) ScanProject(path string) (*domain.TreeSnapshotDTO, error) {
	a.logger.Info("Iniciando escaneo de proyecto", "path", path)

	info, err := os.Stat(path)
	if err != nil {
		a.logger.Error("Path no existe", "path", path, "error", err)
		return nil, fmt.Errorf("path does not exist: %w", err)
	}
	if !info.IsDir() {
		a.logger.Error("Path no es directorio", "path", path)
		return nil, fmt.Errorf("path is not a directory")
	}

	// Inicializar context builder
	a.ctxBuilder = ctx.NewBuilder(path)

	opts := fs.DefaultScanOptions()
	snapshot, err := a.scanner.Scan(path, opts)
	if err != nil {
		a.logger.Error("Scan fallido", "path", path, "error", err)
		return nil, fmt.Errorf("scan failed: %w", err)
	}

	dto := snapshot.ToDTO()
	a.logger.Info("Escaneo completado", "files", dto.Stats.Files, "dirs", dto.Stats.Dirs, "totalBytes", dto.Stats.TotalBytes)
	return &dto, nil
}

// ScanProjectWithOptions escanea con opciones personalizadas
func (a *App) ScanProjectWithOptions(path string, useGitignore bool, customIgnore string) (*domain.TreeSnapshotDTO, error) {
	info, err := os.Stat(path)
	if err != nil {
		return nil, fmt.Errorf("path does not exist: %w", err)
	}
	if !info.IsDir() {
		return nil, fmt.Errorf("path is not a directory")
	}

	a.ctxBuilder = ctx.NewBuilder(path)

	opts := fs.ScanOptions{
		UseGitignore:     useGitignore,
		UseCustomIgnore:  customIgnore != "",
		CustomIgnoreText: customIgnore,
		MaxDepth:         20,
		MaxFiles:         10000,
	}

	snapshot, err := a.scanner.Scan(path, opts)
	if err != nil {
		return nil, fmt.Errorf("scan failed: %w", err)
	}

	dto := snapshot.ToDTO()
	return &dto, nil
}

// ReadFile lee el contenido de un archivo
func (a *App) ReadFile(relPath string, projectPath string) (string, error) {
	fullPath := filepath.Join(projectPath, relPath)

	absProject, _ := filepath.Abs(projectPath)
	absFile, _ := filepath.Abs(fullPath)
	if len(absFile) < len(absProject) || absFile[:len(absProject)] != absProject {
		return "", fmt.Errorf("path traversal attempt detected")
	}

	content, err := os.ReadFile(fullPath)
	if err != nil {
		return "", fmt.Errorf("error reading file: %w", err)
	}

	return string(content), nil
}

// ReadFileWithLimit lee contenido con limite de bytes
func (a *App) ReadFileWithLimit(relPath string, projectPath string, maxBytes int64) (string, bool, error) {
	content, truncated, err := fs.ReadFileContent(projectPath, relPath, maxBytes)
	if err != nil {
		return "", false, fmt.Errorf("error reading file: %w", err)
	}
	return content, truncated, nil
}

// GetPlatform retorna informacion de la plataforma
func (a *App) GetPlatform() string {
	return goruntime.GOOS
}

// ---------------------------------------------------------------------------
// Wails Bound Methods - Job Management
// ---------------------------------------------------------------------------

// CancelJob cancela un trabajo en ejecucion
func (a *App) CancelJob(jobId string) error {
	a.logger.Info("Cancelando job", "jobId", jobId)

	if !a.jobManager.CancelJob(jobId) {
		a.logger.Warn("Job no encontrado o ya completado", "jobId", jobId)
		return fmt.Errorf("job not found or already completed: %s", jobId)
	}

	a.logger.Info("Job cancelado exitosamente", "jobId", jobId)
	return nil
}

// GetJobStatus obtiene el estado de un job
func (a *App) GetJobStatus(jobId string) (*domain.JobProgressDTO, error) {
	job := a.jobManager.GetJob(jobId)
	if job == nil {
		return nil, fmt.Errorf("job not found: %s", jobId)
	}
	dto := job.ToDTO()
	return &dto, nil
}

// ---------------------------------------------------------------------------
// Wails Bound Methods - Context Building
// ---------------------------------------------------------------------------

// BuildContext construye el contexto para un prompt
func (a *App) BuildContext(selection domain.SelectionDTO, options domain.ContextBuildOptionsDTO, projectPath string) (*domain.ContextPayloadDTO, error) {
	if a.ctxBuilder == nil {
		a.ctxBuilder = ctx.NewBuilder(projectPath)
	}

	payload, err := a.ctxBuilder.Build(selection, options)
	if err != nil {
		return nil, fmt.Errorf("build context failed: %w", err)
	}

	return payload, nil
}

// FormatContext formatea el payload de contexto
func (a *App) FormatContext(payload domain.ContextPayloadDTO) string {
	if a.ctxBuilder == nil {
		return ""
	}
	return a.ctxBuilder.FormatPayload(&payload)
}

// ---------------------------------------------------------------------------
// Wails Bound Methods - LLM
// ---------------------------------------------------------------------------

// ConfigureLLM configura un provider de LLM con API key
func (a *App) ConfigureLLM(provider string, apiKey string, baseURL string) error {
	a.logger.Info("Configurando LLM provider", "provider", provider)

	var p llm.Provider
	var err error

	switch provider {
	case "openai":
		p = llm.NewOpenAIProvider(apiKey, baseURL)
	case "openrouter":
		p = llm.NewOpenRouterProvider(apiKey)
	case "gemini":
		// Usar SDK oficial de Google si hay API key o env var
		p, err = llm.NewGeminiSDKProvider(a.ctx, apiKey)
		if err != nil {
			// Fallback a implementacin HTTP bsica
			a.logger.Warn("Fallback a Gemini HTTP provider", "error", err)
			p = llm.NewGeminiProvider(apiKey)
		}
	case "anthropic":
		p = llm.NewAnthropicProvider(apiKey)
	case "local-cli":
		// Claude Code CLI - no requiere API key, usa CLI instalado
		workDir := ""
		if a.ctxBuilder != nil {
			workDir = a.ctxBuilder.ProjectPath()
		}
		p = llm.NewClaudeCodeProvider(workDir)
		a.logger.Info("Claude Code CLI configurado", "workDir", workDir)
	default:
		a.logger.Error("Provider desconocido", "provider", provider)
		return fmt.Errorf("unknown provider: %s", provider)
	}

	a.llmService.RegisterProvider(domain.ProviderID(provider), p)
	a.logger.Info("LLM provider configurado exitosamente", "provider", provider)
	return nil
}

// RunPrompt ejecuta un prompt contra el LLM
func (a *App) RunPrompt(spec domain.PromptRunSpecDTO) (*domain.PromptRunResultDTO, error) {
	result, err := a.llmService.Complete(a.ctx, spec)
	if err != nil {
		return nil, fmt.Errorf("prompt failed: %w", err)
	}
	return result, nil
}

// StreamPrompt ejecuta un prompt con streaming via Wails Events
func (a *App) StreamPrompt(spec domain.PromptRunSpecDTO) (string, error) {
	job, jobCtx := a.jobManager.CreateJob(domain.JobKindRunPrompt)
	a.logger.Info("Iniciando streaming de prompt", "jobId", job.ID, "provider", spec.Provider, "model", spec.Model)

	go func() {
		a.jobManager.UpdateJob(job.ID, domain.JobStateRunning, "streaming", 0, 0, "")

		tokenCount := 0
		err := a.llmService.Stream(jobCtx, spec, func(token string) {
			// Emitir token al frontend via Wails Events
			wailsRuntime.EventsEmit(a.ctx, "chat:token", token)
			tokenCount++
		})

		if err != nil {
			a.logger.Error("Error en streaming", "jobId", job.ID, "error", err)
			a.jobManager.CompleteJob(job.ID, err)
			wailsRuntime.EventsEmit(a.ctx, "chat:error", err.Error())
		} else {
			a.logger.Info("Streaming completado", "jobId", job.ID, "tokensEmitted", tokenCount)
			a.jobManager.CompleteJob(job.ID, nil)
		}

		wailsRuntime.EventsEmit(a.ctx, "chat:complete", job.ID)
	}()

	return job.ID, nil
}

// StopStream detiene el streaming actual
func (a *App) StopStream(jobId string) error {
	return a.CancelJob(jobId)
}

</file>

<file path="docs/EJEMPLOS_USO.md">
# Ejemplos de Uso - Microinteracciones

Gua rpida para usar los componentes UI mejorados con microinteracciones.

---

## Button

### Uso Bsico
```tsx
import { Button } from './components/ui/Button';

// Botn estndar con hover y active
<Button variant="primary" onClick={handleClick}>
  Enviar
</Button>

// Con estado de carga
<Button variant="primary" isLoading={isSubmitting}>
  Procesando...
</Button>

// Con icono
import { Save } from 'lucide-react';
<Button variant="secondary" icon={<Save size={16} />}>
  Guardar
</Button>

// Botn de solo icono
<Button variant="ghost" size="icon">
  <Settings size={18} />
</Button>
```

### Variantes Disponibles
- `primary`: Accin principal (bg primario)
- `secondary`: Accin secundaria (surface)
- `outline`: Transparente con borde
- `ghost`: Sin fondo ni borde
- `danger`: Acciones destructivas (rojo)

---

## Input

### Uso Bsico
```tsx
import { Input } from './components/ui/Input';
import { Search, Mail, Lock } from 'lucide-react';

// Input simple con focus ring
<Input
  type="text"
  placeholder="buscar archivos..."
/>

// Con icono (animacin en focus)
<Input
  type="email"
  placeholder="correo electrnico"
  icon={<Mail size={16} />}
/>

// Password con icono
<Input
  type="password"
  placeholder="contrasea"
  icon={<Lock size={16} />}
/>

// Search con icono y placeholder animado
<Input
  type="search"
  placeholder="buscar en el proyecto..."
  icon={<Search size={16} />}
/>
```

### Efectos Visuales
- Focus: Ring azul sutil aparece suavemente
- Placeholder: Se desvanece a 50% en focus
- Icono: Cambia de gris a blanco en focus

---

## Card

### Uso Bsico
```tsx
import { Card } from './components/ui/Card';

// Card esttico (sin hover)
<Card>
  <h3>Ttulo</h3>
  <p>Contenido de la tarjeta</p>
</Card>

// Card clickeable (con hover)
<Card onClick={handleClick} hoverable>
  <h3>Tarjeta Clickeable</h3>
  <p>Haz click para interactuar</p>
</Card>

// Card seleccionable con checkmark
<Card
  selectable
  selected={isSelected}
  onClick={() => setSelected(!isSelected)}
>
  <h3>Seleccionable</h3>
  <p>Click para seleccionar</p>
</Card>

// Card con focus para teclado
<Card focusable hoverable>
  <h3>Navegable con teclado</h3>
  <p>Presiona Tab para enfocar</p>
</Card>
```

### Props Especiales
- `hoverable`: Activa efectos de hover
- `selectable`: Muestra checkmark cuando selected=true
- `selected`: Estado de seleccin
- `focusable`: Permite navegacin con teclado

---

## Modal

### Uso Bsico
```tsx
import { Modal } from './components/ui/Modal';

function MyComponent() {
  const [isOpen, setIsOpen] = useState(false);

  return (
    <>
      <Button onClick={() => setIsOpen(true)}>
        Abrir Modal
      </Button>

      <Modal
        isOpen={isOpen}
        onClose={() => setIsOpen(false)}
        title="configuracin"
      >
        <div className="space-y-4">
          <p>Contenido del modal aqu</p>
          <Button onClick={() => setIsOpen(false)}>
            Cerrar
          </Button>
        </div>
      </Modal>
    </>
  );
}
```

### Caractersticas
- **Entrada**: Zoom + slide desde abajo (200ms)
- **Backdrop**: Blur animado (300ms)
- **Cierre**: Click en backdrop, ESC, o botn X
- **Accesibilidad**: Focus trap, restore focus al cerrar

---

## Toast

### Uso Bsico
```tsx
import { Toast } from './components/ui/Toast';
import { ToastContext } from './contexts/ToastContext';

// Usando el context (recomendado)
function MyComponent() {
  const { showToast } = useContext(ToastContext);

  const handleSuccess = () => {
    showToast('success', 'operacin exitosa');
  };

  const handleError = () => {
    showToast('error', 'algo sali mal');
  };

  return (
    <>
      <Button onClick={handleSuccess}>xito</Button>
      <Button onClick={handleError}>Error</Button>
    </>
  );
}

// Uso directo (avanzado)
function ToastExample() {
  const [show, setShow] = useState(false);

  return show ? (
    <Toast
      type="success"
      message="archivo guardado correctamente"
      onClose={() => setShow(false)}
      duration={3000}
    />
  ) : null;
}
```

### Tipos Disponibles
- `success`: Verde, para confirmaciones
- `error`: Rojo, para errores
- `info`: Azul, para informacin

### Props
- `duration`: Tiempo antes de auto-cerrar (ms, default: 5000)
- `onClose`: Callback al cerrar
- Barra de progreso muestra countdown visual

---

## Ejemplo Completo

```tsx
import { useState, useContext } from 'react';
import { Button } from './components/ui/Button';
import { Input } from './components/ui/Input';
import { Card } from './components/ui/Card';
import { Modal } from './components/ui/Modal';
import { ToastContext } from './contexts/ToastContext';
import { Save, Trash2 } from 'lucide-react';

function FormExample() {
  const [isOpen, setIsOpen] = useState(false);
  const [selected, setSelected] = useState<number[]>([]);
  const [loading, setLoading] = useState(false);
  const { showToast } = useContext(ToastContext);

  const handleSave = async () => {
    setLoading(true);
    // Simular guardado
    await new Promise(resolve => setTimeout(resolve, 2000));
    setLoading(false);
    showToast('success', 'cambios guardados');
    setIsOpen(false);
  };

  const options = [
    { id: 1, title: 'Opcin 1' },
    { id: 2, title: 'Opcin 2' },
    { id: 3, title: 'Opcin 3' },
  ];

  return (
    <div className="p-8 space-y-6">
      {/* Botones con microinteracciones */}
      <div className="flex gap-3">
        <Button
          variant="primary"
          onClick={() => setIsOpen(true)}
          icon={<Save size={16} />}
        >
          Editar
        </Button>
        <Button
          variant="danger"
          icon={<Trash2 size={16} />}
        >
          Eliminar
        </Button>
      </div>

      {/* Cards seleccionables */}
      <div className="grid grid-cols-3 gap-4">
        {options.map(option => (
          <Card
            key={option.id}
            selectable
            selected={selected.includes(option.id)}
            onClick={() => {
              setSelected(prev =>
                prev.includes(option.id)
                  ? prev.filter(id => id !== option.id)
                  : [...prev, option.id]
              );
            }}
          >
            <h3 className="font-medium">{option.title}</h3>
            <p className="text-sm text-secondary">Click para seleccionar</p>
          </Card>
        ))}
      </div>

      {/* Modal con form */}
      <Modal
        isOpen={isOpen}
        onClose={() => setIsOpen(false)}
        title="editar configuracin"
      >
        <div className="space-y-4">
          <Input
            placeholder="nombre del proyecto..."
            icon={<Save size={16} />}
          />
          <Input
            type="email"
            placeholder="correo de notificaciones..."
          />

          <div className="flex gap-3 justify-end">
            <Button
              variant="outline"
              onClick={() => setIsOpen(false)}
            >
              Cancelar
            </Button>
            <Button
              variant="primary"
              onClick={handleSave}
              isLoading={loading}
            >
              Guardar
            </Button>
          </div>
        </div>
      </Modal>
    </div>
  );
}

export default FormExample;
```

---

## Testing de Microinteracciones

### Checklist de Prueba

- [ ] **Button hover**: Se escala a 1.02 suavemente
- [ ] **Button active**: Se comprime a 0.98
- [ ] **Button loading**: Spinner rota correctamente
- [ ] **Input focus**: Ring azul aparece suavemente
- [ ] **Input placeholder**: Se desvanece en focus
- [ ] **Card hover**: Escala y cambia borde
- [ ] **Card checkmark**: Aparece con zoom-in
- [ ] **Modal entrada**: Zoom + slide desde abajo
- [ ] **Modal backdrop**: Blur se anima
- [ ] **Toast entrada**: Desliza desde arriba
- [ ] **Toast progreso**: Barra cuenta regresiva
- [ ] **Toast auto-close**: Se cierra automticamente

### Dispositivos de Prueba
- Desktop (hover real)
- Tablet (touch con hover emulado)
- Mobile (solo touch, sin hover)

---

## Personalizacin

### Ajustar Duraciones
Edita las clases de transicin en cada componente:

```tsx
// Ms rpido (100ms)
"transition-all duration-100 ease-out"

// Ms lento (300ms)
"transition-all duration-300 ease-out"
```

### Ajustar Escalas
```tsx
// Ms sutil
"hover:scale-[1.005]"

// Ms notorio
"hover:scale-[1.05]"
```

### Deshabilitar Animaciones
Agregar al CSS global:
```css
* {
  transition: none !important;
  animation: none !important;
}
```

</file>

<file path="internal/fs/walker.go">
package fs

import (
	"io/fs"
	"os"
	"path/filepath"
	"time"

	"shotgun/internal/domain"
	"shotgun/internal/ignore"
)

// WalkResult representa el resultado de recorrer un directorio
type WalkResult struct {
	Node  *domain.FileNode
	Stats domain.TreeStats
	Err   error
}

// Walker recorre el sistema de archivos
type Walker struct {
	ignoreEngine *ignore.Engine
	maxDepth     int
	maxFiles     int
}

// WalkerOption configura el walker
type WalkerOption func(*Walker)

// WithMaxDepth configura la profundidad maxima
func WithMaxDepth(depth int) WalkerOption {
	return func(w *Walker) {
		w.maxDepth = depth
	}
}

// WithMaxFiles configura el numero maximo de archivos
func WithMaxFiles(max int) WalkerOption {
	return func(w *Walker) {
		w.maxFiles = max
	}
}

// WithIgnoreEngine configura el motor de ignore
func WithIgnoreEngine(engine *ignore.Engine) WalkerOption {
	return func(w *Walker) {
		w.ignoreEngine = engine
	}
}

// NewWalker crea un nuevo walker
func NewWalker(opts ...WalkerOption) *Walker {
	w := &Walker{
		ignoreEngine: ignore.New(),
		maxDepth:     20,
		maxFiles:     10000,
	}
	for _, opt := range opts {
		opt(w)
	}
	return w
}

// Walk recorre un directorio y construye el arbol
func (w *Walker) Walk(rootPath string) WalkResult {
	result := WalkResult{
		Stats: domain.TreeStats{},
	}

	// Verificar que el path existe
	rootInfo, err := os.Stat(rootPath)
	if err != nil {
		result.Err = err
		return result
	}

	if !rootInfo.IsDir() {
		result.Err = os.ErrInvalid
		return result
	}

	// Crear nodo raiz
	rootNode := &domain.FileNode{
		RelPath:   ".",
		Name:      filepath.Base(rootPath),
		Kind:      domain.FileKindDir,
		ModTime:   rootInfo.ModTime(),
		SizeBytes: 0,
		Children:  make([]*domain.FileNode, 0),
	}

	// Map para construir el arbol
	nodeMap := make(map[string]*domain.FileNode)
	nodeMap["."] = rootNode

	// Recorrer el directorio
	err = filepath.WalkDir(rootPath, func(path string, d fs.DirEntry, walkErr error) error {
		if walkErr != nil {
			return nil // Ignorar errores de acceso
		}

		// Calcular path relativo
		relPath, err := filepath.Rel(rootPath, path)
		if err != nil {
			return nil
		}

		// Ignorar raiz
		if relPath == "." {
			return nil
		}

		// Calcular profundidad
		depth := len(filepath.SplitList(filepath.ToSlash(relPath)))
		if depth > w.maxDepth {
			if d.IsDir() {
				return filepath.SkipDir
			}
			return nil
		}

		// Verificar limite de archivos
		if result.Stats.Files+result.Stats.Dirs >= w.maxFiles {
			return filepath.SkipAll
		}

		// Obtener info del archivo
		info, err := d.Info()
		if err != nil {
			return nil
		}

		isDir := d.IsDir()

		// Verificar si debe ser ignorado
		ignored, reason := w.ignoreEngine.Match(relPath, isDir)

		// Crear nodo
		node := &domain.FileNode{
			RelPath:   filepath.ToSlash(relPath),
			Name:      d.Name(),
			Kind:      getFileKind(d),
			Ext:       domain.GetFileExtension(d.Name()),
			SizeBytes: info.Size(),
			ModTime:   info.ModTime(),
			Ignored:   ignored,
			Reason:    reason,
		}

		if isDir {
			node.Children = make([]*domain.FileNode, 0)
			result.Stats.Dirs++
			if ignored {
				result.Stats.Ignored++
				return filepath.SkipDir // No entrar en directorios ignorados
			}
		} else {
			result.Stats.Files++
			result.Stats.TotalBytes += info.Size()
			if ignored {
				result.Stats.Ignored++
			}
		}

		// Actualizar profundidad maxima
		if depth > result.Stats.MaxDepth {
			result.Stats.MaxDepth = depth
		}

		// Agregar al arbol
		nodeMap[relPath] = node

		// Encontrar padre y agregar como hijo
		parentPath := filepath.Dir(relPath)
		if parentPath == "." {
			rootNode.Children = append(rootNode.Children, node)
		} else if parent, ok := nodeMap[parentPath]; ok {
			parent.Children = append(parent.Children, node)
		}

		return nil
	})

	if err != nil {
		result.Err = err
		return result
	}

	result.Node = rootNode
	return result
}

// getFileKind determina el tipo de nodo
func getFileKind(d fs.DirEntry) domain.FileKind {
	if d.IsDir() {
		return domain.FileKindDir
	}
	if d.Type()&os.ModeSymlink != 0 {
		return domain.FileKindLink
	}
	return domain.FileKindFile
}

// WalkAsync recorre de forma asincrona y envia progreso por canal
func (w *Walker) WalkAsync(rootPath string, progress chan<- int) WalkResult {
	result := WalkResult{
		Stats: domain.TreeStats{},
	}

	rootInfo, err := os.Stat(rootPath)
	if err != nil {
		result.Err = err
		close(progress)
		return result
	}

	if !rootInfo.IsDir() {
		result.Err = os.ErrInvalid
		close(progress)
		return result
	}

	rootNode := &domain.FileNode{
		RelPath:   ".",
		Name:      filepath.Base(rootPath),
		Kind:      domain.FileKindDir,
		ModTime:   rootInfo.ModTime(),
		SizeBytes: 0,
		Children:  make([]*domain.FileNode, 0),
	}

	nodeMap := make(map[string]*domain.FileNode)
	nodeMap["."] = rootNode

	count := 0
	lastReport := time.Now()

	err = filepath.WalkDir(rootPath, func(path string, d fs.DirEntry, walkErr error) error {
		if walkErr != nil {
			return nil
		}

		relPath, err := filepath.Rel(rootPath, path)
		if err != nil {
			return nil
		}

		if relPath == "." {
			return nil
		}

		depth := len(filepath.SplitList(filepath.ToSlash(relPath)))
		if depth > w.maxDepth {
			if d.IsDir() {
				return filepath.SkipDir
			}
			return nil
		}

		if result.Stats.Files+result.Stats.Dirs >= w.maxFiles {
			return filepath.SkipAll
		}

		info, err := d.Info()
		if err != nil {
			return nil
		}

		isDir := d.IsDir()
		ignored, reason := w.ignoreEngine.Match(relPath, isDir)

		node := &domain.FileNode{
			RelPath:   filepath.ToSlash(relPath),
			Name:      d.Name(),
			Kind:      getFileKind(d),
			Ext:       domain.GetFileExtension(d.Name()),
			SizeBytes: info.Size(),
			ModTime:   info.ModTime(),
			Ignored:   ignored,
			Reason:    reason,
		}

		if isDir {
			node.Children = make([]*domain.FileNode, 0)
			result.Stats.Dirs++
			if ignored {
				result.Stats.Ignored++
				return filepath.SkipDir
			}
		} else {
			result.Stats.Files++
			result.Stats.TotalBytes += info.Size()
			if ignored {
				result.Stats.Ignored++
			}
		}

		if depth > result.Stats.MaxDepth {
			result.Stats.MaxDepth = depth
		}

		nodeMap[relPath] = node

		parentPath := filepath.Dir(relPath)
		if parentPath == "." {
			rootNode.Children = append(rootNode.Children, node)
		} else if parent, ok := nodeMap[parentPath]; ok {
			parent.Children = append(parent.Children, node)
		}

		// Reportar progreso cada 100ms
		count++
		if time.Since(lastReport) > 100*time.Millisecond {
			select {
			case progress <- count:
			default:
			}
			lastReport = time.Now()
		}

		return nil
	})

	close(progress)

	if err != nil {
		result.Err = err
		return result
	}

	result.Node = rootNode
	return result
}

</file>

<file path="internal/llm/gemini.go">
package llm

import (
	"bufio"
	"bytes"
	"context"
	"encoding/json"
	"fmt"
	"io"
	"net/http"
	"strings"
	"time"

	"github.com/google/uuid"

	"shotgun/internal/domain"
)

// GeminiProvider implementa Provider para Google Gemini API
type GeminiProvider struct {
	apiKey     string
	baseURL    string
	httpClient *http.Client
}

// NewGeminiProvider crea un proveedor Gemini
func NewGeminiProvider(apiKey string) *GeminiProvider {
	return &GeminiProvider{
		apiKey:  apiKey,
		baseURL: "https://generativelanguage.googleapis.com/v1beta",
		httpClient: &http.Client{
			Timeout: 5 * time.Minute,
		},
	}
}

// Gemini API types
type geminiRequest struct {
	Contents         []geminiContent        `json:"contents"`
	GenerationConfig *geminiGenerationConfig `json:"generationConfig,omitempty"`
}

type geminiContent struct {
	Role  string        `json:"role"`
	Parts []geminiPart  `json:"parts"`
}

type geminiPart struct {
	Text string `json:"text"`
}

type geminiGenerationConfig struct {
	Temperature     float64 `json:"temperature,omitempty"`
	MaxOutputTokens int     `json:"maxOutputTokens,omitempty"`
}

type geminiResponse struct {
	Candidates    []geminiCandidate `json:"candidates"`
	UsageMetadata *geminiUsage      `json:"usageMetadata,omitempty"`
}

type geminiCandidate struct {
	Content      geminiContent `json:"content"`
	FinishReason string        `json:"finishReason"`
}

type geminiUsage struct {
	PromptTokenCount     int `json:"promptTokenCount"`
	CandidatesTokenCount int `json:"candidatesTokenCount"`
	TotalTokenCount      int `json:"totalTokenCount"`
}

type geminiStreamResponse struct {
	Candidates []geminiCandidate `json:"candidates"`
}

// roleMapping convierte roles de OpenAI a Gemini
func geminiRole(role string) string {
	switch role {
	case "system", "user":
		return "user"
	case "assistant":
		return "model"
	default:
		return "user"
	}
}

// Complete ejecuta un prompt sin streaming
func (p *GeminiProvider) Complete(ctx context.Context, spec domain.PromptRunSpecDTO) (*domain.PromptRunResultDTO, error) {
	contents := make([]geminiContent, 0, len(spec.Messages))

	// Gemini no tiene role "system", lo combinamos con el primer mensaje user
	var systemPrompt string
	for _, m := range spec.Messages {
		if m.Role == domain.RoleSystem {
			systemPrompt = m.Content
			continue
		}

		text := m.Content
		if systemPrompt != "" && m.Role == domain.RoleUser {
			text = systemPrompt + "\n\n" + text
			systemPrompt = ""
		}

		contents = append(contents, geminiContent{
			Role:  geminiRole(string(m.Role)),
			Parts: []geminiPart{{Text: text}},
		})
	}

	reqBody := geminiRequest{
		Contents: contents,
	}

	if spec.Temperature > 0 || spec.MaxOutputTokens > 0 {
		reqBody.GenerationConfig = &geminiGenerationConfig{
			Temperature:     spec.Temperature,
			MaxOutputTokens: spec.MaxOutputTokens,
		}
	}

	body, err := json.Marshal(reqBody)
	if err != nil {
		return nil, fmt.Errorf("marshal request: %w", err)
	}

	url := fmt.Sprintf("%s/models/%s:generateContent?key=%s", p.baseURL, spec.Model, p.apiKey)
	req, err := http.NewRequestWithContext(ctx, "POST", url, bytes.NewReader(body))
	if err != nil {
		return nil, fmt.Errorf("create request: %w", err)
	}

	req.Header.Set("Content-Type", "application/json")

	resp, err := p.httpClient.Do(req)
	if err != nil {
		return nil, fmt.Errorf("http request: %w", err)
	}
	defer resp.Body.Close()

	if resp.StatusCode != http.StatusOK {
		respBody, _ := io.ReadAll(resp.Body)
		return nil, fmt.Errorf("API error %d: %s", resp.StatusCode, string(respBody))
	}

	var geminiResp geminiResponse
	if err := json.NewDecoder(resp.Body).Decode(&geminiResp); err != nil {
		return nil, fmt.Errorf("decode response: %w", err)
	}

	if len(geminiResp.Candidates) == 0 {
		return nil, fmt.Errorf("no candidates in response")
	}

	text := ""
	if len(geminiResp.Candidates[0].Content.Parts) > 0 {
		text = geminiResp.Candidates[0].Content.Parts[0].Text
	}

	usage := domain.UsageDTO{}
	if geminiResp.UsageMetadata != nil {
		usage.InputTokens = geminiResp.UsageMetadata.PromptTokenCount
		usage.OutputTokens = geminiResp.UsageMetadata.CandidatesTokenCount
		usage.TotalTokens = geminiResp.UsageMetadata.TotalTokenCount
	}

	return &domain.PromptRunResultDTO{
		RunId:     uuid.New().String(),
		Provider:  spec.Provider,
		Model:     spec.Model,
		Text:      text,
		Usage:     usage,
		CreatedAt: domain.NowISO(),
	}, nil
}

// Stream ejecuta un prompt con streaming
func (p *GeminiProvider) Stream(ctx context.Context, spec domain.PromptRunSpecDTO, onToken func(string)) error {
	contents := make([]geminiContent, 0, len(spec.Messages))

	var systemPrompt string
	for _, m := range spec.Messages {
		if m.Role == domain.RoleSystem {
			systemPrompt = m.Content
			continue
		}

		text := m.Content
		if systemPrompt != "" && m.Role == domain.RoleUser {
			text = systemPrompt + "\n\n" + text
			systemPrompt = ""
		}

		contents = append(contents, geminiContent{
			Role:  geminiRole(string(m.Role)),
			Parts: []geminiPart{{Text: text}},
		})
	}

	reqBody := geminiRequest{
		Contents: contents,
	}

	if spec.Temperature > 0 || spec.MaxOutputTokens > 0 {
		reqBody.GenerationConfig = &geminiGenerationConfig{
			Temperature:     spec.Temperature,
			MaxOutputTokens: spec.MaxOutputTokens,
		}
	}

	body, err := json.Marshal(reqBody)
	if err != nil {
		return fmt.Errorf("marshal request: %w", err)
	}

	url := fmt.Sprintf("%s/models/%s:streamGenerateContent?key=%s&alt=sse", p.baseURL, spec.Model, p.apiKey)
	req, err := http.NewRequestWithContext(ctx, "POST", url, bytes.NewReader(body))
	if err != nil {
		return fmt.Errorf("create request: %w", err)
	}

	req.Header.Set("Content-Type", "application/json")
	req.Header.Set("Accept", "text/event-stream")

	resp, err := p.httpClient.Do(req)
	if err != nil {
		return fmt.Errorf("http request: %w", err)
	}
	defer resp.Body.Close()

	if resp.StatusCode != http.StatusOK {
		respBody, _ := io.ReadAll(resp.Body)
		return fmt.Errorf("API error %d: %s", resp.StatusCode, string(respBody))
	}

	scanner := bufio.NewScanner(resp.Body)
	for scanner.Scan() {
		line := scanner.Text()
		if !strings.HasPrefix(line, "data: ") {
			continue
		}

		data := strings.TrimPrefix(line, "data: ")
		if data == "" {
			continue
		}

		var chunk geminiStreamResponse
		if err := json.Unmarshal([]byte(data), &chunk); err != nil {
			continue
		}

		if len(chunk.Candidates) > 0 && len(chunk.Candidates[0].Content.Parts) > 0 {
			onToken(chunk.Candidates[0].Content.Parts[0].Text)
		}
	}

	return scanner.Err()
}

</file>

<file path="internal/domain/models.go">
package domain

import (
	"context"
	"path/filepath"
	goruntime "runtime"
	"strings"
	"time"
)

// ---------------------------------------------------------------------------
// Internal Domain Models (separados de DTOs para flexibilidad)
// ---------------------------------------------------------------------------

// Project representa un proyecto abierto (entidad interna)
type Project struct {
	RootPath string
	RepoName string
	OpenedAt time.Time
}

// NewProject crea un nuevo proyecto desde un path
func NewProject(rootPath string) *Project {
	return &Project{
		RootPath: rootPath,
		RepoName: filepath.Base(rootPath),
		OpenedAt: time.Now().UTC(),
	}
}

// ToDTO convierte a DTO para serializacion
func (p *Project) ToDTO() ProjectDTO {
	return ProjectDTO{
		RootPath: p.RootPath,
		RepoName: p.RepoName,
		OpenedAt: ISOTime(p.OpenedAt.Format(time.RFC3339Nano)),
		Platform: goruntime.GOOS,
	}
}

// FileNode nodo del arbol de archivos (entidad interna)
type FileNode struct {
	RelPath   string
	Name      string
	Kind      FileKind
	Ext       string
	SizeBytes int64
	ModTime   time.Time
	Ignored   bool
	Reason    string
	Children  []*FileNode
}

// ToDTO convierte recursivamente a DTO
func (n *FileNode) ToDTO() FileNodeDTO {
	dto := FileNodeDTO{
		Id:        n.RelPath,
		RelPath:   n.RelPath,
		Name:      n.Name,
		Kind:      n.Kind,
		Ext:       n.Ext,
		SizeBytes: n.SizeBytes,
		ModTime:   ISOTime(n.ModTime.Format(time.RFC3339Nano)),
		Ignored:   n.Ignored,
		Reason:    n.Reason,
	}

	if len(n.Children) > 0 {
		dto.Children = make([]FileNodeDTO, len(n.Children))
		for i, child := range n.Children {
			dto.Children[i] = child.ToDTO()
		}
	}

	return dto
}

// TreeSnapshot snapshot del arbol (entidad interna)
type TreeSnapshot struct {
	Project   *Project
	Root      *FileNode
	Stats     TreeStats
	CreatedAt time.Time
	Version   int
}

// ToDTO convierte a DTO
func (s *TreeSnapshot) ToDTO() TreeSnapshotDTO {
	return TreeSnapshotDTO{
		Project:   s.Project.ToDTO(),
		Root:      s.Root.ToDTO(),
		Stats:     s.Stats.ToDTO(),
		CreatedAt: ISOTime(s.CreatedAt.Format(time.RFC3339Nano)),
		Version:   s.Version,
	}
}

// TreeStats estadisticas del arbol (entidad interna)
type TreeStats struct {
	Files      int
	Dirs       int
	TotalBytes int64
	Ignored    int
	MaxDepth   int
}

// ToDTO convierte a DTO
func (s TreeStats) ToDTO() TreeStatsDTO {
	return TreeStatsDTO{
		Files:      s.Files,
		Dirs:       s.Dirs,
		TotalBytes: s.TotalBytes,
		Ignored:    s.Ignored,
		MaxDepth:   s.MaxDepth,
	}
}

// ---------------------------------------------------------------------------
// Job Management (entidades internas)
// ---------------------------------------------------------------------------

// Job representa un trabajo en ejecucion
type Job struct {
	ID        string
	Kind      JobKind
	State     JobState
	Stage     string
	Current   int64
	Total     int64
	Message   string
	StartedAt time.Time
	UpdatedAt time.Time
	Error     error
	Cancel    context.CancelFunc
}

// ToDTO convierte a DTO
func (j *Job) ToDTO() JobProgressDTO {
	dto := JobProgressDTO{
		JobId:     j.ID,
		Kind:      j.Kind,
		State:     j.State,
		Stage:     j.Stage,
		Current:   j.Current,
		Total:     j.Total,
		Message:   j.Message,
		StartedAt: ISOTime(j.StartedAt.Format(time.RFC3339Nano)),
		UpdatedAt: ISOTime(j.UpdatedAt.Format(time.RFC3339Nano)),
	}

	if j.Error != nil {
		dto.Error = &ErrorDTO{
			Code:    "JOB_ERROR",
			Message: j.Error.Error(),
		}
	}

	return dto
}

// ---------------------------------------------------------------------------
// Context Building (entidades internas)
// ---------------------------------------------------------------------------

// ContextFile archivo procesado para el contexto
type ContextFile struct {
	RelPath   string
	SizeBytes int64
	Content   string
	Truncated bool
}

// ToDTO convierte a DTO
func (f *ContextFile) ToDTO() ContextFileDTO {
	return ContextFileDTO{
		Id:        f.RelPath,
		RelPath:   f.RelPath,
		SizeBytes: f.SizeBytes,
		Content:   f.Content,
		Truncated: f.Truncated,
	}
}

// ContextPayload payload completo del contexto
type ContextPayload struct {
	Files      []*ContextFile
	TotalBytes int64
	Warnings   []string
	CreatedAt  time.Time
}

// ToDTO convierte a DTO
func (p *ContextPayload) ToDTO(opts ContextBuildOptionsDTO) ContextPayloadDTO {
	files := make([]ContextFileDTO, len(p.Files))
	for i, f := range p.Files {
		files[i] = f.ToDTO()
	}

	return ContextPayloadDTO{
		Options:    opts,
		Files:      files,
		TotalBytes: p.TotalBytes,
		Warnings:   p.Warnings,
		CreatedAt:  ISOTime(p.CreatedAt.Format(time.RFC3339Nano)),
	}
}

// ---------------------------------------------------------------------------
// LLM (entidades internas)
// ---------------------------------------------------------------------------

// ChatMessage mensaje de chat interno
type ChatMessage struct {
	Role      ChatRole
	Content   string
	CreatedAt time.Time
}

// ToDTO convierte a DTO
func (m *ChatMessage) ToDTO() ChatMessageDTO {
	return ChatMessageDTO{
		Role:      m.Role,
		Content:   m.Content,
		CreatedAt: ISOTime(m.CreatedAt.Format(time.RFC3339Nano)),
	}
}

// PromptResult resultado de un prompt
type PromptResult struct {
	RunId        string
	Provider     ProviderID
	Model        string
	Text         string
	InputTokens  int
	OutputTokens int
	CreatedAt    time.Time
	Error        error
}

// ToDTO convierte a DTO
func (r *PromptResult) ToDTO() PromptRunResultDTO {
	dto := PromptRunResultDTO{
		RunId:    r.RunId,
		Provider: r.Provider,
		Model:    r.Model,
		Text:     r.Text,
		Usage: UsageDTO{
			InputTokens:  r.InputTokens,
			OutputTokens: r.OutputTokens,
			TotalTokens:  r.InputTokens + r.OutputTokens,
		},
		CreatedAt: ISOTime(r.CreatedAt.Format(time.RFC3339Nano)),
	}

	if r.Error != nil {
		dto.Error = &ErrorDTO{
			Code:    "LLM_ERROR",
			Message: r.Error.Error(),
		}
	}

	return dto
}

// ---------------------------------------------------------------------------
// Helpers
// ---------------------------------------------------------------------------

// GetFileExtension extrae la extension de un nombre de archivo
func GetFileExtension(name string) string {
	ext := filepath.Ext(name)
	if ext != "" {
		return strings.TrimPrefix(ext, ".")
	}
	return ""
}

// EstimateTokens estima tokens usando heuristica 4-char/token
func EstimateTokens(content string) int {
	return len(content) / 4
}

</file>

<file path="internal/llm/anthropic.go">
package llm

import (
	"bufio"
	"bytes"
	"context"
	"encoding/json"
	"fmt"
	"io"
	"net/http"
	"strings"
	"time"

	"github.com/google/uuid"

	"shotgun/internal/domain"
)

// AnthropicProvider implementa Provider para Anthropic Claude API
type AnthropicProvider struct {
	apiKey     string
	baseURL    string
	httpClient *http.Client
}

// NewAnthropicProvider crea un proveedor Anthropic
func NewAnthropicProvider(apiKey string) *AnthropicProvider {
	return &AnthropicProvider{
		apiKey:  apiKey,
		baseURL: "https://api.anthropic.com/v1",
		httpClient: &http.Client{
			Timeout: 5 * time.Minute,
		},
	}
}

// Anthropic API types
type anthropicRequest struct {
	Model       string             `json:"model"`
	MaxTokens   int                `json:"max_tokens"`
	System      string             `json:"system,omitempty"`
	Messages    []anthropicMessage `json:"messages"`
	Temperature float64            `json:"temperature,omitempty"`
	Stream      bool               `json:"stream"`
}

type anthropicMessage struct {
	Role    string `json:"role"`
	Content string `json:"content"`
}

type anthropicResponse struct {
	ID           string              `json:"id"`
	Type         string              `json:"type"`
	Role         string              `json:"role"`
	Content      []anthropicContent  `json:"content"`
	StopReason   string              `json:"stop_reason"`
	Usage        anthropicUsage      `json:"usage"`
}

type anthropicContent struct {
	Type string `json:"type"`
	Text string `json:"text"`
}

type anthropicUsage struct {
	InputTokens  int `json:"input_tokens"`
	OutputTokens int `json:"output_tokens"`
}

type anthropicStreamEvent struct {
	Type         string             `json:"type"`
	Index        int                `json:"index,omitempty"`
	ContentBlock *anthropicContent  `json:"content_block,omitempty"`
	Delta        *anthropicDelta    `json:"delta,omitempty"`
	Usage        *anthropicUsage    `json:"usage,omitempty"`
}

type anthropicDelta struct {
	Type string `json:"type"`
	Text string `json:"text"`
}

// Complete ejecuta un prompt sin streaming
func (p *AnthropicProvider) Complete(ctx context.Context, spec domain.PromptRunSpecDTO) (*domain.PromptRunResultDTO, error) {
	var systemPrompt string
	messages := make([]anthropicMessage, 0, len(spec.Messages))

	for _, m := range spec.Messages {
		if m.Role == domain.RoleSystem {
			systemPrompt = m.Content
			continue
		}

		role := "user"
		if m.Role == domain.RoleAssistant {
			role = "assistant"
		}

		messages = append(messages, anthropicMessage{
			Role:    role,
			Content: m.Content,
		})
	}

	maxTokens := spec.MaxOutputTokens
	if maxTokens == 0 {
		maxTokens = 4096
	}

	reqBody := anthropicRequest{
		Model:     spec.Model,
		MaxTokens: maxTokens,
		System:    systemPrompt,
		Messages:  messages,
		Stream:    false,
	}

	if spec.Temperature > 0 {
		reqBody.Temperature = spec.Temperature
	}

	body, err := json.Marshal(reqBody)
	if err != nil {
		return nil, fmt.Errorf("marshal request: %w", err)
	}

	req, err := http.NewRequestWithContext(ctx, "POST", p.baseURL+"/messages", bytes.NewReader(body))
	if err != nil {
		return nil, fmt.Errorf("create request: %w", err)
	}

	req.Header.Set("Content-Type", "application/json")
	req.Header.Set("x-api-key", p.apiKey)
	req.Header.Set("anthropic-version", "2023-06-01")

	resp, err := p.httpClient.Do(req)
	if err != nil {
		return nil, fmt.Errorf("http request: %w", err)
	}
	defer resp.Body.Close()

	if resp.StatusCode != http.StatusOK {
		respBody, _ := io.ReadAll(resp.Body)
		return nil, fmt.Errorf("API error %d: %s", resp.StatusCode, string(respBody))
	}

	var anthropicResp anthropicResponse
	if err := json.NewDecoder(resp.Body).Decode(&anthropicResp); err != nil {
		return nil, fmt.Errorf("decode response: %w", err)
	}

	text := ""
	if len(anthropicResp.Content) > 0 {
		text = anthropicResp.Content[0].Text
	}

	return &domain.PromptRunResultDTO{
		RunId:    uuid.New().String(),
		Provider: spec.Provider,
		Model:    spec.Model,
		Text:     text,
		Usage: domain.UsageDTO{
			InputTokens:  anthropicResp.Usage.InputTokens,
			OutputTokens: anthropicResp.Usage.OutputTokens,
			TotalTokens:  anthropicResp.Usage.InputTokens + anthropicResp.Usage.OutputTokens,
		},
		CreatedAt: domain.NowISO(),
	}, nil
}

// Stream ejecuta un prompt con streaming
func (p *AnthropicProvider) Stream(ctx context.Context, spec domain.PromptRunSpecDTO, onToken func(string)) error {
	var systemPrompt string
	messages := make([]anthropicMessage, 0, len(spec.Messages))

	for _, m := range spec.Messages {
		if m.Role == domain.RoleSystem {
			systemPrompt = m.Content
			continue
		}

		role := "user"
		if m.Role == domain.RoleAssistant {
			role = "assistant"
		}

		messages = append(messages, anthropicMessage{
			Role:    role,
			Content: m.Content,
		})
	}

	maxTokens := spec.MaxOutputTokens
	if maxTokens == 0 {
		maxTokens = 4096
	}

	reqBody := anthropicRequest{
		Model:     spec.Model,
		MaxTokens: maxTokens,
		System:    systemPrompt,
		Messages:  messages,
		Stream:    true,
	}

	if spec.Temperature > 0 {
		reqBody.Temperature = spec.Temperature
	}

	body, err := json.Marshal(reqBody)
	if err != nil {
		return fmt.Errorf("marshal request: %w", err)
	}

	req, err := http.NewRequestWithContext(ctx, "POST", p.baseURL+"/messages", bytes.NewReader(body))
	if err != nil {
		return fmt.Errorf("create request: %w", err)
	}

	req.Header.Set("Content-Type", "application/json")
	req.Header.Set("x-api-key", p.apiKey)
	req.Header.Set("anthropic-version", "2023-06-01")
	req.Header.Set("Accept", "text/event-stream")

	resp, err := p.httpClient.Do(req)
	if err != nil {
		return fmt.Errorf("http request: %w", err)
	}
	defer resp.Body.Close()

	if resp.StatusCode != http.StatusOK {
		respBody, _ := io.ReadAll(resp.Body)
		return fmt.Errorf("API error %d: %s", resp.StatusCode, string(respBody))
	}

	scanner := bufio.NewScanner(resp.Body)
	for scanner.Scan() {
		line := scanner.Text()
		if !strings.HasPrefix(line, "data: ") {
			continue
		}

		data := strings.TrimPrefix(line, "data: ")
		if data == "" || data == "[DONE]" {
			continue
		}

		var event anthropicStreamEvent
		if err := json.Unmarshal([]byte(data), &event); err != nil {
			continue
		}

		if event.Type == "content_block_delta" && event.Delta != nil && event.Delta.Text != "" {
			onToken(event.Delta.Text)
		}
	}

	return scanner.Err()
}

</file>

<file path="tailwind.config.js">
/** @type {import('tailwindcss').Config} */
export default {
    content: [
        "./index.html",
        "./src/**/*.{js,ts,jsx,tsx}",
        "./components/**/*.{js,ts,jsx,tsx}",
    ],
    theme: {
        extend: {
            // === COLORES ===
            colors: {
                // Core Mappings (generic aliases used in components)
                background: 'var(--color-canvas)',
                border: 'var(--color-stroke)',
                primary: 'var(--color-ink)',     // Used for main text, active states
                secondary: 'var(--color-ink-muted)', // Used for secondary text
                accent: 'var(--color-status-active)',

                // Superficies
                canvas: 'var(--color-canvas)',
                surface: {
                    DEFAULT: 'var(--color-surface)',
                    muted: 'var(--color-surface-muted)',
                    elevated: 'var(--color-surface-elevated)',
                },

                // Dark specific (legacy)
                dark: {
                    DEFAULT: 'var(--color-dark)',
                    surface: 'var(--color-dark-surface)',
                    muted: 'var(--color-dark-muted)',
                },

                // Texto & Elementos
                ink: {
                    DEFAULT: 'var(--color-ink)',
                    muted: 'var(--color-ink-muted)',
                    subtle: 'var(--color-ink-subtle)',
                    inverted: 'var(--color-ink-inverted)',
                },

                // Bordes
                stroke: {
                    DEFAULT: 'var(--color-stroke)',
                    subtle: 'var(--color-stroke-subtle)',
                    emphasis: 'var(--color-stroke-emphasis)',
                    dark: 'var(--color-stroke-dark)',
                },

                // Semnticos
                status: {
                    ready: 'var(--color-status-ready)',
                    active: 'var(--color-status-active)',
                    warning: 'var(--color-status-warning)',
                    error: 'var(--color-status-error)',
                },

                // Legacy aliases
                ash: 'var(--color-ash)',
                smoke: 'var(--color-smoke)',
            },

            // === TIPOGRAFA ===
            fontFamily: {
                sans: ['"Helvetica Neue"', 'Helvetica', 'Arial', 'sans-serif'],
                mono: ['"SF Mono"', '"Fira Code"', 'Consolas', 'monospace'],
            },

            fontSize: {
                'display': ['clamp(2.5rem, 6vw, 4.5rem)', {
                    lineHeight: '0.9',
                    letterSpacing: '-0.025em',
                    fontWeight: '600'
                }],
                'h1': ['clamp(1.875rem, 4vw, 2.5rem)', {
                    lineHeight: '1.1',
                    letterSpacing: '-0.02em',
                    fontWeight: '600'
                }],
                'h2': ['1.25rem', {
                    lineHeight: '1.25',
                    letterSpacing: '-0.015em',
                    fontWeight: '500'
                }],
                'body': ['0.875rem', {
                    lineHeight: '1.6',
                    letterSpacing: '0.01em',
                    fontWeight: '400'
                }],
                'micro': ['0.625rem', {
                    lineHeight: '1.4',
                    letterSpacing: '0.1em',
                    fontWeight: '500'
                }],
            },

            letterSpacing: {
                tighter: '-0.05em',
                tight: '-0.025em',
                normal: '0em',
                wide: '0.025em',
                wider: '0.05em',
                widest: '0.1em',
            },

            // === BORDER RADIUS ===
            borderRadius: {
                'subtle': '4px',
                'base': '8px',
                'medium': '12px',
                'large': '16px',
                'xl': '24px',
                'pill': '9999px',
                'organic-sm': '20px',
                'organic': '40px',
                'organic-lg': '80px',
            },

            // === SOMBRAS ===
            boxShadow: {
                'subtle': '0 1px 2px rgba(0,0,0,0.04)',
                'base': '0 2px 8px rgba(0,0,0,0.06)',
                'elevated': '0 4px 16px rgba(0,0,0,0.08)',
                'prominent': '0 8px 32px rgba(0,0,0,0.12)',
                'float': '0 12px 40px rgba(0,0,0,0.15)',
                'slide-up': '0 -50px 100px -20px rgba(0,0,0,0.3)',
            },

            // === ANIMACIONES ===
            animation: {
                'reveal': 'reveal 0.7s cubic-bezier(0.16, 1, 0.3, 1) forwards',
                'fade-in': 'fadeIn 0.5s cubic-bezier(0.16, 1, 0.3, 1) forwards',
                'slide-up': 'slideUp 0.5s cubic-bezier(0.16, 1, 0.3, 1) forwards',
                'pulse-subtle': 'pulseSubtle 3s ease-in-out infinite',
            },

            keyframes: {
                reveal: {
                    '0%': { opacity: '0', transform: 'translateY(20px)' },
                    '100%': { opacity: '1', transform: 'translateY(0)' },
                },
                fadeIn: {
                    '0%': { opacity: '0' },
                    '100%': { opacity: '1' },
                },
                slideUp: {
                    '0%': { opacity: '0', transform: 'translateY(10px)' },
                    '100%': { opacity: '1', transform: 'translateY(0)' },
                },
                pulseSubtle: {
                    '0%, 100%': { opacity: '1' },
                    '50%': { opacity: '0.6' },
                },
            },

            // === TRANSICIONES ===
            transitionDuration: {
                'fast': '150ms',
                'normal': '300ms',
                'slow': '500ms',
                'reveal': '700ms',
            },

            transitionTimingFunction: {
                'standard': 'cubic-bezier(0.4, 0, 0.2, 1)',
                'expo-out': 'cubic-bezier(0.16, 1, 0.3, 1)',
                'enter': 'cubic-bezier(0, 0, 0.2, 1)',
                'exit': 'cubic-bezier(0.4, 0, 1, 1)',
            },
        },
    },
    plugins: [
        require('@tailwindcss/typography'),
    ],
}

</file>

<file path=".DS_Store">
   Bud1           
                                                           o n e n t s                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          
 c o m p o n e n t slg1Scomp        
 c o m p o n e n t smoDDblob      =(xA   
 c o m p o n e n t smodDblob      =(xA   
 c o m p o n e n t sph1Scomp          c o n t e x t slg1Scomp          c o n t e x t smoDDblob      =(xA    c o n t e x t smodDblob      =(xA    c o n t e x t sph1Scomp      0     h o o k slg1Scomp          h o o k smoDDblob      =(xA    h o o k smodDblob      =(xA    h o o k sph1Scomp           i n t e r n a llg1Scomp           i n t e r n a lmoDDblob      =(xA    i n t e r n a lmodDblob      =(xA    i n t e r n a lph1Scomp      0     s e r v i c e slg1Scomp      :    s e r v i c e smoDDblob      =(xA    s e r v i c e smodDblob      =(xA    s e r v i c e sph1Scomp            u t i l slg1Scomp      	    u t i l smoDDblob      =(xA    u t i l smodDblob      =(xA    u t i l sph1Scomp      0                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   @                                              @                                                @                                                @                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   E  
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       DSDB                                 `                                                   @                                                @                                                @                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              
</file>

<file path="components/.DS_Store">
   Bud1           
                                                           u r e slg1S                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           f e a t u r e slg1Scomp      i    f e a t u r e smoDDblob      =(xA    f e a t u r e smodDblob      =(xA    f e a t u r e sph1Scomp           L a y o u tlg1Scomp      j    L a y o u tmoDDblob      =(xA    L a y o u tmodDblob      =(xA    L a y o u tph1Scomp      0     O n e S h o tlg1Scomp      7x    O n e S h o tmoDDblob      =(xA    O n e S h o tmodDblob      =(xA    O n e S h o tph1Scomp      P     u ilg1Scomp      (    u imoDDblob      =(xA    u imodDblob      =(xA    u iph1Scomp                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 @                                              @                                                @                                                @                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   E  
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       DSDB                                 `                                                   @                                                @                                                @                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              
</file>

<file path="internal/.DS_Store">
   Bud1           
                                                          1Scomp                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 a p plg1Scomp           a p pmoDDblob      =(xA    a p pmodDblob      =(xA    a p pph1Scomp           c o n t e x tlg1Scomp            c o n t e x tmoDDblob      =(xA    c o n t e x tmodDblob      =(xA    c o n t e x tph1Scomp            d o m a i nlg1Scomp           d o m a i nmoDDblob      =(xA    d o m a i nmodDblob      =(xA    d o m a i nph1Scomp           f slg1Scomp           f smoDDblob      =(xA    f smodDblob      =(xA    f sph1Scomp           j o b slg1Scomp            j o b smoDDblob      =(xA    j o b smodDblob      =(xA    j o b sph1Scomp            l l mlg1Scomp            l l mmoDDblob      =(xA    l l mmodDblob      =(xA    l l mph1Scomp                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  @                                              @                                                @                                                @                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   E  
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       DSDB                                 `                                                   @                                                @                                                @                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              
</file>

<file path="components/features/Tree/TreeRow.tsx">
import React, { memo, useState } from 'react';
import { FileNode } from '../../../types';
import { cn, formatBytes } from '../../../utils/cn';
import { useStore } from '../../../contexts/StoreContext';
import { getAllFileIds } from '../../../utils/tree-utils';
import { FileIcon } from './FileIcon';
import { Check } from 'lucide-react';

interface TreeRowProps {
  node: FileNode;
  depth: number;
}

export const TreeRow: React.FC<TreeRowProps> = memo(({ node, depth }) => {
  const { state, dispatch } = useStore();
  const [isHovered, setIsHovered] = useState(false);

  const isExpanded = state.expandedFolderIds.has(node.id);
  const isSelected = state.selectedFileIds.has(node.id);
  const allChildrenIds = React.useMemo(() => node.isDir ? getAllFileIds(node) : [], [node]);
  const isFullySelected = node.isDir && allChildrenIds.length > 0 && allChildrenIds.every(id => state.selectedFileIds.has(id));

  const handleExpand = (e: React.MouseEvent) => {
    e.stopPropagation();
    if (node.isDir) {
      dispatch({ type: 'TOGGLE_EXPAND', payload: node.id });
    }
  };

  const handleSelect = (e: React.MouseEvent) => {
      e.stopPropagation();
      if (node.isDir) {
          const shouldSelect = !isFullySelected;
          dispatch({
              type: 'SELECT_BATCH',
              payload: { ids: allChildrenIds, selected: shouldSelect }
          });
      } else {
          dispatch({ type: 'TOGGLE_SELECT', payload: node.id });
      }
  };

  const showCheckbox = isHovered || isSelected || isFullySelected;

  return (
    <div className="animate-fade-in group/row">
      <div
        role="treeitem"
        aria-expanded={node.isDir ? isExpanded : undefined}
        aria-selected={isSelected || isFullySelected}
        tabIndex={0}
        className={cn(
            "group flex items-center h-8 cursor-pointer select-none transition-all duration-300 rounded-lg",
            "focus:outline-none focus:ring-1 focus:ring-ink focus:ring-offset-1 focus:ring-offset-canvas",
            (isSelected || isFullySelected) ? "text-ink" : "text-ash hover:text-ink"
        )}
        style={{ paddingLeft: `${depth * 20 + 8}px` }}
        onClick={handleSelect}
        onMouseEnter={() => setIsHovered(true)}
        onMouseLeave={() => setIsHovered(false)}
        onKeyDown={(e) => {
          if (e.key === 'Enter' || e.key === ' ') {
            e.preventDefault();
            handleSelect(e as any);
          }
          if (node.isDir && (e.key === 'ArrowRight' || e.key === 'ArrowLeft')) {
            e.preventDefault();
            if ((e.key === 'ArrowRight' && !isExpanded) || (e.key === 'ArrowLeft' && isExpanded)) {
              handleExpand(e as any);
            }
          }
        }}
      >
        <div className="flex items-center gap-2 w-full relative pr-2">
            
            {/* Hover Indicator Background (Subtle) */}
            <div className={cn(
                "absolute inset-0 bg-smoke/30 rounded-lg opacity-0 transition-opacity duration-300 -z-10",
                isHovered && "opacity-100"
            )} />

            {/* Checkbox */}
            <div
              className={cn(
                "flex-shrink-0 w-3 h-3 border border-ash rounded-[2px] flex items-center justify-center transition-all duration-300",
                (isSelected || isFullySelected)
                  ? "bg-ink border-ink"
                  : "border-ash bg-transparent",
                showCheckbox ? "opacity-100 scale-100" : "opacity-0 scale-90"
              )}
            >
              {(isSelected || isFullySelected) && (
                <Check className="w-2.5 h-2.5 text-canvas" strokeWidth={3} />
              )}
            </div>

            {/* Folder Toggle */}
            {node.isDir && (
                <div
                    onClick={handleExpand}
                    className="flex-shrink-0 w-4 h-4 flex items-center justify-center hover:bg-smoke/50 rounded-full cursor-pointer transition-colors"
                >
                    <div className={cn(
                        "w-0 h-0 border-l-[3px] border-l-current border-y-[2px] border-y-transparent transition-transform duration-300 ease-expo",
                        isExpanded && "rotate-90"
                    )} />
                </div>
            )}

            {/* Icon */}
            <div className="flex-shrink-0 opacity-70 group-hover:opacity-100 transition-opacity">
              <FileIcon
                isDir={node.isDir}
                expanded={isExpanded}
                name={node.name}
              />
            </div>

            {/* Name */}
            <span className={cn(
                "text-[11px] font-mono truncate transition-all flex-1 min-w-0 tracking-wide",
                node.isDir ? "font-medium uppercase" : "font-normal lowercase text-ash group-hover/row:text-ink"
            )}>
              {node.name}
            </span>

            {/* Size Badge */}
            {!node.isDir && (
              <span className={cn(
                "flex-shrink-0 text-[9px] font-mono text-ash/50 transition-opacity uppercase tracking-widest",
                isHovered ? "opacity-100" : "opacity-0"
              )}>
                {formatBytes(node.size, 0)}
              </span>
            )}
        </div>
      </div>

      {node.isDir && isExpanded && node.children && (
        <div className="flex flex-col relative">
          {/* Vertical Guide Line */}
          <div className="absolute left-[27px] top-0 bottom-0 w-px bg-smoke/40" style={{ left: `${depth * 20 + 27}px` }} />
          {node.children.map(child => (
            <TreeRow key={child.id} node={child} depth={depth + 1} />
          ))}
        </div>
      )}
    </div>
  );
});
</file>

<file path="internal/fs/scanner_test.go">
package fs

import (
	"os"
	"path/filepath"
	"testing"

	"shotgun/internal/domain"
)

func TestScanner_Scan(t *testing.T) {
	// Crear directorio temporal
	tmpDir, err := os.MkdirTemp("", "scanner-test-*")
	if err != nil {
		t.Fatalf("failed to create temp dir: %v", err)
	}
	defer os.RemoveAll(tmpDir)

	// Crear estructura de archivos
	files := map[string]string{
		"src/main.go":      "package main",
		"src/util/help.go": "package util",
		"README.md":        "# Test",
		"config.json":      "{}",
		".gitignore":       "*.log\n",
	}

	for path, content := range files {
		fullPath := filepath.Join(tmpDir, path)
		dir := filepath.Dir(fullPath)
		if err := os.MkdirAll(dir, 0755); err != nil {
			t.Fatalf("failed to create dir %s: %v", dir, err)
		}
		if err := os.WriteFile(fullPath, []byte(content), 0644); err != nil {
			t.Fatalf("failed to write file %s: %v", path, err)
		}
	}

	// Crear archivo que debe ser ignorado
	logFile := filepath.Join(tmpDir, "debug.log")
	if err := os.WriteFile(logFile, []byte("log content"), 0644); err != nil {
		t.Fatalf("failed to write log file: %v", err)
	}

	// Ejecutar scan
	scanner := NewScanner()
	opts := DefaultScanOptions()
	snapshot, err := scanner.Scan(tmpDir, opts)
	if err != nil {
		t.Fatalf("scan failed: %v", err)
	}

	// Verificar snapshot
	if snapshot == nil {
		t.Fatal("snapshot is nil")
	}

	if snapshot.Root == nil {
		t.Fatal("root is nil")
	}

	// Verificar stats (2 dirs: src, src/util + 5 files)
	if snapshot.Stats.Dirs < 2 {
		t.Errorf("expected at least 2 dirs, got %d", snapshot.Stats.Dirs)
	}

	if snapshot.Stats.Files < 4 {
		t.Errorf("expected at least 4 files, got %d", snapshot.Stats.Files)
	}

	// Verificar que .log fue ignorado
	if snapshot.Stats.Ignored < 1 {
		t.Errorf("expected at least 1 ignored, got %d", snapshot.Stats.Ignored)
	}

	t.Logf("Stats: files=%d dirs=%d ignored=%d bytes=%d",
		snapshot.Stats.Files, snapshot.Stats.Dirs,
		snapshot.Stats.Ignored, snapshot.Stats.TotalBytes)
}

func TestScanner_DefaultIgnore(t *testing.T) {
	tmpDir, err := os.MkdirTemp("", "ignore-test-*")
	if err != nil {
		t.Fatalf("failed to create temp dir: %v", err)
	}
	defer os.RemoveAll(tmpDir)

	// Crear directorio node_modules (debe ser ignorado por defecto)
	nodeModules := filepath.Join(tmpDir, "node_modules", "lodash")
	if err := os.MkdirAll(nodeModules, 0755); err != nil {
		t.Fatalf("failed to create node_modules: %v", err)
	}
	if err := os.WriteFile(filepath.Join(nodeModules, "index.js"), []byte("module.exports"), 0644); err != nil {
		t.Fatalf("failed to write file: %v", err)
	}

	// Crear archivo .DS_Store (debe ser ignorado)
	if err := os.WriteFile(filepath.Join(tmpDir, ".DS_Store"), []byte(""), 0644); err != nil {
		t.Fatalf("failed to write .DS_Store: %v", err)
	}

	// Crear archivo normal
	if err := os.WriteFile(filepath.Join(tmpDir, "index.js"), []byte("console.log"), 0644); err != nil {
		t.Fatalf("failed to write index.js: %v", err)
	}

	scanner := NewScanner()
	opts := DefaultScanOptions()
	snapshot, err := scanner.Scan(tmpDir, opts)
	if err != nil {
		t.Fatalf("scan failed: %v", err)
	}

	// node_modules debe ser ignorado (skip dir)
	// .DS_Store debe ser ignorado (marcado pero contado)
	// Solo index.js debe ser archivo no-ignorado
	t.Logf("Stats: files=%d dirs=%d ignored=%d", snapshot.Stats.Files, snapshot.Stats.Dirs, snapshot.Stats.Ignored)

	// Verificar que node_modules fue saltado (no hay lodash/index.js en el arbol)
	if snapshot.Stats.Ignored < 1 {
		t.Errorf("expected at least 1 ignored entry, got %d", snapshot.Stats.Ignored)
	}
}

func TestWalker_MaxDepth(t *testing.T) {
	tmpDir, err := os.MkdirTemp("", "depth-test-*")
	if err != nil {
		t.Fatalf("failed to create temp dir: %v", err)
	}
	defer os.RemoveAll(tmpDir)

	// Crear estructura profunda
	deepPath := filepath.Join(tmpDir, "a", "b", "c", "d", "e", "f")
	if err := os.MkdirAll(deepPath, 0755); err != nil {
		t.Fatalf("failed to create deep path: %v", err)
	}
	if err := os.WriteFile(filepath.Join(deepPath, "deep.txt"), []byte("deep"), 0644); err != nil {
		t.Fatalf("failed to write deep file: %v", err)
	}

	// Walk con maxDepth=3
	walker := NewWalker(WithMaxDepth(3))
	result := walker.Walk(tmpDir)
	if result.Err != nil {
		t.Fatalf("walk failed: %v", result.Err)
	}

	// No debe incluir archivos mas alla de depth 3
	if result.Stats.MaxDepth > 3 {
		t.Errorf("expected max depth <= 3, got %d", result.Stats.MaxDepth)
	}
}

func TestReadFileContent(t *testing.T) {
	tmpDir, err := os.MkdirTemp("", "read-test-*")
	if err != nil {
		t.Fatalf("failed to create temp dir: %v", err)
	}
	defer os.RemoveAll(tmpDir)

	content := "Hello, World! This is a test file with some content."
	if err := os.WriteFile(filepath.Join(tmpDir, "test.txt"), []byte(content), 0644); err != nil {
		t.Fatalf("failed to write file: %v", err)
	}

	// Leer sin truncar
	read, truncated, err := ReadFileContent(tmpDir, "test.txt", 0)
	if err != nil {
		t.Fatalf("read failed: %v", err)
	}
	if truncated {
		t.Error("expected not truncated")
	}
	if read != content {
		t.Errorf("content mismatch: got %q, want %q", read, content)
	}

	// Leer con truncado
	read, truncated, err = ReadFileContent(tmpDir, "test.txt", 10)
	if err != nil {
		t.Fatalf("read failed: %v", err)
	}
	if !truncated {
		t.Error("expected truncated")
	}
	if len(read) != 10 {
		t.Errorf("expected 10 bytes, got %d", len(read))
	}
}

func findNode(node *domain.FileNode, relPath string) *domain.FileNode {
	if node.RelPath == relPath {
		return node
	}
	for _, child := range node.Children {
		if found := findNode(child, relPath); found != nil {
			return found
		}
	}
	return nil
}

</file>

<file path="internal/llm/openai.go">
package llm

import (
	"bufio"
	"bytes"
	"context"
	"encoding/json"
	"fmt"
	"io"
	"net/http"
	"strings"
	"time"

	"github.com/google/uuid"

	"shotgun/internal/domain"
)

// OpenAIProvider implementa Provider para APIs compatibles con OpenAI
type OpenAIProvider struct {
	apiKey     string
	baseURL    string
	httpClient *http.Client
}

// NewOpenAIProvider crea un proveedor OpenAI
func NewOpenAIProvider(apiKey, baseURL string) *OpenAIProvider {
	if baseURL == "" {
		baseURL = "https://api.openai.com/v1"
	}
	return &OpenAIProvider{
		apiKey:  apiKey,
		baseURL: strings.TrimSuffix(baseURL, "/"),
		httpClient: &http.Client{
			Timeout: 5 * time.Minute,
		},
	}
}

// NewOpenRouterProvider crea un proveedor OpenRouter
func NewOpenRouterProvider(apiKey string) *OpenAIProvider {
	return NewOpenAIProvider(apiKey, "https://openrouter.ai/api/v1")
}

// OpenAI API types
type chatRequest struct {
	Model       string        `json:"model"`
	Messages    []chatMessage `json:"messages"`
	Temperature *float64      `json:"temperature,omitempty"`
	MaxTokens   *int          `json:"max_tokens,omitempty"`
	Stream      bool          `json:"stream"`
}

type chatMessage struct {
	Role    string `json:"role"`
	Content string `json:"content"`
}

type chatResponse struct {
	ID      string   `json:"id"`
	Choices []choice `json:"choices"`
	Usage   usage    `json:"usage"`
}

type choice struct {
	Message      chatMessage `json:"message"`
	Delta        chatMessage `json:"delta"`
	FinishReason string      `json:"finish_reason"`
}

type usage struct {
	PromptTokens     int `json:"prompt_tokens"`
	CompletionTokens int `json:"completion_tokens"`
	TotalTokens      int `json:"total_tokens"`
}

type streamChunk struct {
	ID      string   `json:"id"`
	Choices []choice `json:"choices"`
}

// Complete ejecuta un prompt sin streaming
func (p *OpenAIProvider) Complete(ctx context.Context, spec domain.PromptRunSpecDTO) (*domain.PromptRunResultDTO, error) {
	messages := make([]chatMessage, 0, len(spec.Messages))
	for _, m := range spec.Messages {
		messages = append(messages, chatMessage{
			Role:    string(m.Role),
			Content: m.Content,
		})
	}

	reqBody := chatRequest{
		Model:    spec.Model,
		Messages: messages,
		Stream:   false,
	}

	if spec.Temperature > 0 {
		temp := spec.Temperature
		reqBody.Temperature = &temp
	}
	if spec.MaxOutputTokens > 0 {
		maxTokens := spec.MaxOutputTokens
		reqBody.MaxTokens = &maxTokens
	}

	body, err := json.Marshal(reqBody)
	if err != nil {
		return nil, fmt.Errorf("marshal request: %w", err)
	}

	req, err := http.NewRequestWithContext(ctx, "POST", p.baseURL+"/chat/completions", bytes.NewReader(body))
	if err != nil {
		return nil, fmt.Errorf("create request: %w", err)
	}

	req.Header.Set("Content-Type", "application/json")
	req.Header.Set("Authorization", "Bearer "+p.apiKey)

	resp, err := p.httpClient.Do(req)
	if err != nil {
		return nil, fmt.Errorf("http request: %w", err)
	}
	defer resp.Body.Close()

	if resp.StatusCode != http.StatusOK {
		respBody, _ := io.ReadAll(resp.Body)
		return nil, fmt.Errorf("API error %d: %s", resp.StatusCode, string(respBody))
	}

	var chatResp chatResponse
	if err := json.NewDecoder(resp.Body).Decode(&chatResp); err != nil {
		return nil, fmt.Errorf("decode response: %w", err)
	}

	if len(chatResp.Choices) == 0 {
		return nil, fmt.Errorf("no choices in response")
	}

	return &domain.PromptRunResultDTO{
		RunId:    uuid.New().String(),
		Provider: spec.Provider,
		Model:    spec.Model,
		Text:     chatResp.Choices[0].Message.Content,
		Usage: domain.UsageDTO{
			InputTokens:  chatResp.Usage.PromptTokens,
			OutputTokens: chatResp.Usage.CompletionTokens,
			TotalTokens:  chatResp.Usage.TotalTokens,
		},
		CreatedAt: domain.NowISO(),
	}, nil
}

// Stream ejecuta un prompt con streaming
func (p *OpenAIProvider) Stream(ctx context.Context, spec domain.PromptRunSpecDTO, onToken func(string)) error {
	messages := make([]chatMessage, 0, len(spec.Messages))
	for _, m := range spec.Messages {
		messages = append(messages, chatMessage{
			Role:    string(m.Role),
			Content: m.Content,
		})
	}

	reqBody := chatRequest{
		Model:    spec.Model,
		Messages: messages,
		Stream:   true,
	}

	if spec.Temperature > 0 {
		temp := spec.Temperature
		reqBody.Temperature = &temp
	}
	if spec.MaxOutputTokens > 0 {
		maxTokens := spec.MaxOutputTokens
		reqBody.MaxTokens = &maxTokens
	}

	body, err := json.Marshal(reqBody)
	if err != nil {
		return fmt.Errorf("marshal request: %w", err)
	}

	req, err := http.NewRequestWithContext(ctx, "POST", p.baseURL+"/chat/completions", bytes.NewReader(body))
	if err != nil {
		return fmt.Errorf("create request: %w", err)
	}

	req.Header.Set("Content-Type", "application/json")
	req.Header.Set("Authorization", "Bearer "+p.apiKey)
	req.Header.Set("Accept", "text/event-stream")

	resp, err := p.httpClient.Do(req)
	if err != nil {
		return fmt.Errorf("http request: %w", err)
	}
	defer resp.Body.Close()

	if resp.StatusCode != http.StatusOK {
		respBody, _ := io.ReadAll(resp.Body)
		return fmt.Errorf("API error %d: %s", resp.StatusCode, string(respBody))
	}

	scanner := bufio.NewScanner(resp.Body)
	for scanner.Scan() {
		line := scanner.Text()
		if !strings.HasPrefix(line, "data: ") {
			continue
		}

		data := strings.TrimPrefix(line, "data: ")
		if data == "[DONE]" {
			break
		}

		var chunk streamChunk
		if err := json.Unmarshal([]byte(data), &chunk); err != nil {
			continue // Skip malformed chunks
		}

		if len(chunk.Choices) > 0 && chunk.Choices[0].Delta.Content != "" {
			onToken(chunk.Choices[0].Delta.Content)
		}
	}

	return scanner.Err()
}

</file>

<file path="contexts/StoreContext.tsx">
import React, { createContext, useContext, useReducer, ReactNode } from 'react';
import { AppState, TreeSnapshot, ContextStrategy, FileSummary, ChatMessage, AIConfig } from '../types';
import { DEFAULT_AI_CONFIG } from '../constants';

const initialState: AppState = {
  projectPath: null,
  tree: null,
  isLoading: false,
  strategy: 'precise',
  aiConfig: DEFAULT_AI_CONFIG,
  selectedFileIds: new Set(),
  expandedFolderIds: new Set(['root', 'src']),
  searchQuery: '',
  summaries: {},
  processingFiles: new Set(),
  activeTab: 'tree',

  // Conversation (unificado)
  isChatOpen: false,
  chatMessages: [],
  isChatGenerating: false,

  // Intent-First UX
  intent: '',
  budgetTokens: 50000,

  // Job tracking
  currentJobId: null,
};

type Action =
  | { type: 'SET_PROJECT'; payload: { path: string; tree: TreeSnapshot } }
  | { type: 'SET_STRATEGY'; payload: ContextStrategy }
  | { type: 'TOGGLE_SELECT'; payload: string }
  | { type: 'SELECT_BATCH'; payload: { ids: string[]; selected: boolean } }
  | { type: 'TOGGLE_EXPAND'; payload: string }
  | { type: 'CACHE_SUMMARY'; payload: FileSummary }
  | { type: 'SET_PROCESSING'; payload: { id: string; processing: boolean } }
  | { type: 'CLEAR_SELECTION' }
  | { type: 'SET_SEARCH'; payload: string }
  | { type: 'TOGGLE_CHAT'; payload: boolean }
  | { type: 'ADD_CHAT_MESSAGE'; payload: ChatMessage }
  | { type: 'UPDATE_LAST_CHAT_MESSAGE'; payload: string }
  | { type: 'SET_CHAT_GENERATING'; payload: boolean }
  | { type: 'CLEAR_CHAT' }
  | { type: 'UPDATE_AI_CONFIG'; payload: Partial<AIConfig> }
  | { type: 'SET_TAB'; payload: string }
  | { type: 'SET_INTENT'; payload: string }
  | { type: 'SET_BUDGET'; payload: number }
  | { type: 'SET_CURRENT_JOB'; payload: string | null }
  | { type: 'SET_LOADING'; payload: boolean };

function reducer(state: AppState, action: Action): AppState {
  switch (action.type) {
    case 'SET_PROJECT':
      return {
        ...state,
        projectPath: action.payload.path,
        tree: action.payload.tree,
        selectedFileIds: new Set(),
        isLoading: false,
      };
    case 'SET_STRATEGY':
      return { ...state, strategy: action.payload };
    case 'TOGGLE_SELECT': {
      const newSet = new Set(state.selectedFileIds);
      if (newSet.has(action.payload)) newSet.delete(action.payload);
      else newSet.add(action.payload);
      return { ...state, selectedFileIds: newSet };
    }
    case 'SELECT_BATCH': {
      const newSet = new Set(state.selectedFileIds);
      action.payload.ids.forEach(id => {
        if (action.payload.selected) newSet.add(id);
        else newSet.delete(id);
      });
      return { ...state, selectedFileIds: newSet };
    }
    case 'TOGGLE_EXPAND': {
      const newSet = new Set(state.expandedFolderIds);
      if (newSet.has(action.payload)) newSet.delete(action.payload);
      else newSet.add(action.payload);
      return { ...state, expandedFolderIds: newSet };
    }
    case 'CACHE_SUMMARY':
      return { ...state, summaries: { ...state.summaries, [action.payload.fileId]: action.payload } };
    case 'SET_PROCESSING': {
      const newSet = new Set(state.processingFiles);
      if (action.payload.processing) newSet.add(action.payload.id);
      else newSet.delete(action.payload.id);
      return { ...state, processingFiles: newSet };
    }
    case 'CLEAR_SELECTION':
      return { ...state, selectedFileIds: new Set() };
    case 'SET_SEARCH':
      return { ...state, searchQuery: action.payload };
    case 'TOGGLE_CHAT':
      return { ...state, isChatOpen: action.payload };
    case 'ADD_CHAT_MESSAGE':
      return { ...state, chatMessages: [...state.chatMessages, action.payload] };
    case 'UPDATE_LAST_CHAT_MESSAGE': {
      const msgs = [...state.chatMessages];
      if (msgs.length === 0) return state;
      msgs[msgs.length - 1] = { ...msgs[msgs.length - 1], content: msgs[msgs.length - 1].content + action.payload };
      return { ...state, chatMessages: msgs };
    }
    case 'SET_CHAT_GENERATING':
      return { ...state, isChatGenerating: action.payload };
    case 'CLEAR_CHAT':
      return { ...state, chatMessages: [] };
    case 'UPDATE_AI_CONFIG':
      return { ...state, aiConfig: { ...state.aiConfig, ...action.payload } };
    case 'SET_TAB':
      return { ...state, activeTab: action.payload };
    case 'SET_INTENT':
      return { ...state, intent: action.payload };
    case 'SET_BUDGET':
      return { ...state, budgetTokens: action.payload };
    case 'SET_CURRENT_JOB':
      return { ...state, currentJobId: action.payload };
    case 'SET_LOADING':
      return { ...state, isLoading: action.payload };
    default:
      return state;
  }
}

const StoreContext = createContext<{ state: AppState; dispatch: React.Dispatch<Action> } | undefined>(undefined);

export const StoreProvider: React.FC<{ children: ReactNode }> = ({ children }) => {
  const [state, dispatch] = useReducer(reducer, initialState);
  return <StoreContext.Provider value={{ state, dispatch }}>{children}</StoreContext.Provider>;
};

export const useStore = () => {
  const context = useContext(StoreContext);
  if (!context) throw new Error('useStore must be used within StoreProvider');
  return context;
};

</file>

<file path="docs/chat-improvements.md">
# Mejoras al Sistema de Chat

## Componentes Mejorados

### 1. ChatMessage.tsx

**Mejoras Implementadas:**

- **Burbujas diferenciadas por rol:**
  - Usuario: Borde azul sutil (`bg-blue-500/10 border-blue-500/30`) alineado a la derecha
  - Asistente: Fondo gris (`bg-surface/50 border-border`) alineado a la izquierda

- **Avatares con conos:**
  - Usuario: cono `User` con fondo azul
  - Asistente: cono `Bot` con fondo gris

- **Renderizado Markdown:**
  - Integracin de `react-markdown` con `remark-gfm`
  - Soporte para bloques de cdigo con sintaxis
  - Estilos personalizados usando Tailwind Typography
  - Cdigo inline con fondo sutil

- **Timestamps localizados:**
  - Formato espaol Mxico (`es-MX`)
  - Muestra "usuario" o "asistente"

- **Cursor de streaming:**
  - Cursor parpadeante cuando `isStreaming={true}`
  - Solo visible en mensajes del asistente
  - Animacin CSS `blink` personalizada

- **Animacin de entrada:**
  - Animacin `fadeIn` de 0.3s para cada mensaje
  - Efecto de deslizamiento vertical sutil

### 2. ChatOverlay.tsx

**Mejoras Implementadas:**

- **Panel deslizable:**
  - Animacin `slideInRight` desde la derecha
  - Ancho mximo de 600px
  - Backdrop blur con overlay semi-transparente

- **Header mejorado:**
  - Ttulo en espaol: "Chat con IA"
  - Contador de archivos en contexto
  - Botn de limpiar chat con confirmacin
  - Botn de cerrar (X)

- **Sistema de streaming Wails:**
  - Escucha de eventos `chat:token` para tokens individuales
  - Escucha de eventos `chat:complete` para finalizacin
  - Escucha de eventos `chat:error` para manejo de errores
  - Limpieza automtica de suscripciones en unmount

- **Indicador de "escribiendo...":**
  - Muestra "escribiendo..." con cono de bot
  - Animacin `animate-pulse`
  - Solo visible cuando `isChatGenerating === true`

- **Input mejorado:**
  - Textarea con altura fija de 80px
  - Placeholder en espaol con instrucciones
  - Shift+Enter para nueva lnea
  - Enter para enviar
  - Deshabilitado durante generacin

- **Control de generacin:**
  - Botn cambia entre enviar () y detener ()
  - Color rojo pulsante cuando est generando
  - Botn deshabilitado sin texto

- **Auto-scroll inteligente:**
  - Scroll automtico al recibir mensajes
  - Scroll automtico durante streaming
  - Mantiene posicin si usuario scrollea arriba

- **Estado de streaming local:**
  - Estado `isStreaming` independiente para control del cursor
  - Se actualiza con eventos Wails
  - Se resetea al completar o detener

### 3. Animaciones CSS (index.css)

**Animaciones Agregadas:**

```css
@keyframes slideInRight {
  from {
    transform: translateX(100%);
    opacity: 0;
  }
  to {
    transform: translateX(0);
    opacity: 1;
  }
}

@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(8px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes blink {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.3; }
}
```

## Integracin con Backend Wails

### Eventos Esperados

El frontend escucha los siguientes eventos desde el backend Go:

1. **`chat:token`** - Token individual de streaming
   ```typescript
   EventsOn('chat:token', (token: string) => {
     // Agregar token al ltimo mensaje
   })
   ```

2. **`chat:complete`** - Streaming completado
   ```typescript
   EventsOn('chat:complete', () => {
     // Detener animaciones de streaming
   })
   ```

3. **`chat:error`** - Error durante streaming
   ```typescript
   EventsOn('chat:error', (error: string) => {
     // Mostrar mensaje de error
   })
   ```

### Ejemplo de Implementacin Backend (Go)

```go
// En tu StreamChat handler
func (a *App) StreamChat(config AIConfig, fileIds []string, messages []ChatMessage) {
    // ... setup streaming ...

    for token := range tokenChannel {
        // Emitir cada token
        runtime.EventsEmit(a.ctx, "chat:token", token)
    }

    // Al completar
    runtime.EventsEmit(a.ctx, "chat:complete")

    // En caso de error
    runtime.EventsEmit(a.ctx, "chat:error", errorMessage)
}
```

## Dependencias Instaladas

```json
{
  "dependencies": {
    "react-markdown": "^9.x",
    "remark-gfm": "^4.x"
  },
  "devDependencies": {
    "@tailwindcss/typography": "^0.5.x"
  }
}
```

## UI/UX en Espaol (es-MX)

- Todos los textos de interfaz en espaol
- Timestamps con formato mexicano
- Mensajes de confirmacin en espaol
- Placeholders descriptivos

## Caractersticas Adicionales

1. **Responsive:**
   - Mximo 600px de ancho en desktop
   - Burbujas con max-width adaptativo

2. **Accesibilidad:**
   - Ttulos en botones
   - Estados disabled claros
   - Contraste adecuado

3. **Performance:**
   - Auto-scroll optimizado
   - Limpieza de event listeners
   - Animaciones con `will-change`

4. **Manejo de Errores:**
   - Mensajes de error visibles en el chat
   - Indicador visual con `isError` flag

## Rutas de Archivos

- **ChatMessage:** `/components/features/Chat/ChatMessage.tsx`
- **ChatOverlay:** `/components/features/Chat/ChatOverlay.tsx`
- **CSS:** `/index.css`
- **Types:** `/types.ts`
- **Store:** `/contexts/StoreContext.tsx`

</file>

<file path="services/ModelService.ts">
import { ProviderType, Model } from '../types';

interface ModelServiceResponse {
    models: Model[];
    error?: string;
}

export class ModelService {

    static async fetchModels(
        provider: ProviderType,
        apiKey: string,
        baseUrl?: string
    ): Promise<ModelServiceResponse> {
        try {
            switch (provider) {
                case 'openai':
                case 'deepseek': // DeepSeek is OpenAI compatible
                    return await this.fetchOpenAICompatiblemodels(apiKey, baseUrl || 'https://api.openai.com/v1');
                case 'gemini':
                    return await this.fetchGeminiModels(apiKey);
                case 'local':
                    return await this.fetchOllamaModels(baseUrl || 'http://localhost:11434/v1');
                case 'anthropic':
                    // Anthropic doesn't support client-side model listing easily due to CORS/Auth scope often
                    // We return empty to trigger manual entry or use fallback
                    return { models: [] };
                default:
                    return { models: [] };
            }
        } catch (error) {
            console.error(`Error fetching models for ${provider}:`, error);
            return { models: [], error: (error as Error).message };
        }
    }

    private static async fetchOpenAICompatiblemodels(apiKey: string, baseUrl: string): Promise<ModelServiceResponse> {
        // Handle trailing slash
        const url = `${baseUrl.replace(/\/$/, '')}/models`;

        const response = await fetch(url, {
            headers: {
                'Authorization': `Bearer ${apiKey}`,
                'Content-Type': 'application/json'
            }
        });

        if (!response.ok) {
            throw new Error(`Failed to fetch models: ${response.statusText}`);
        }

        const data = await response.json();

        // Normalize OpenAI/DeepSeek response
        // typically: { data: [ { id: "gpt-4", ... }, ... ] }
        const models: Model[] = (data.data || []).map((m: any) => ({
            id: m.id,
            name: m.id, // OpenAI doesn't give pretty names in API
            maxTokens: 128000, // Default assumption, hard to know from API
            canThink: m.id.includes('o1') || m.id.includes('reasoner') || m.id.includes('thinking'),
            canSearch: false
        })).sort((a: Model, b: Model) => b.id.localeCompare(a.id)); // Newer usually top

        return { models };
    }

    private static async fetchGeminiModels(apiKey: string): Promise<ModelServiceResponse> {
        const url = `https://generativelanguage.googleapis.com/v1beta/models?key=${apiKey}`;

        const response = await fetch(url);

        if (!response.ok) {
            throw new Error(`Failed to fetch Gemini models: ${response.statusText}`);
        }

        const data = await response.json();
        // Response: { models: [ { name: "models/gemini-1.5-flash", displayName: "Gemini 1.5 Flash", inputTokenLimit: 123 } ] }

        const models: Model[] = (data.models || [])
            .filter((m: any) => m.name.includes('gemini')) // Filter pertinent ones
            .map((m: any) => {
                const id = m.name.replace('models/', '');
                return {
                    id: id,
                    name: m.displayName || id,
                    maxTokens: m.inputTokenLimit || 1000000,
                    canThink: id.includes('thinking'),
                    canSearch: true
                };
            })
            .sort((a: Model, b: Model) => b.id.localeCompare(a.id));

        return { models };
    }

    private static async fetchOllamaModels(baseUrl: string): Promise<ModelServiceResponse> {
        // Ollama API: GET /api/tags
        // Note: The OpenAI compatible endpoint for Ollama (/v1/models) also works and might be easier since it returns OpenAI format.
        // Let's try the native tags endpoint first as it's cleaner for Ollama specifically, 
        // OR just reuse fetchOpenAICompatiblemodels if the user points to v1.

        // If baseUrl ends in /v1, treat as OpenAI compatible
        if (baseUrl.endsWith('/v1')) {
            return this.fetchOpenAICompatiblemodels('ollama', baseUrl);
        }

        // Native Ollama API
        const url = `${baseUrl.replace(/\/$/, '')}/api/tags`;
        const response = await fetch(url);

        if (!response.ok) {
            // Fallback to /v1/models if /api/tags fails, maybe they mapped it differently
            return this.fetchOpenAICompatiblemodels('ollama', `${baseUrl}/v1`);
        }

        const data = await response.json();
        // { models: [ { name: "llama3:latest", ... } ] }

        const models: Model[] = (data.models || []).map((m: any) => ({
            id: m.name,
            name: m.name,
            maxTokens: 32000, // Ollama default guess
            canThink: m.name.includes('deepseek-r1'),
        }));

        return { models };
    }
}

</file>

<file path="types/domain.ts">
// Domain types aligned with Go DTOs (shotgun/internal/domain)

export type ISOTime = string; // RFC3339

export type ErrorDTO = {
  code: string;
  message: string;
  details?: unknown;
};

// ---------------------------------------------------------------------------
// Project / Tree
// ---------------------------------------------------------------------------

export type ProjectDTO = {
  rootPath: string;
  repoName: string;
  openedAt: ISOTime;
  scanHash?: string;
  platform?: string;
};

export type TreeStatsDTO = {
  files: number;
  dirs: number;
  totalBytes: number;
  ignored: number;
  maxDepth: number;
};

export type FileKind = "dir" | "file" | "link";

export type FileNodeDTO = {
  id: string;
  relPath: string;
  name: string;
  kind: FileKind;
  ext?: string;
  sizeBytes?: number;
  modTime?: ISOTime;
  hash?: string;
  ignored: boolean;
  reason?: string;
  children?: FileNodeDTO[];
};

export type TreeSnapshotDTO = {
  project: ProjectDTO;
  root: FileNodeDTO;
  stats: TreeStatsDTO;
  createdAt: ISOTime;
  version: number;
};

// ---------------------------------------------------------------------------
// Selection / Ignore
// ---------------------------------------------------------------------------

export type SelectionDTO = {
  selectedIds: string[];
  expandedIds?: string[];
  focusId?: string;
};

export type IgnoreOptionsDTO = {
  useGitignore: boolean;
  useCustomIgnore: boolean;
  customIgnoreText?: string;
};

// ---------------------------------------------------------------------------
// Jobs
// ---------------------------------------------------------------------------

export type JobKind = "scan" | "buildContext" | "runPrompt";
export type JobState = "queued" | "running" | "succeeded" | "failed" | "cancelled";

export type JobProgressDTO = {
  jobId: string;
  kind: JobKind;
  state: JobState;
  stage?: string;
  current?: number;
  total?: number;
  message?: string;
  startedAt?: ISOTime;
  updatedAt?: ISOTime;
  error?: ErrorDTO;
};

// ---------------------------------------------------------------------------
// Context
// ---------------------------------------------------------------------------

export type ContextBuildOptionsDTO = {
  maxBytes: number;
  maxFileBytes: number;
  includeBinary: boolean;
  format: "xmlish" | "markdown";
};

export type ContextFileDTO = {
  id: string;
  relPath: string;
  sizeBytes?: number;
  truncated: boolean;
  content: string;
};

export type ContextPayloadDTO = {
  snapshotId?: string;
  options: ContextBuildOptionsDTO;
  files: ContextFileDTO[];
  totalBytes: number;
  warnings?: string[];
  createdAt: ISOTime;
};

// ---------------------------------------------------------------------------
// LLM / Prompt
// ---------------------------------------------------------------------------

export type ProviderID = "openai" | "gemini" | "openrouter";
export type ChatRole = "system" | "user" | "assistant";

export type ChatMessageDTO = {
  role: ChatRole;
  content: string;
  createdAt?: ISOTime;
};

export type PromptRunSpecDTO = {
  provider: ProviderID;
  model: string;
  temperature?: number;
  maxOutputTokens?: number;
  metadata?: Record<string, string>;
  messages: ChatMessageDTO[];
  context?: ContextPayloadDTO;
};

export type UsageDTO = {
  inputTokens?: number;
  outputTokens?: number;
  totalTokens?: number;
};

export type PromptRunResultDTO = {
  runId: string;
  provider: ProviderID;
  model: string;
  text: string;
  rawCall?: Record<string, unknown>;
  usage?: UsageDTO;
  createdAt: ISOTime;
  error?: ErrorDTO;
};

// ---------------------------------------------------------------------------
// History
// ---------------------------------------------------------------------------

export type HistoryItemDTO = {
  id: string;
  title?: string;
  spec: PromptRunSpecDTO;
  result: PromptRunResultDTO;
  createdAt: ISOTime;
};

// ---------------------------------------------------------------------------
// Helpers para conversion legacy -> DTO
// ---------------------------------------------------------------------------

import type { FileNode, TreeSnapshot } from '../types';

export function fileNodeToDTO(node: FileNode): FileNodeDTO {
  return {
    id: node.id,
    relPath: node.path,
    name: node.name,
    kind: node.isDir ? 'dir' : 'file',
    sizeBytes: node.size,
    modTime: node.modTime,
    ignored: false,
    children: node.children?.map(fileNodeToDTO),
  };
}

export function treeDTOToLegacy(dto: TreeSnapshotDTO): TreeSnapshot {
  const convertNode = (node: FileNodeDTO): FileNode => ({
    id: node.id,
    name: node.name,
    path: node.relPath,
    isDir: node.kind === 'dir',
    size: node.sizeBytes ?? 0,
    modTime: node.modTime ?? new Date().toISOString(),
    children: node.children?.map(convertNode),
  });

  return {
    root: convertNode(dto.root),
    fileCount: dto.stats.files,
    totalSize: dto.stats.totalBytes,
    scannedAt: dto.createdAt,
  };
}

</file>

<file path="docs/MICROINTERACCIONES.md">
# Microinteracciones Elegantes - One Shot

Implementacin completa de microinteracciones sutiles y elegantes para mejorar la experiencia de usuario sin libreras externas.

## Resumen de Cambios

- **5 componentes UI mejorados** con microinteracciones elegantes
- **Transiciones de 150-200ms** para respuesta rpida
- **Animaciones nativas de Tailwind CSS** sin dependencias externas
- **Accesibilidad completa** con soporte para `prefers-reduced-motion`
- **0 libreras agregadas** - solo CSS y Tailwind

---

## Componentes Actualizados

### 1. Button (components/ui/Button.tsx)

**Efectos implementados:**
- **Hover**: `scale(1.02)` con sombra sutil (`shadow-lg shadow-primary/10`)
- **Active**: `scale(0.98)` para feedback tctil
- **Transiciones**: `150ms ease-out` para respuesta rpida
- **Loading state**: Spinner animado integrado con `animate-spin`
- **Iconos**: Transicin suave en transform

**Uso:**
```tsx
<Button variant="primary" isLoading={loading}>
  Enviar
</Button>
```

---

### 2. Input (components/ui/Input.tsx)

**Efectos implementados:**
- **Focus**: Ring azul sutil (`ring-1 ring-primary/30`) sin borde grueso
- **Placeholder**: Transicin de opacidad (50% en focus)
- **Icono**: Cambio de color de `secondary` a `primary` en focus
- **Transiciones**: `200ms` para suavidad

**Uso:**
```tsx
<Input
  placeholder="Escribe aqu..."
  icon={<SearchIcon />}
/>
```

---

### 3. Card (components/ui/Card.tsx)

**Efectos implementados:**
- **Hover**: `scale(1.01)` + cambio de borde y fondo
- **Seleccin**: Checkmark animado con `zoom-in`
- **Props nuevas**: `selectable` y `selected`
- **Transiciones**: `200ms ease-out`

**Uso:**
```tsx
<Card
  selectable
  selected={isSelected}
  onClick={() => setSelected(!isSelected)}
>
  Contenido
</Card>
```

---

### 4. Modal (components/ui/Modal.tsx)

**Efectos implementados:**
- **Entrada**: `fade-in` + `zoom-in-95` + `slide-in-from-bottom-4`
- **Backdrop**: Blur animado con transicin de `300ms`
- **Salida**: Suave con fade-out automtico
- **Duracin**: `200ms` para entrada rpida

**Caractersticas:**
- Backdrop con click para cerrar
- Escape key para cerrar
- Animaciones Tailwind CSS nativas

---

### 5. Toast (components/ui/Toast.tsx)

**Efectos implementados:**
- **Entrada**: `slide-in-from-top-4` con bounce sutil
- **Auto-dismiss**: Configurable (default: 5000ms)
- **Barra de progreso**: Animada con countdown visual
- **Botn cerrar**: `scale(1.1)` en hover, `scale(0.95)` en click
- **Duracin**: `300ms ease-out`

**Uso:**
```tsx
<Toast
  type="success"
  message="operacin exitosa"
  onClose={handleClose}
  duration={5000}
/>
```

**Props:**
- `duration`: Tiempo antes de auto-cerrar (ms)
- Barra de progreso color-coded por tipo

---

## Animaciones Globales (index.css)

### Keyframes personalizados:
- `bounce-in`: Entrada desde arriba con rebote sutil
- `zoom-in`: Escala desde 0.8 a 1.0

### Clases de utilidad:
- `.animate-bounce-in`: Aplicar bounce-in
- `.animate-zoom-in`: Aplicar zoom-in

### Optimizaciones:
- `will-change` para mejor performance
- Reset automtico de `will-change` despus de animacin
- Soporte para `prefers-reduced-motion`

---

## Animaciones Tailwind Existentes Utilizadas

El proyecto usa las siguientes animaciones configuradas en `index.html`:

- `animate-reveal`: Fade + slide desde abajo (800ms expo)
- `animate-fade-in`: Simple fade (400ms ease-out)
- `animate-spin`: Rotacin continua (para loaders)

**Adems se usan las animaciones nativas de Tailwind:**
- `animate-in`: Animacin de entrada genrica
- `fade-in`: Fade simple
- `zoom-in-95`: Zoom desde 95%
- `slide-in-from-top-4`: Deslizar desde arriba 16px
- `slide-in-from-bottom-4`: Deslizar desde abajo 16px

---

## Timing y Duraciones

| Componente | Duracin | Easing | Uso |
|------------|----------|---------|-----|
| Button hover | 150ms | ease-out | Respuesta rpida |
| Button active | 150ms | ease-out | Feedback tctil |
| Input focus | 200ms | ease-out | Transicin suave |
| Card hover | 200ms | ease-out | Seleccin visual |
| Modal entrada | 200ms | ease-out | Aparicin rpida |
| Toast entrada | 300ms | ease-out | Notificacin visible |
| Toast progreso | 75ms | linear | Countdown preciso |

---

## Principios de Diseo

1. **Rapidez**: Transiciones de 150-200ms para respuesta inmediata
2. **Sutileza**: Escalas pequeas (1.01-1.02) para elegancia
3. **Consistencia**: `ease-out` para la mayora de interacciones
4. **Feedback**: Escalas activas (0.98) para confirmacin tctil
5. **Accesibilidad**: Soporte para `prefers-reduced-motion`

---

## Notas Tcnicas

- **No se agregaron libreras externas**: Solo Tailwind CSS y CSS vanilla
- **Performance**: Uso de `will-change` para animaciones suaves
- **Browser support**: Animaciones CSS3 modernas
- **Accesibilidad**: Todas las animaciones respetan `prefers-reduced-motion`

</file>

<file path="index.css">
@import "tailwindcss";

/* 
   ONE-SHOT DESIGN SYSTEM - DARK MODE EMERALD
   Refined for high-fidelity minimalist aesthetic
    */

@theme {
    /* === CORE PALETTE === */
    --color-canvas: #09090b;       /* Deepest Black */
    --color-surface: #121214;      /* Slightly lighter for cards */
    --color-surface-muted: #18181b;
    --color-surface-elevated: #27272a;

    /* === TEXT === */
    --color-ink: #ffffff;          /* Pure White for high contrast */
    --color-ink-muted: #a1a1aa;    /* Neutral 400 */
    --color-ink-subtle: #52525b;   /* Neutral 600 */
    --color-ink-inverted: #09090b;

    /* === BORDERS === */
    --color-stroke: #27272a;       /* Very subtle */
    --color-stroke-subtle: #18181b;
    --color-stroke-emphasis: #3f3f46;
    --color-stroke-glow: rgba(16, 185, 129, 0.4);

    /* === SEMANTIC STATUS === */
    --color-status-ready: #10b981; /* Emerald 500 */
    --color-status-active: #34d399; /* Emerald 400 */
    --color-status-warning: #f59e0b;
    --color-status-error: #ef4444;

    /* === ACCENTS === */
    --color-accent-glow: rgba(16, 185, 129, 0.5);
    
    /* === TYPOGRAPHY === */
    --font-sans: 'Helvetica Neue', Helvetica, Arial, sans-serif;
    --font-mono: 'SF Mono', 'Fira Code', Consolas, monospace;

    --text-micro: 0.625rem;
    --text-body: 0.875rem;
    --text-h2: 1.25rem;
    --text-h1: clamp(1.875rem, 4vw, 2.5rem);
    --text-display: clamp(2.5rem, 6vw, 4.5rem);

    /* === RADIUS === */
    --radius-subtle: 4px;
    --radius-base: 8px;
    --radius-medium: 12px;
    --radius-large: 16px;
    --radius-xl: 24px;
    --radius-pill: 9999px;
    --radius-organic: 40px;

    /* === SHADOWS === */
    --shadow-subtle: 0 1px 2px rgba(0,0,0,0.3);
    --shadow-base: 0 4px 12px rgba(0,0,0,0.5);
    --shadow-elevated: 0 8px 32px rgba(0,0,0,0.6);
    --shadow-glow: 0 0 20px var(--color-accent-glow), 0 0 40px rgba(16, 185, 129, 0.1);
    --shadow-glow-subtle: 0 0 15px rgba(16, 185, 129, 0.2);

    /* === ANIMATIONS === */
    --animate-reveal: reveal 0.7s cubic-bezier(0.16, 1, 0.3, 1) forwards;
    --animate-fade-in: fadeIn 0.5s cubic-bezier(0.16, 1, 0.3, 1) forwards;
    --animate-slide-up: slideUp 0.5s cubic-bezier(0.16, 1, 0.3, 1) forwards;
    --animate-pulse-glow: pulseGlow 2s ease-in-out infinite;

    /* === TIMING === */
    --duration-fast: 150ms;
    --duration-normal: 300ms;
    --duration-slow: 500ms;

    --ease-standard: cubic-bezier(0.4, 0, 0.2, 1);
    --ease-expo: cubic-bezier(0.16, 1, 0.3, 1);

    @keyframes reveal {
        from { opacity: 0; transform: translateY(20px); }
        to { opacity: 1; transform: translateY(0); }
    }

    @keyframes fadeIn {
        from { opacity: 0; }
        to { opacity: 1; }
    }

    @keyframes slideUp {
        from { opacity: 0; transform: translateY(10px); }
        to { opacity: 1; transform: translateY(0); }
    }

    @keyframes pulseGlow {
        0%, 100% { opacity: 1; box-shadow: 0 0 20px var(--color-accent-glow); }
        50% { opacity: 0.7; box-shadow: 0 0 10px var(--color-accent-glow); }
    }
}

/* === BASE STYLES === */
body {
    background-color: var(--color-canvas);
    color: var(--color-ink);
    font-family: var(--font-sans);
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
}

/* === UTILITIES === */
.scrollbar-hidden::-webkit-scrollbar { display: none; }
.scrollbar-hidden { -ms-overflow-style: none; scrollbar-width: none; }

.bg-glass {
    background: linear-gradient(180deg, rgba(255,255,255,0.03) 0%, rgba(255,255,255,0.01) 100%);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
}

.border-glow {
    border-color: var(--color-status-ready);
    box-shadow: var(--shadow-glow-subtle);
}

.card-hoverable {
    transition: all var(--duration-normal) var(--ease-expo);
}
.card-hoverable:hover {
    transform: translateY(-2px);
    border-color: var(--color-stroke-emphasis);
    box-shadow: var(--shadow-elevated);
}

.card-active {
    border-color: var(--color-status-ready);
    box-shadow: var(--shadow-glow-subtle);
    background: linear-gradient(180deg, rgba(16, 185, 129, 0.05) 0%, rgba(16, 185, 129, 0.01) 100%);
}

.text-balance { text-wrap: balance; }

/* Animation Delays */
.delay-100 { animation-delay: 100ms; }
.delay-200 { animation-delay: 200ms; }
.delay-300 { animation-delay: 300ms; }

</file>

<file path="internal/llm/claude_cli.go">
package llm

import (
	"context"
	"fmt"
	"strings"

	claudecode "github.com/yukifoo/claude-code-sdk-go"

	"shotgun/internal/domain"
)

// ClaudeCodeProvider implementa Provider usando Claude Code CLI (SOTA 2025)
// Referencia: github.com/yukifoo/claude-code-sdk-go
type ClaudeCodeProvider struct {
	workDir      string
	systemPrompt string
}

// NewClaudeCodeProvider crea un proveedor Claude Code CLI
func NewClaudeCodeProvider(workDir string) *ClaudeCodeProvider {
	return &ClaudeCodeProvider{
		workDir: workDir,
	}
}

// intPtr helper para crear puntero a int
func intPtr(v int) *int {
	return &v
}

// strPtr helper para crear puntero a string
func strPtr(v string) *string {
	return &v
}

// boolPtr helper para crear puntero a bool
func boolPtr(v bool) *bool {
	return &v
}

// Complete ejecuta un prompt sin streaming usando Claude Code CLI
func (p *ClaudeCodeProvider) Complete(ctx context.Context, spec domain.PromptRunSpecDTO) (*domain.PromptRunResultDTO, error) {
	// Extraer system prompt y construir prompt de usuario
	var systemPrompt string
	var userPrompts []string

	for _, m := range spec.Messages {
		switch m.Role {
		case domain.RoleSystem:
			systemPrompt = m.Content
		case domain.RoleUser:
			userPrompts = append(userPrompts, m.Content)
		case domain.RoleAssistant:
			// Incluir contexto de conversacin previa
			userPrompts = append(userPrompts, fmt.Sprintf("[Respuesta anterior]: %s", m.Content))
		}
	}

	fullPrompt := strings.Join(userPrompts, "\n\n")

	// Opciones para Claude Code CLI (SOTA: todas las opciones son punteros)
	options := &claudecode.Options{
		MaxTurns: intPtr(1),
	}

	// System prompt para guiar el comportamiento
	if systemPrompt != "" {
		options.SystemPrompt = strPtr(systemPrompt)
	}

	// Working directory para contexto del proyecto
	if p.workDir != "" {
		options.Cwd = strPtr(p.workDir)
	}

	// Ejecutar query
	messages, err := claudecode.Query(ctx, fullPrompt, options)
	if err != nil {
		return nil, fmt.Errorf("claude code query: %w", err)
	}

	// Extraer texto de respuesta usando la API de interfaces
	responseText := extractTextFromMessages(messages)

	return &domain.PromptRunResultDTO{
		RunId:     domain.NewUUID(),
		Provider:  spec.Provider,
		Model:     spec.Model,
		Text:      responseText,
		CreatedAt: domain.NowISO(),
	}, nil
}

// Stream ejecuta un prompt con streaming usando Claude Code CLI
func (p *ClaudeCodeProvider) Stream(ctx context.Context, spec domain.PromptRunSpecDTO, onToken func(string)) error {
	// Extraer system prompt y construir prompt de usuario
	var systemPrompt string
	var userPrompts []string

	for _, m := range spec.Messages {
		switch m.Role {
		case domain.RoleSystem:
			systemPrompt = m.Content
		case domain.RoleUser:
			userPrompts = append(userPrompts, m.Content)
		case domain.RoleAssistant:
			userPrompts = append(userPrompts, fmt.Sprintf("[Respuesta anterior]: %s", m.Content))
		}
	}

	fullPrompt := strings.Join(userPrompts, "\n\n")

	// Opciones para Claude Code CLI
	options := &claudecode.Options{
		MaxTurns: intPtr(1),
	}

	if systemPrompt != "" {
		options.SystemPrompt = strPtr(systemPrompt)
	}

	if p.workDir != "" {
		options.Cwd = strPtr(p.workDir)
	}

	// Ejecutar query con streaming via channels
	msgChan, errChan := claudecode.QueryStream(ctx, fullPrompt, options)

	for {
		select {
		case msg, ok := <-msgChan:
			if !ok {
				return nil // Canal cerrado, streaming completado
			}
			// Procesar mensaje usando la API de interfaces
			text := extractTextFromMessage(msg)
			if text != "" {
				onToken(text)
			}
		case err := <-errChan:
			if err != nil {
				return fmt.Errorf("claude code stream: %w", err)
			}
			return nil
		case <-ctx.Done():
			return ctx.Err()
		}
	}
}

// extractTextFromMessages extrae texto de una lista de mensajes
func extractTextFromMessages(messages []claudecode.Message) string {
	var parts []string
	for _, msg := range messages {
		text := extractTextFromMessage(msg)
		if text != "" {
			parts = append(parts, text)
		}
	}
	return strings.Join(parts, "")
}

// extractTextFromMessage extrae texto de un mensaje individual
func extractTextFromMessage(msg claudecode.Message) string {
	// Solo procesar mensajes del asistente
	if msg.Type() != claudecode.MessageTypeAssistant {
		return ""
	}

	var parts []string
	for _, block := range msg.Content() {
		if block.Type() == claudecode.ContentBlockTypeText {
			if textBlock, ok := block.(*claudecode.TextBlock); ok {
				parts = append(parts, textBlock.Text)
			}
		}
	}
	return strings.Join(parts, "")
}

</file>

<file path="internal/llm/gemini_sdk.go">
package llm

import (
	"context"
	"fmt"
	"os"

	"google.golang.org/genai"

	"shotgun/internal/domain"
)

// GeminiSDKProvider implementa Provider usando el SDK oficial de Google
type GeminiSDKProvider struct {
	client *genai.Client
}

// NewGeminiSDKProvider crea un proveedor Gemini usando SDK oficial
// Si apiKey est vaco, usa la variable de entorno GEMINI_API_KEY
func NewGeminiSDKProvider(ctx context.Context, apiKey string) (*GeminiSDKProvider, error) {
	if apiKey == "" {
		apiKey = os.Getenv("GEMINI_API_KEY")
	}

	var client *genai.Client
	var err error

	if apiKey != "" {
		client, err = genai.NewClient(ctx, &genai.ClientConfig{
			APIKey: apiKey,
		})
	} else {
		// Sin API key, intenta autenticacin por defecto (Google Cloud)
		client, err = genai.NewClient(ctx, nil)
	}

	if err != nil {
		return nil, fmt.Errorf("crear cliente gemini: %w", err)
	}

	return &GeminiSDKProvider{
		client: client,
	}, nil
}

// Complete ejecuta un prompt sin streaming
func (p *GeminiSDKProvider) Complete(ctx context.Context, spec domain.PromptRunSpecDTO) (*domain.PromptRunResultDTO, error) {
	// Construir contenido de mensajes
	var contents []*genai.Content
	var systemInstruction string

	for _, m := range spec.Messages {
		if m.Role == domain.RoleSystem {
			systemInstruction = m.Content
		} else {
			role := "user"
			if m.Role == domain.RoleAssistant {
				role = "model"
			}
			contents = append(contents, genai.NewContentFromText(m.Content, genai.Role(role)))
		}
	}

	// Configurar modelo (SOTA: gemini-2.5-flash es el ms reciente)
	model := spec.Model
	if model == "" {
		model = "gemini-2.5-flash"
	}

	// Crear config de generacin
	config := &genai.GenerateContentConfig{}
	if spec.Temperature > 0 {
		config.Temperature = genai.Ptr(float32(spec.Temperature))
	}
	if spec.MaxOutputTokens > 0 {
		config.MaxOutputTokens = int32(spec.MaxOutputTokens)
	}
	if systemInstruction != "" {
		config.SystemInstruction = genai.NewContentFromText(systemInstruction, genai.RoleUser)
	}

	// Ejecutar generacin
	result, err := p.client.Models.GenerateContent(ctx, model, contents, config)
	if err != nil {
		return nil, fmt.Errorf("generar contenido: %w", err)
	}

	// Extraer texto
	text := ""
	if result != nil && len(result.Candidates) > 0 {
		candidate := result.Candidates[0]
		if candidate.Content != nil {
			for _, part := range candidate.Content.Parts {
				if part.Text != "" {
					text += part.Text
				}
			}
		}
	}

	// Extraer uso de tokens
	usage := domain.UsageDTO{}
	if result != nil && result.UsageMetadata != nil {
		usage.InputTokens = int(result.UsageMetadata.PromptTokenCount)
		usage.OutputTokens = int(result.UsageMetadata.CandidatesTokenCount)
		usage.TotalTokens = int(result.UsageMetadata.TotalTokenCount)
	}

	return &domain.PromptRunResultDTO{
		RunId:     domain.NewUUID(),
		Provider:  spec.Provider,
		Model:     model,
		Text:      text,
		Usage:     usage,
		CreatedAt: domain.NowISO(),
	}, nil
}

// Stream ejecuta un prompt con streaming
func (p *GeminiSDKProvider) Stream(ctx context.Context, spec domain.PromptRunSpecDTO, onToken func(string)) error {
	// Construir contenido de mensajes
	var contents []*genai.Content
	var systemInstruction string

	for _, m := range spec.Messages {
		if m.Role == domain.RoleSystem {
			systemInstruction = m.Content
		} else {
			role := "user"
			if m.Role == domain.RoleAssistant {
				role = "model"
			}
			contents = append(contents, genai.NewContentFromText(m.Content, genai.Role(role)))
		}
	}

	// Configurar modelo (SOTA: gemini-2.5-flash es el ms reciente)
	model := spec.Model
	if model == "" {
		model = "gemini-2.5-flash"
	}

	// Crear config de generacin
	config := &genai.GenerateContentConfig{}
	if spec.Temperature > 0 {
		config.Temperature = genai.Ptr(float32(spec.Temperature))
	}
	if spec.MaxOutputTokens > 0 {
		config.MaxOutputTokens = int32(spec.MaxOutputTokens)
	}
	if systemInstruction != "" {
		config.SystemInstruction = genai.NewContentFromText(systemInstruction, genai.RoleUser)
	}

	// Ejecutar streaming (Go 1.23+ iterator pattern)
	for chunk, err := range p.client.Models.GenerateContentStream(ctx, model, contents, config) {
		if err != nil {
			return fmt.Errorf("recibir chunk: %w", err)
		}

		// Extraer texto del chunk
		if chunk != nil && len(chunk.Candidates) > 0 {
			candidate := chunk.Candidates[0]
			if candidate.Content != nil {
				for _, part := range candidate.Content.Parts {
					if part.Text != "" {
						onToken(part.Text)
					}
				}
			}
		}
	}
	return nil
}

</file>

<file path="internal/ignore/engine.go">
package ignore

import (
	"bufio"
	"os"
	"path/filepath"
	"strings"
)

// Engine maneja las reglas de ignore para el scanner
type Engine struct {
	patterns      []pattern
	defaultIgnore []string
}

type pattern struct {
	raw      string
	negation bool
	dirOnly  bool
	glob     string
}

// DefaultIgnorePatterns patrones por defecto que siempre se ignoran
var DefaultIgnorePatterns = []string{
	".git",
	".svn",
	".hg",
	"node_modules",
	"__pycache__",
	".pytest_cache",
	".mypy_cache",
	"venv",
	".venv",
	"env",
	".env",
	"dist",
	"build",
	".next",
	".nuxt",
	"target",
	"vendor",
	".idea",
	".vscode",
	"*.pyc",
	"*.pyo",
	"*.class",
	"*.o",
	"*.a",
	"*.so",
	"*.dylib",
	"*.exe",
	"*.dll",
	".DS_Store",
	"Thumbs.db",
	"*.log",
	"*.tmp",
	"*.temp",
	"*.swp",
	"*.swo",
	"*~",
	"go.sum",
	"package-lock.json",
	"yarn.lock",
	"pnpm-lock.yaml",
	"Cargo.lock",
	"Gemfile.lock",
	"poetry.lock",
}

// New crea un nuevo Engine con patrones por defecto
func New() *Engine {
	return &Engine{
		patterns:      make([]pattern, 0),
		defaultIgnore: DefaultIgnorePatterns,
	}
}

// LoadGitignore carga patrones desde un archivo .gitignore
func (e *Engine) LoadGitignore(rootPath string) error {
	gitignorePath := filepath.Join(rootPath, ".gitignore")

	file, err := os.Open(gitignorePath)
	if err != nil {
		if os.IsNotExist(err) {
			return nil // No es error si no existe
		}
		return err
	}
	defer file.Close()

	scanner := bufio.NewScanner(file)
	for scanner.Scan() {
		line := strings.TrimSpace(scanner.Text())
		if line == "" || strings.HasPrefix(line, "#") {
			continue
		}
		e.AddPattern(line)
	}

	return scanner.Err()
}

// LoadCustomPatterns carga patrones personalizados desde texto
func (e *Engine) LoadCustomPatterns(text string) {
	lines := strings.Split(text, "\n")
	for _, line := range lines {
		line = strings.TrimSpace(line)
		if line == "" || strings.HasPrefix(line, "#") {
			continue
		}
		e.AddPattern(line)
	}
}

// AddPattern agrega un patron al engine
func (e *Engine) AddPattern(raw string) {
	p := pattern{raw: raw}

	// Detectar negacion
	if strings.HasPrefix(raw, "!") {
		p.negation = true
		raw = raw[1:]
	}

	// Detectar si es solo para directorios
	if strings.HasSuffix(raw, "/") {
		p.dirOnly = true
		raw = strings.TrimSuffix(raw, "/")
	}

	p.glob = raw
	e.patterns = append(e.patterns, p)
}

// Match verifica si un path debe ser ignorado
// relPath debe ser relativo al root del proyecto
// isDir indica si el path es un directorio
func (e *Engine) Match(relPath string, isDir bool) (ignored bool, reason string) {
	name := filepath.Base(relPath)

	// Verificar patrones por defecto primero
	for _, defaultPattern := range e.defaultIgnore {
		if matchGlob(defaultPattern, name, relPath) {
			return true, "default"
		}
	}

	// Verificar patrones cargados
	ignored = false
	for _, p := range e.patterns {
		if p.dirOnly && !isDir {
			continue
		}

		matches := matchGlob(p.glob, name, relPath)
		if matches {
			if p.negation {
				ignored = false
				reason = ""
			} else {
				ignored = true
				reason = "gitignore"
			}
		}
	}

	return ignored, reason
}

// matchGlob implementa matching simple de glob patterns
func matchGlob(pattern, name, relPath string) bool {
	// Pattern con path separator - match contra relPath
	if strings.Contains(pattern, "/") {
		pattern = strings.TrimPrefix(pattern, "/")
		return matchSimpleGlob(pattern, relPath)
	}

	// Pattern simple - match contra nombre
	return matchSimpleGlob(pattern, name)
}

// matchSimpleGlob implementa matching basico de * y **
func matchSimpleGlob(pattern, text string) bool {
	// Match exacto
	if pattern == text {
		return true
	}

	// Pattern con **
	if strings.Contains(pattern, "**") {
		parts := strings.Split(pattern, "**")
		if len(parts) == 2 {
			return strings.HasPrefix(text, strings.TrimSuffix(parts[0], "/")) &&
				strings.HasSuffix(text, strings.TrimPrefix(parts[1], "/"))
		}
	}

	// Pattern con * simple
	if strings.Contains(pattern, "*") {
		parts := strings.Split(pattern, "*")
		if len(parts) == 2 {
			return strings.HasPrefix(text, parts[0]) && strings.HasSuffix(text, parts[1])
		}
	}

	return false
}

// IsDefaultIgnored verifica si un nombre esta en la lista de ignore por defecto
func (e *Engine) IsDefaultIgnored(name string) bool {
	for _, pattern := range e.defaultIgnore {
		if matchGlob(pattern, name, name) {
			return true
		}
	}
	return false
}

</file>

<file path="components/OneShot/ActionDock.tsx">
import React, { useState } from 'react';
import { useStore } from '../../contexts/StoreContext';
import { Bridge } from '../../services/bridge';
import { Button } from '../ui/Button';
import { Copy, Terminal, Eye, Check } from 'lucide-react';
import { cn } from '../../utils/cn';
import { useToast } from '../../contexts/ToastContext';
import { copyToClipboard } from '../../utils/clipboard';
import { PreviewModal } from '../features/Preview/PreviewModal';

export const ActionDock: React.FC = () => {
    const { state, dispatch } = useStore();
    const { addToast } = useToast();
    const count = state.selectedFileIds.size;
    const [isCopying, setIsCopying] = useState(false);
    const [isPreviewOpen, setIsPreviewOpen] = useState(false);

    if (count === 0) return null;

    const buildPayload = async () => {
        const files: string[] = Array.from(state.selectedFileIds);
        let payload = "";
        const contents = await Promise.all(files.map(async (id: string) => {
            const summary = state.summaries[id];
            if (state.strategy === 'conceptual' && summary) return summary.content;
            return await Bridge.GetFileContent(id);
        }));
        files.forEach((id, idx) => { payload += `\n// FILE: ${id}\n${contents[idx]}\n`; });
        return payload;
    };

    const handleCopy = async () => {
        setIsCopying(true);
        try {
            const payload = await buildPayload();
            await copyToClipboard(payload);
            addToast('success', `${count} archivos copiados`);
        } catch (e) {
            addToast('error', 'Error al copiar');
        } finally {
            setTimeout(() => setIsCopying(false), 1000);
        }
    };

    return (
        <>
            <div className="absolute bottom-8 left-1/2 -translate-x-1/2 z-50 animate-slide-up">
                <div className="flex items-center gap-2 px-3 py-2 rounded-pill border border-stroke bg-canvas/90 backdrop-medium shadow-float transition-all duration-slow hover:border-stroke-emphasis hover:shadow-prominent">

                    {/* Preview button */}
                    <button
                        onClick={() => setIsPreviewOpen(true)}
                        className="w-10 h-10 rounded-full flex items-center justify-center text-ink-subtle hover:text-ink hover:bg-surface transition-all duration-normal active:scale-95"
                        title="Vista previa"
                        aria-label="Vista previa del payload"
                    >
                        <Eye size={18} strokeWidth={1.5} aria-hidden="true" />
                    </button>

                    <div className="w-px h-5 bg-stroke mx-1" />

                    {/* Copy button */}
                    <Button
                        variant="primary"
                        shape="pill"
                        size="md"
                        onClick={handleCopy}
                        isLoading={isCopying}
                        icon={isCopying ? <Check size={14} /> : <Copy size={14} />}
                        className="min-w-[140px] shadow-base hover:shadow-elevated"
                        aria-label={`Copiar ${count} archivos al portapapeles`}
                    >
                        {isCopying ? 'copiado' : 'copiar contexto'}
                        {!isCopying && (
                            <span className="ml-2 opacity-60 text-micro">{count}</span>
                        )}
                    </Button>

                    <div className="w-px h-5 bg-stroke mx-1" />

                    {/* Chat button */}
                    <button
                        onClick={() => dispatch({ type: 'TOGGLE_CHAT', payload: true })}
                        className="w-10 h-10 rounded-full flex items-center justify-center text-ink-subtle hover:text-ink hover:bg-surface transition-all duration-normal active:scale-95"
                        aria-label="Abrir chat de IA"
                    >
                        <Terminal size={18} strokeWidth={1.5} />
                    </button>
                </div>
            </div>

            <PreviewModal
                isOpen={isPreviewOpen}
                onClose={() => setIsPreviewOpen(false)}
                buildPayload={buildPayload}
            />
        </>
    );
};

</file>

<file path="components/features/Tree/FileExplorer.tsx">
import React, { useMemo } from 'react';
import { useStore } from '../../../contexts/StoreContext';
import { TreeRow } from './TreeRow';
import { Input } from '../../ui/Input';
import { Search } from 'lucide-react';
import { filterTree, getAllFileIds } from '../../../utils/tree-utils';

export const FileExplorer: React.FC = () => {
  const { state, dispatch } = useStore();
  const { tree, searchQuery, selectedFileIds } = state;

  const filteredRoot = useMemo(() => {
    if (!tree) return null;
    return filterTree(tree.root, searchQuery);
  }, [tree, searchQuery]);

  const selectedCount = selectedFileIds.size;

  const handleSmartSelect = (type: 'code' | 'config' | 'all') => {
      if (!tree) return;
      const allIds = getAllFileIds(tree.root);
      let targetIds: string[] = [];

      if (type === 'all') targetIds = allIds;
      if (type === 'code') targetIds = allIds.filter(id => /\.(ts|tsx|js|jsx|go|py|rs)$/.test(id));
      if (type === 'config') targetIds = allIds.filter(id => /\.(json|yaml|yml|toml|xml)$/.test(id));

      dispatch({ type: 'SELECT_BATCH', payload: { ids: targetIds, selected: true }});
  };

  const handleSelectAll = () => {
    if (!tree) return;
    const allIds = getAllFileIds(tree.root);
    dispatch({ type: 'SELECT_BATCH', payload: { ids: allIds, selected: true }});
  };

  const handleDeselectAll = () => {
    dispatch({ type: 'CLEAR_SELECTION' });
  };

  if (!state.projectPath) return null;

  return (
    <div className="flex flex-col h-full bg-transparent">
      <div className="p-6 pb-4 border-b border-light">
        {/* Header con contador */}
        <div className="flex items-center justify-between mb-8">
          <div className="flex items-center gap-3">
            <h2 className="text-[10px] font-mono text-ash uppercase tracking-widest">
              Explorador
            </h2>
            {selectedCount > 0 && (
              <span className="text-[10px] font-mono text-ink bg-smoke/50 px-2 py-0.5 rounded-sm">
                {selectedCount} {selectedCount === 1 ? 'FILE' : 'FILES'}
              </span>
            )}
          </div>

          {/* Botones de seleccin */}
          <div className="flex gap-4">
            <button
              onClick={handleSelectAll}
              className="text-[10px] uppercase tracking-widest text-ash hover:text-ink transition-colors"
              title="Seleccionar todo"
            >
              ALL
            </button>
            {selectedCount > 0 && (
              <button
                onClick={handleDeselectAll}
                className="text-[10px] uppercase tracking-widest text-ash hover:text-ink transition-colors"
                title="Deseleccionar"
              >
                NONE
              </button>
            )}
          </div>
        </div>

        {/* Bsqueda con icono */}
        <div className="relative mb-6">
          <Search className="absolute left-0 top-1/2 -translate-y-1/2 w-3 h-3 text-ash" />
          <input
            placeholder="SEARCH..."
            value={searchQuery}
            onChange={(e) => dispatch({ type: 'SET_SEARCH', payload: e.target.value })}
            className="w-full bg-transparent border-b border-light pb-2 pl-6 text-xs text-ink placeholder:text-smoke/50 focus:outline-none focus:border-ink font-mono uppercase tracking-wide transition-colors"
          />
        </div>

        {/* Filtros rpidos */}
        <div className="flex gap-2 overflow-x-auto no-scrollbar pb-2">
          {['code', 'config', 'all'].map((t) => (
            <button
              key={t}
              onClick={() => handleSmartSelect(t as any)}
              className="text-[10px] uppercase tracking-widest text-ash hover:text-ink border border-light px-3 py-1.5 rounded-full hover:border-ink transition-all whitespace-nowrap"
            >
              {t}
            </button>
          ))}
        </div>
      </div>

      <div className="flex-1 overflow-y-auto custom-scrollbar px-6 pb-20 pt-4">
        {filteredRoot && <TreeRow node={filteredRoot} depth={0} />}
      </div>
    </div>
  );
};
</file>

<file path="components/OneShot/FileCard.tsx">
import React, { useMemo } from 'react';
import { useStore } from '../../contexts/StoreContext';
import { findNodeById } from '../../utils/tree-utils';
import { X, FileCode, FileJson, FileText, File, ArrowRight } from 'lucide-react';
import { formatBytes, estimateTokens } from '../../utils/cn';

interface FileCardProps {
  fileId: string;
}

export const FileCard: React.FC<FileCardProps> = ({ fileId }) => {
  const { state, dispatch } = useStore();

  const node = useMemo(() => {
    if (!state.tree) return null;
    return findNodeById(state.tree.root, fileId);
  }, [state.tree, fileId]);

  const handleRemove = (e: React.MouseEvent) => {
    e.stopPropagation();
    dispatch({ type: 'TOGGLE_SELECT', payload: fileId });
  };

  if (!node) return null;

  const ext = node.name.split('.').pop()?.toLowerCase() || '';
  const tokens = estimateTokens(node.size);

  const getIcon = () => {
    const size = 20;
    const strokeWidth = 1.5;
    if (['ts', 'tsx', 'js', 'jsx', 'go', 'py', 'rs', 'rb', 'php', 'java', 'c', 'cpp', 'h'].includes(ext)) {
      return <FileCode size={size} strokeWidth={strokeWidth} />;
    }
    if (['json', 'yaml', 'yml', 'toml', 'xml', 'env'].includes(ext)) {
      return <FileJson size={size} strokeWidth={strokeWidth} />;
    }
    if (['md', 'txt', 'rst', 'doc'].includes(ext)) {
      return <FileText size={size} strokeWidth={strokeWidth} />;
    }
    return <File size={size} strokeWidth={strokeWidth} />;
  };

  // Obtener nombre corto del path para mostrar contexto
  const pathParts = fileId.split('/');
  const shortPath = pathParts.length > 2
    ? `.../${pathParts.slice(-2, -1)[0]}/`
    : pathParts.length > 1
    ? `${pathParts[0]}/`
    : '';

  return (
    <article className="group relative cursor-pointer">
      {/* Card con border-radius orgnico */}
      <div className="rounded-organic-card border border-stroke bg-surface/50 p-4 transition-all duration-slow hover:border-stroke-emphasis hover:shadow-elevated hover:bg-surface">
        <div className="flex items-start justify-between gap-3">
          {/* Icon + Info */}
          <div className="flex items-center gap-3 min-w-0 flex-1">
            <div className="w-10 h-10 rounded-full bg-canvas flex items-center justify-center shrink-0 text-ink-subtle group-hover:text-ink transition-colors duration-slow">
              {getIcon()}
            </div>
            <div className="flex flex-col min-w-0 flex-1">
              <span className="text-sm font-medium text-ink truncate lowercase tracking-tight">
                {node.name}
              </span>
              <span className="text-micro text-ink-subtle font-mono truncate mt-0.5">
                {shortPath}{formatBytes(node.size, 0)}
              </span>
            </div>
          </div>

          {/* Token badge */}
          <div className="shrink-0 flex items-center gap-2">
            <span className="text-micro text-ink-subtle font-mono bg-canvas px-2 py-0.5 rounded-pill">
              {tokens > 1000 ? `${(tokens / 1000).toFixed(1)}k` : tokens}tk
            </span>

            {/* Remove button - arrow reveal pattern */}
            <button
              onClick={handleRemove}
              className="w-6 h-6 rounded-full border border-stroke flex items-center justify-center opacity-0 group-hover:opacity-100 -translate-x-2 group-hover:translate-x-0 transition-all duration-normal hover:border-status-error hover:text-status-error text-ink-subtle"
              aria-label={`Quitar ${node.name}`}
            >
              <X size={12} />
            </button>
          </div>
        </div>
      </div>
    </article>
  );
};

</file>

<file path="internal/fs/scanner.go">
package fs

import (
	"os"
	"time"

	"shotgun/internal/domain"
	"shotgun/internal/ignore"
)

// Scanner orquesta el escaneo de un proyecto
type Scanner struct {
	walker *Walker
}

// ScannerOption configura el scanner
type ScannerOption func(*Scanner)

// NewScanner crea un nuevo scanner
func NewScanner(opts ...ScannerOption) *Scanner {
	s := &Scanner{
		walker: NewWalker(),
	}
	for _, opt := range opts {
		opt(s)
	}
	return s
}

// WithWalker configura un walker personalizado
func WithWalker(w *Walker) ScannerOption {
	return func(s *Scanner) {
		s.walker = w
	}
}

// ScanOptions opciones para el scan
type ScanOptions struct {
	UseGitignore     bool
	UseCustomIgnore  bool
	CustomIgnoreText string
	MaxDepth         int
	MaxFiles         int
}

// DefaultScanOptions opciones por defecto
func DefaultScanOptions() ScanOptions {
	return ScanOptions{
		UseGitignore:    true,
		UseCustomIgnore: false,
		MaxDepth:        20,
		MaxFiles:        10000,
	}
}

// Scan escanea un proyecto y retorna el snapshot
func (s *Scanner) Scan(rootPath string, opts ScanOptions) (*domain.TreeSnapshot, error) {
	// Verificar que existe
	info, err := os.Stat(rootPath)
	if err != nil {
		return nil, err
	}
	if !info.IsDir() {
		return nil, os.ErrInvalid
	}

	// Configurar ignore engine
	engine := ignore.New()
	if opts.UseGitignore {
		_ = engine.LoadGitignore(rootPath)
	}
	if opts.UseCustomIgnore && opts.CustomIgnoreText != "" {
		engine.LoadCustomPatterns(opts.CustomIgnoreText)
	}

	// Configurar walker
	walker := NewWalker(
		WithIgnoreEngine(engine),
		WithMaxDepth(opts.MaxDepth),
		WithMaxFiles(opts.MaxFiles),
	)

	// Ejecutar walk
	result := walker.Walk(rootPath)
	if result.Err != nil {
		return nil, result.Err
	}

	// Construir snapshot
	project := domain.NewProject(rootPath)
	snapshot := &domain.TreeSnapshot{
		Project:   project,
		Root:      result.Node,
		Stats:     result.Stats,
		CreatedAt: time.Now().UTC(),
		Version:   1,
	}

	return snapshot, nil
}

// ScanAsync escanea de forma asincrona con reporte de progreso
func (s *Scanner) ScanAsync(rootPath string, opts ScanOptions, onProgress func(current int)) (*domain.TreeSnapshot, error) {
	info, err := os.Stat(rootPath)
	if err != nil {
		return nil, err
	}
	if !info.IsDir() {
		return nil, os.ErrInvalid
	}

	engine := ignore.New()
	if opts.UseGitignore {
		_ = engine.LoadGitignore(rootPath)
	}
	if opts.UseCustomIgnore && opts.CustomIgnoreText != "" {
		engine.LoadCustomPatterns(opts.CustomIgnoreText)
	}

	walker := NewWalker(
		WithIgnoreEngine(engine),
		WithMaxDepth(opts.MaxDepth),
		WithMaxFiles(opts.MaxFiles),
	)

	progress := make(chan int, 10)

	// Procesar progreso
	go func() {
		for p := range progress {
			if onProgress != nil {
				onProgress(p)
			}
		}
	}()

	result := walker.WalkAsync(rootPath, progress)
	if result.Err != nil {
		return nil, result.Err
	}

	project := domain.NewProject(rootPath)
	snapshot := &domain.TreeSnapshot{
		Project:   project,
		Root:      result.Node,
		Stats:     result.Stats,
		CreatedAt: time.Now().UTC(),
		Version:   1,
	}

	return snapshot, nil
}

// ReadFileContent lee el contenido de un archivo
func ReadFileContent(rootPath, relPath string, maxBytes int64) (string, bool, error) {
	fullPath := rootPath + "/" + relPath

	info, err := os.Stat(fullPath)
	if err != nil {
		return "", false, err
	}

	truncated := false
	size := info.Size()
	if maxBytes > 0 && size > maxBytes {
		size = maxBytes
		truncated = true
	}

	content, err := os.ReadFile(fullPath)
	if err != nil {
		return "", false, err
	}

	if truncated {
		content = content[:maxBytes]
	}

	return string(content), truncated, nil
}

</file>

<file path="components/features/Chat/ChatMessage.tsx">
import React from 'react';
import ReactMarkdown from 'react-markdown';
import remarkGfm from 'remark-gfm';
import { ChatMessage as IChatMessage } from '../../../types';
import { cn } from '../../../utils/cn';
import { User, Bot } from 'lucide-react';

interface ChatMessageProps {
  message: IChatMessage;
  isStreaming?: boolean;
}

export const ChatMessage: React.FC<ChatMessageProps> = ({ message, isStreaming = false }) => {
  const isUser = message.role === 'user';

  return (
    <div
      className={cn(
        "flex gap-3 animate-fade-in",
        isUser ? "flex-row-reverse" : "flex-row"
      )}
      style={{
        animation: 'fadeIn 0.3s ease-in-out',
      }}
    >
      {/* Avatar */}
      <div className={cn(
        "shrink-0 w-8 h-8 rounded-full flex items-center justify-center border",
        isUser
          ? "bg-blue-500/10 border-blue-500/30"
          : "bg-surface border-border"
      )}>
        {isUser ? (
          <User size={16} className="text-blue-400" />
        ) : (
          <Bot size={16} className="text-secondary" />
        )}
      </div>

      {/* Content Bubble */}
      <div className="flex flex-col gap-1 flex-1 min-w-0">
        {/* Timestamp */}
        <span className="text-[10px] text-secondary font-mono lowercase px-1">
          {isUser ? 'usuario' : 'asistente'} :: {new Date(message.timestamp).toLocaleTimeString('es-MX', {hour: '2-digit', minute:'2-digit'})}
        </span>

        {/* Message Bubble */}
        <div className={cn(
          "rounded-lg px-4 py-3 text-sm leading-relaxed",
          "prose prose-invert prose-sm max-w-none",
          "prose-pre:bg-black/50 prose-pre:border prose-pre:border-border",
          "prose-code:text-accent prose-code:bg-surface/50 prose-code:px-1 prose-code:py-0.5 prose-code:rounded",
          isUser
            ? "bg-blue-500/10 border border-blue-500/30 text-primary ml-auto max-w-[85%]"
            : "bg-surface/50 border border-border text-secondary max-w-[90%]"
        )}>
          {message.content ? (
            <ReactMarkdown
              remarkPlugins={[remarkGfm]}
              components={{
                code: ({ className, children, ...props }) => {
                  const hasLanguage = /language-(\w+)/.test(className || '');
                  const isInline = !hasLanguage && typeof children === 'string' && !children.includes('\n');

                  if (isInline) {
                    return (
                      <code className={className} {...props}>
                        {children}
                      </code>
                    );
                  }

                  return (
                    <pre className={cn("rounded p-2 overflow-x-auto", className)}>
                      <code className={className} {...props}>
                        {children}
                      </code>
                    </pre>
                  );
                },
                p: ({ children }) => <p className="mb-2 last:mb-0">{children}</p>,
              }}
            >
              {message.content}
            </ReactMarkdown>
          ) : (
            <span className="text-secondary/50 italic">...</span>
          )}

          {/* Streaming Cursor */}
          {isStreaming && !isUser && (
            <span
              className="inline-block w-2 h-4 bg-accent ml-1 animate-pulse"
              style={{
                animation: 'blink 1s infinite',
              }}
            />
          )}
        </div>
      </div>
    </div>
  );
};
</file>

<file path="components/ui/Tooltip.tsx">
import React, { useState, useRef, useEffect } from 'react';
import { cn } from '../../utils/cn';

type TooltipPosition = 'top' | 'bottom' | 'left' | 'right' | 'auto';

interface TooltipProps {
  text: string;
  children: React.ReactNode;
  position?: TooltipPosition;
  delay?: number;
  className?: string;
  disabled?: boolean;
}

export const Tooltip: React.FC<TooltipProps> = ({
  text,
  children,
  position = 'top',
  delay = 300,
  className,
  disabled = false
}) => {
  const [visible, setVisible] = useState(false);
  const [actualPosition, setActualPosition] = useState<TooltipPosition>(position);
  const timeoutRef = useRef<NodeJS.Timeout | null>(null);
  const containerRef = useRef<HTMLDivElement>(null);
  const tooltipRef = useRef<HTMLDivElement>(null);

  const handleMouseEnter = () => {
    if (disabled) return;
    timeoutRef.current = setTimeout(() => {
      setVisible(true);
    }, delay);
  };

  const handleMouseLeave = () => {
    if (timeoutRef.current) {
      clearTimeout(timeoutRef.current);
    }
    setVisible(false);
  };

  useEffect(() => {
    return () => {
      if (timeoutRef.current) {
        clearTimeout(timeoutRef.current);
      }
    };
  }, []);

  useEffect(() => {
    if (visible && position === 'auto' && containerRef.current && tooltipRef.current) {
      const containerRect = containerRef.current.getBoundingClientRect();
      const tooltipRect = tooltipRef.current.getBoundingClientRect();
      const viewportHeight = window.innerHeight;
      const viewportWidth = window.innerWidth;

      // Determinar la mejor posicin
      const spaceTop = containerRect.top;
      const spaceBottom = viewportHeight - containerRect.bottom;
      const spaceLeft = containerRect.left;
      const spaceRight = viewportWidth - containerRect.right;

      if (spaceTop > tooltipRect.height + 10) {
        setActualPosition('top');
      } else if (spaceBottom > tooltipRect.height + 10) {
        setActualPosition('bottom');
      } else if (spaceRight > tooltipRect.width + 10) {
        setActualPosition('right');
      } else if (spaceLeft > tooltipRect.width + 10) {
        setActualPosition('left');
      } else {
        setActualPosition('top');
      }
    } else if (position !== 'auto') {
      setActualPosition(position);
    }
  }, [visible, position]);

  const positionClasses = {
    top: "bottom-full left-1/2 -translate-x-1/2 mb-2",
    bottom: "top-full left-1/2 -translate-x-1/2 mt-2",
    left: "right-full top-1/2 -translate-y-1/2 mr-2",
    right: "left-full top-1/2 -translate-y-1/2 ml-2",
    auto: "bottom-full left-1/2 -translate-x-1/2 mb-2"
  };

  return (
    <div
      ref={containerRef}
      className="relative inline-flex items-center"
      onMouseEnter={handleMouseEnter}
      onMouseLeave={handleMouseLeave}
    >
      {children}
      {visible && !disabled && (
        <div
          ref={tooltipRef}
          role="tooltip"
          className={cn(
            "absolute z-50 px-3 py-1.5 whitespace-nowrap",
            "bg-dark-surface border border-stroke-dark text-ink-inverted text-[10px] font-medium tracking-wide",
            "shadow-elevated rounded-base pointer-events-none",
            "animate-fade-in",
            positionClasses[actualPosition],
            className
          )}
        >
          {text}
        </div>
      )}
    </div>
  );
};

</file>

<file path="components/features/Prompt/ModelSelector.tsx">
import React from 'react';
import { useStore } from '../../../contexts/StoreContext';
import { getProviderById, getModelsByProvider } from '../../../constants';
import { Select } from '../../ui/Select';
import { Switch } from '../../ui/Switch';
import { Sparkles, BrainCircuit, Globe } from 'lucide-react';
import { Tooltip } from '../../ui/Tooltip';

export const ModelSelector: React.FC = () => {
  const { state, dispatch } = useStore();
  const { aiConfig } = state;

  const provider = getProviderById(aiConfig.provider);
  const models = getModelsByProvider(aiConfig.provider);
  const currentModel = models.find(m => m.id === aiConfig.model);

  return (
    <div className="flex flex-col sm:flex-row items-center gap-4 p-3 bg-surface/40 border-b border-border backdrop-blur-sm">

      {/* Provider & Model Info */}
      <div className="flex items-center gap-2 min-w-[200px]">
        <div className="bg-primary/10 p-1.5 rounded-md text-primary">
          <span className="text-sm">{provider?.icon || ''}</span>
        </div>
        <Select
          value={aiConfig.model}
          onChange={(e) => {
            const newModel = e.target.value;
            const modelDef = models.find(m => m.id === newModel);
            dispatch({
              type: 'UPDATE_AI_CONFIG',
              payload: {
                model: newModel,
                useThinking: aiConfig.useThinking && modelDef?.canThink ? true : false,
                useGrounding: aiConfig.useGrounding && modelDef?.canSearch ? true : false
              }
            });
          }}
          className="font-medium"
        >
          {models.map(m => (
            <option key={m.id} value={m.id}>{m.name}</option>
          ))}
        </Select>
      </div>

      <div className="h-6 w-px bg-border hidden sm:block" />

      {/* Feature Toggles */}
      <div className="flex items-center gap-4 flex-1">

        {/* Thinking Toggle */}
        <div className={currentModel?.canThink ? 'opacity-100' : 'opacity-40 pointer-events-none'}>
          <Tooltip text="Modo Pensamiento: razonamiento profundo">
            <div className="flex items-center gap-2">
              <BrainCircuit size={16} className={aiConfig.useThinking ? "text-purple-400" : "text-secondary"} />
              <Switch
                checked={aiConfig.useThinking}
                onChange={(v) => dispatch({ type: 'UPDATE_AI_CONFIG', payload: { useThinking: v } })}
                label="COT"
              />
            </div>
          </Tooltip>
        </div>

        {/* Grounding Toggle */}
        <div className={currentModel?.canSearch ? 'opacity-100' : 'opacity-40 pointer-events-none'}>
          <Tooltip text="Web Grounding: bsqueda en tiempo real">
            <div className="flex items-center gap-2">
              <Globe size={16} className={aiConfig.useGrounding ? "text-green-400" : "text-secondary"} />
              <Switch
                checked={aiConfig.useGrounding}
                onChange={(v) => dispatch({ type: 'UPDATE_AI_CONFIG', payload: { useGrounding: v } })}
                label="Web"
              />
            </div>
          </Tooltip>
        </div>

      </div>
    </div>
  );
};

</file>

<file path="components/ui/Button.tsx">
import React from 'react';
import { Loader2 } from 'lucide-react';
import { cn } from '../../utils/cn';

type ButtonVariant = 'primary' | 'secondary' | 'ghost' | 'danger' | 'outline' | 'link';
type ButtonSize = 'sm' | 'md' | 'lg' | 'icon';
type ButtonShape = 'default' | 'pill';

interface ButtonProps extends React.ButtonHTMLAttributes<HTMLButtonElement> {
  variant?: ButtonVariant;
  size?: ButtonSize;
  shape?: ButtonShape;
  isLoading?: boolean;
  icon?: React.ReactNode;
  ariaLabel?: string;
}

const variants: Record<ButtonVariant, string> = {
  primary: cn(
    'bg-ink text-ink-inverted border border-transparent',
    'hover:bg-ink-muted hover:shadow-elevated',
    'active:scale-[0.98]'
  ),
  secondary: cn(
    'bg-surface text-ink border border-stroke',
    'hover:border-stroke-emphasis hover:bg-surface-muted',
    'active:scale-[0.98]'
  ),
  ghost: cn(
    'bg-transparent text-ink-muted',
    'hover:text-ink hover:bg-surface',
    'active:scale-[0.98]'
  ),
  danger: cn(
    'bg-status-error/10 text-status-error border border-status-error/20',
    'hover:bg-status-error/20 hover:border-status-error/30',
    'active:scale-[0.98]'
  ),
  outline: cn(
    'bg-transparent text-ink border border-stroke',
    'hover:border-stroke-emphasis hover:bg-surface-muted',
    'active:scale-[0.98]'
  ),
  link: cn(
    'bg-transparent text-ink border-b border-stroke pb-0.5 rounded-none',
    'hover:border-ink',
    'px-0 py-0'
  ),
};

const sizes: Record<ButtonSize, string> = {
  sm: 'px-3 py-1.5 text-micro',
  md: 'px-5 py-2.5 text-micro uppercase tracking-widest font-medium',
  lg: 'px-8 py-3.5 text-xs uppercase tracking-widest font-semibold',
  icon: 'p-2.5 aspect-square',
};

const shapes: Record<ButtonShape, string> = {
  default: 'rounded-base',
  pill: 'rounded-pill',
};

export const Button: React.FC<ButtonProps> = ({
  children,
  variant = 'primary',
  size = 'md',
  shape = 'default',
  isLoading,
  icon,
  className,
  disabled,
  ariaLabel,
  ...props
}) => {
  const isDisabled = isLoading || disabled;

  return (
    <button
      className={cn(
        'relative inline-flex items-center justify-center',
        'transition-all duration-normal ease-expo-out',
        'focus:outline-none focus-visible:ring-2 focus-visible:ring-ink focus-visible:ring-offset-2 focus-visible:ring-offset-canvas',
        'disabled:opacity-50 disabled:cursor-not-allowed disabled:pointer-events-none',
        'font-mono',
        variants[variant],
        variant !== 'link' && sizes[size],
        variant !== 'link' && shapes[shape],
        className
      )}
      disabled={isDisabled}
      aria-disabled={isDisabled}
      aria-label={ariaLabel || (size === 'icon' && !children ? 'Botn' : undefined)}
      {...props}
    >
      {isLoading ? (
        <Loader2 className="animate-spin h-4 w-4" aria-hidden="true" />
      ) : (
        <>
          {icon && (
            <span className={cn(children ? 'mr-2' : '')} aria-hidden="true">
              {icon}
            </span>
          )}
          {children}
        </>
      )}
    </button>
  );
};

</file>

<file path="docs/RESUMEN_MICROINTERACCIONES.md">
# Resumen Ejecutivo - Microinteracciones Implementadas

## Estado: Completado

Se han agregado microinteracciones elegantes y sutiles a todos los componentes UI solicitados sin agregar libreras externas.

---

## Archivos Modificados

### Componentes UI
1. **/components/ui/Button.tsx**
   - Hover: scale(1.02) + sombra sutil
   - Active: scale(0.98)
   - Transiciones: 150ms ease-out
   - Spinner de loading integrado

2. **/components/ui/Input.tsx**
   - Focus: ring azul sutil (ring-1 ring-primary/30)
   - Placeholder: fade a 50% opacidad en focus
   - Transiciones: 200ms suaves
   - Icono: cambio de color animado

3. **/components/ui/Card.tsx**
   - Hover: scale(1.01) en elementos interactivos
   - Seleccin: checkmark animado con zoom-in
   - Props: selectable + selected
   - Transiciones: 200ms ease-out

4. **/components/ui/Modal.tsx**
   - Entrada: fade + zoom-in-95 + slide-in-from-bottom-4
   - Backdrop: blur animado (300ms)
   - Salida: suave con fade-out
   - Duracin: 200ms

5. **/components/ui/Toast.tsx**
   - Entrada: slide-in-from-top-4 con bounce
   - Auto-dismiss: configurable (default 5000ms)
   - Barra de progreso: countdown visual
   - Botn cerrar: scale(1.1) hover / scale(0.95) active

### Archivos Nuevos
- **/index.css** - Animaciones personalizadas y optimizaciones
- **/MICROINTERACCIONES.md** - Documentacin completa
- **/RESUMEN_MICROINTERACCIONES.md** - Este archivo

---

## Detalles Tcnicos

### Timing y Performance
- Botones: 150ms (respuesta rpida)
- Inputs: 200ms (transicin suave)
- Cards: 200ms (feedback visual)
- Modales: 200ms entrada, 300ms backdrop
- Toasts: 300ms (visibilidad garantizada)

### Escalas Utilizadas
- Hover: 1.01 - 1.02 (sutil)
- Active: 0.98 (feedback tctil)
- Zoom-in: 0.95  1.0 (modales)

### Animaciones Tailwind Usadas
- `animate-in`: Base de entrada
- `fade-in`: Fade simple
- `zoom-in-95`: Zoom desde 95%
- `slide-in-from-top-4`: Deslizar desde arriba
- `slide-in-from-bottom-4`: Deslizar desde abajo
- `animate-spin`: Loaders

### Optimizaciones
- `will-change` para animaciones suaves
- Reset automtico de `will-change` post-animacin
- Soporte `prefers-reduced-motion`
- No se agregaron libreras externas

---

## Build Status

Build exitoso sin errores:
```
 1986 modules transformed
 built in 3.49s
dist/assets/index-3AeAepuk.js   455.35 kB  gzip: 137.06 kB
```

---

## Accesibilidad

Todos los componentes mantienen:
- Navegacin por teclado
- Focus visible
- ARIA labels apropiados
- Roles semnticos
- Soporte para screen readers
- Respeto a `prefers-reduced-motion`

---

## Prximos Pasos Sugeridos

1. **Testing**: Probar las microinteracciones en dispositivos reales
2. **Feedback**: Ajustar duraciones basndose en uso real
3. **Performance**: Monitorear FPS en animaciones
4. **A11y**: Validar con herramientas de accesibilidad

---

## Documentacin

Ver **MICROINTERACCIONES.md** para:
- Uso detallado de cada componente
- Tabla de timings completa
- Principios de diseo aplicados
- Notas tcnicas de implementacin

</file>

<file path="components/Layout/Sidebar.tsx">
import React from 'react';
import { useStore } from '../../contexts/StoreContext';
import { FolderTree, Layers, TerminalSquare, Settings, Command } from 'lucide-react';
import { cn } from '../../utils/cn';

interface NavItemProps {
    active: boolean;
    onClick: () => void;
    icon: React.ReactNode;
    tooltip: string;
}

const NavItem: React.FC<NavItemProps> = ({ active, onClick, icon, tooltip }) => (
    <button
        onClick={onClick}
        className={cn(
            'w-10 h-10 flex items-center justify-center rounded-base transition-all duration-slow ease-expo-out group relative',
            active
                ? 'bg-ink text-ink-inverted'
                : 'text-ink-subtle hover:text-ink hover:bg-surface'
        )}
        title={tooltip}
        aria-label={tooltip}
    >
        {icon}
        {active && (
            <div className="absolute left-0 top-1/2 -translate-y-1/2 w-1 h-1 bg-status-ready rounded-full -ml-2" />
        )}
    </button>
);

export const Sidebar: React.FC<{ onSettings: () => void }> = ({ onSettings }) => {
    const { state, dispatch } = useStore();

    return (
        <aside className="w-16 flex flex-col items-center py-6 border-r border-stroke bg-canvas z-40 h-full shrink-0">
            {/* Logo */}
            <div className="mb-10">
                <div className="w-9 h-9 flex items-center justify-center bg-surface-elevated rounded-base shadow-subtle border border-stroke">
                    <Command size={16} className="text-ink" strokeWidth={1.5} />
                </div>
            </div>

            {/* Navigation */}
            <nav className="flex-1 flex flex-col gap-4 w-full px-3 items-center">
                <NavItem
                    active={state.activeTab === 'tree'}
                    onClick={() => dispatch({ type: 'SET_TAB', payload: 'tree' })}
                    icon={<FolderTree size={18} strokeWidth={1.5} />}
                    tooltip="explorador"
                />
                <NavItem
                    active={state.activeTab === 'context'}
                    onClick={() => dispatch({ type: 'SET_TAB', payload: 'context' })}
                    icon={<Layers size={18} strokeWidth={1.5} />}
                    tooltip="contexto"
                />
                <NavItem
                    active={state.activeTab === 'chat'}
                    onClick={() => dispatch({ type: 'SET_TAB', payload: 'chat' })}
                    icon={<TerminalSquare size={18} strokeWidth={1.5} />}
                    tooltip="chat"
                />
            </nav>

            {/* Settings */}
            <button
                onClick={onSettings}
                className="w-10 h-10 flex items-center justify-center text-ink-subtle hover:text-ink transition-all hover:rotate-90 duration-slow ease-expo-out"
                aria-label="ajustes"
            >
                <Settings size={18} strokeWidth={1.5} />
            </button>
        </aside>
    );
};

</file>

<file path="components/OneShot/StrategySelector.tsx">
import React from 'react';
import { useStore } from '../../contexts/StoreContext';
import { FileCode, Sparkles } from 'lucide-react';
import { cn } from '../../utils/cn';

export const StrategySelector: React.FC = () => {
  const { state, dispatch } = useStore();

  const strategies = [
    {
      id: 'precise' as const,
      label: 'archivos raw',
      desc: 'contexto completo sin procesar',
      icon: <FileCode size={18} strokeWidth={1.5} />
    },
    {
      id: 'conceptual' as const,
      label: 'resumen ia',
      desc: 'resmenes conceptuales (ahorra tokens)',
      icon: <Sparkles size={18} strokeWidth={1.5} />
    }
  ];

  return (
    <div>
      <label className="text-micro text-ink-subtle uppercase tracking-widest block mb-4 font-mono">
        estrategia de contexto
      </label>
      <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
        {strategies.map((s) => {
          const isActive = state.strategy === s.id;
          return (
            <button
              key={s.id}
              onClick={() => dispatch({ type: 'SET_STRATEGY', payload: s.id })}
              className={cn(
                'relative flex items-center gap-4 p-5 rounded-xl border text-left transition-all duration-normal group',
                isActive
                  ? 'bg-ink border-ink text-ink-inverted shadow-elevated'
                  : 'bg-transparent border-stroke text-ink-muted hover:border-stroke-emphasis hover:bg-surface/50'
              )}
            >
              <div className={cn(
                'w-10 h-10 rounded-full flex items-center justify-center shrink-0 transition-all duration-normal',
                isActive
                  ? 'bg-ink-inverted/20 text-ink-inverted'
                  : 'bg-surface text-ink-subtle group-hover:text-ink'
              )}>
                {s.icon}
              </div>
              <div className="flex-1">
                <div className={cn(
                  'text-micro font-semibold uppercase tracking-widest mb-1 transition-colors',
                  isActive ? 'text-ink-inverted' : 'text-ink'
                )}>
                  {s.label}
                </div>
                <div className={cn(
                  'text-xs font-light leading-snug lowercase',
                  isActive ? 'text-ink-inverted/70' : 'text-ink-subtle'
                )}>
                  {s.desc}
                </div>
              </div>

              {isActive && (
                <div className="absolute top-4 right-4 w-2 h-2 rounded-full bg-status-ready shadow-[0_0_8px_rgba(16,185,129,0.5)] animate-pulse" />
              )}
            </button>
          );
        })}
      </div>
    </div>
  );
};

</file>

<file path="components/ui/Modal.tsx">
import React, { useEffect, useRef } from 'react';
import { X } from 'lucide-react';
import { cn } from '../../utils/cn';

interface ModalProps {
  isOpen: boolean;
  onClose: () => void;
  title: string;
  children: React.ReactNode;
}

export const Modal: React.FC<ModalProps> = ({ isOpen, onClose, title, children }) => {
  const modalRef = useRef<HTMLDivElement>(null);
  const previousFocusRef = useRef<HTMLElement | null>(null);
  const titleId = useRef(`modal-title-${Math.random().toString(36).substr(2, 9)}`);

  useEffect(() => {
    const handleEsc = (e: KeyboardEvent) => { if(e.key === 'Escape') onClose(); };
    if(isOpen) {
      previousFocusRef.current = document.activeElement as HTMLElement;
      window.addEventListener('keydown', handleEsc);

      setTimeout(() => {
        const firstFocusable = modalRef.current?.querySelector<HTMLElement>(
          'button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'
        );
        firstFocusable?.focus();
      }, 100);
    }
    return () => {
      window.removeEventListener('keydown', handleEsc);
      if (!isOpen && previousFocusRef.current) {
        previousFocusRef.current.focus();
      }
    };
  }, [isOpen, onClose]);

  if (!isOpen) return null;

  return (
    <div
      className="fixed inset-0 z-[100] flex items-center justify-center p-6 animate-reveal"
      onClick={onClose}
      role="dialog"
      aria-modal="true"
      aria-labelledby={titleId.current}
    >
      <div className="absolute inset-0 bg-dark/60 backdrop-blur-sm transition-all duration-slow" />
      <div
        ref={modalRef}
        className={cn(
            "relative w-full max-w-2xl max-h-[90vh] flex flex-col bg-canvas border border-stroke shadow-prominent rounded-large",
            "animate-slide-up"
        )}
        onClick={(e) => e.stopPropagation()}
      >
        <div className="flex items-center justify-between p-6 border-b border-stroke">
          <h3 id={titleId.current} className="text-lg font-medium tracking-tight lowercase text-ink">{title}</h3>
          <button
            onClick={onClose}
            className="text-ink-subtle hover:text-ink transition-colors duration-normal focus:outline-none focus-visible:ring-2 focus-visible:ring-ink focus-visible:ring-offset-2 focus-visible:ring-offset-canvas rounded-base p-1"
            aria-label="cerrar modal"
          >
            <X size={20} strokeWidth={1.5} aria-hidden="true" />
          </button>
        </div>
        <div className="p-6 overflow-y-auto custom-scrollbar">
          {children}
        </div>
      </div>
    </div>
  );
};

</file>

<file path="internal/jobs/manager.go">
package jobs

import (
	"context"
	"sync"
	"time"

	"github.com/google/uuid"

	"shotgun/internal/domain"
)

// Manager gestiona trabajos asincronicos
type Manager struct {
	mu   sync.RWMutex
	jobs map[string]*domain.Job
}

// NewManager crea un nuevo manager de jobs
func NewManager() *Manager {
	return &Manager{
		jobs: make(map[string]*domain.Job),
	}
}

// CreateJob crea un nuevo job
func (m *Manager) CreateJob(kind domain.JobKind) (*domain.Job, context.Context) {
	ctx, cancel := context.WithCancel(context.Background())

	job := &domain.Job{
		ID:        uuid.New().String(),
		Kind:      kind,
		State:     domain.JobStateQueued,
		StartedAt: time.Now().UTC(),
		UpdatedAt: time.Now().UTC(),
		Cancel:    cancel,
	}

	m.mu.Lock()
	m.jobs[job.ID] = job
	m.mu.Unlock()

	return job, ctx
}

// GetJob obtiene un job por ID
func (m *Manager) GetJob(id string) *domain.Job {
	m.mu.RLock()
	defer m.mu.RUnlock()
	return m.jobs[id]
}

// UpdateJob actualiza el estado de un job
func (m *Manager) UpdateJob(id string, state domain.JobState, stage string, current, total int64, msg string) {
	m.mu.Lock()
	defer m.mu.Unlock()

	job, ok := m.jobs[id]
	if !ok {
		return
	}

	job.State = state
	job.Stage = stage
	job.Current = current
	job.Total = total
	job.Message = msg
	job.UpdatedAt = time.Now().UTC()
}

// CompleteJob marca un job como completado
func (m *Manager) CompleteJob(id string, err error) {
	m.mu.Lock()
	defer m.mu.Unlock()

	job, ok := m.jobs[id]
	if !ok {
		return
	}

	if err != nil {
		job.State = domain.JobStateFailed
		job.Error = err
	} else {
		job.State = domain.JobStateSucceeded
	}
	job.UpdatedAt = time.Now().UTC()
}

// CancelJob cancela un job
func (m *Manager) CancelJob(id string) bool {
	m.mu.Lock()
	defer m.mu.Unlock()

	job, ok := m.jobs[id]
	if !ok {
		return false
	}

	if job.State == domain.JobStateRunning || job.State == domain.JobStateQueued {
		job.Cancel()
		job.State = domain.JobStateCancelled
		job.UpdatedAt = time.Now().UTC()
		return true
	}

	return false
}

// CleanupOldJobs elimina jobs antiguos
func (m *Manager) CleanupOldJobs(maxAge time.Duration) {
	m.mu.Lock()
	defer m.mu.Unlock()

	cutoff := time.Now().Add(-maxAge)
	for id, job := range m.jobs {
		if job.UpdatedAt.Before(cutoff) && job.State != domain.JobStateRunning {
			delete(m.jobs, id)
		}
	}
}

// ListJobs lista todos los jobs activos
func (m *Manager) ListJobs() []*domain.Job {
	m.mu.RLock()
	defer m.mu.RUnlock()

	result := make([]*domain.Job, 0, len(m.jobs))
	for _, job := range m.jobs {
		result = append(result, job)
	}
	return result
}

</file>

<file path="internal/context/builder.go">
package context

import (
	"fmt"
	"time"

	"shotgun/internal/domain"
	"shotgun/internal/fs"
)

// Builder construye payloads de contexto
type Builder struct {
	rootPath string
}

// NewBuilder crea un nuevo builder
func NewBuilder(rootPath string) *Builder {
	return &Builder{
		rootPath: rootPath,
	}
}

// ProjectPath retorna el path raz del proyecto
func (b *Builder) ProjectPath() string {
	return b.rootPath
}

// Build construye el payload de contexto desde una seleccion
func (b *Builder) Build(selection domain.SelectionDTO, opts domain.ContextBuildOptionsDTO) (*domain.ContextPayloadDTO, error) {
	if len(selection.SelectedIds) == 0 {
		return nil, fmt.Errorf("no files selected")
	}

	payload := &domain.ContextPayload{
		Files:      make([]*domain.ContextFile, 0, len(selection.SelectedIds)),
		TotalBytes: 0,
		Warnings:   make([]string, 0),
		CreatedAt:  time.Now().UTC(),
	}

	for _, relPath := range selection.SelectedIds {
		// Leer contenido del archivo
		content, truncated, err := fs.ReadFileContent(b.rootPath, relPath, opts.MaxFileBytes)
		if err != nil {
			payload.Warnings = append(payload.Warnings, fmt.Sprintf("could not read %s: %v", relPath, err))
			continue
		}

		file := &domain.ContextFile{
			RelPath:   relPath,
			SizeBytes: int64(len(content)),
			Content:   content,
			Truncated: truncated,
		}

		// Verificar si excede el presupuesto total
		if opts.MaxBytes > 0 && payload.TotalBytes+file.SizeBytes > opts.MaxBytes {
			payload.Warnings = append(payload.Warnings, fmt.Sprintf("budget exceeded, skipping %s", relPath))
			continue
		}

		payload.Files = append(payload.Files, file)
		payload.TotalBytes += file.SizeBytes
	}

	dto := payload.ToDTO(opts)
	return &dto, nil
}

// FormatPayload formatea el payload segun el formato especificado
func (b *Builder) FormatPayload(payload *domain.ContextPayloadDTO) string {
	if payload.Options.Format == "markdown" {
		return formatMarkdown(payload)
	}
	return formatXMLish(payload)
}

func formatMarkdown(payload *domain.ContextPayloadDTO) string {
	var result string
	for _, file := range payload.Files {
		result += fmt.Sprintf("## %s\n\n```\n%s\n```\n\n", file.RelPath, file.Content)
	}
	return result
}

func formatXMLish(payload *domain.ContextPayloadDTO) string {
	var result string
	for _, file := range payload.Files {
		result += fmt.Sprintf("<file path=\"%s\">\n%s\n</file>\n\n", file.RelPath, file.Content)
	}
	return result
}

</file>

<file path="constants.ts">
import { AIConfig, ProviderConfig, ProviderType } from './types';

// Dynamic Providers Configuration - No hardcoded model lists
export const PROVIDERS: ProviderConfig[] = [
    {
        id: 'gemini',
        name: 'Google Gemini',
        description: 'Native Google AI Studio API',
        requiresApiKey: true,
        icon: '',
        models: [] // Fetched dynamically
    },
    {
        id: 'anthropic',
        name: 'Anthropic Claude',
        description: 'Claude 3.5 & 3.7 Series',
        requiresApiKey: true,
        icon: '',
        baseURL: 'https://api.anthropic.com/v1',
        models: [] // Manual entry or backend proxy usually required, keeping empty to enforce manual/fetch
    },
    {
        id: 'openai',
        name: 'OpenAI',
        description: 'GPT-4o & o1 Series',
        requiresApiKey: true,
        icon: '',
        baseURL: 'https://api.openai.com/v1',
        models: [] // Fetched dynamically
    },
    {
        id: 'deepseek',
        name: 'DeepSeek',
        description: 'Open Reasoning SOTA',
        requiresApiKey: true,
        icon: '',
        baseURL: 'https://api.deepseek.com/v1',
        models: [] // Fetched dynamically
    },
    {
        id: 'local',
        name: 'Local (Ollama)',
        description: 'Llama 3.3, DeepSeek, Qwen',
        requiresApiKey: false,
        icon: '',
        baseURL: 'http://localhost:11434/v1',
        models: [] // Fetched dynamically
    }
];

export const DEFAULT_AI_CONFIG: AIConfig = {
    provider: 'gemini',
    model: '', // No default model, must be selected
    apiKey: '',
    temperature: 0.7,
    systemInstruction: "You are an expert software engineer. Analyze the context provided and generate optimized code or explanations.",
    useThinking: false,
    useGrounding: false,
    isConfigured: false,
};

export const getProviderById = (id: ProviderType): ProviderConfig | undefined => {
    return PROVIDERS.find(p => p.id === id);
};

export const getModelsByProvider = (providerId: ProviderType) => {
    const provider = getProviderById(providerId);
    return provider?.models || [];
};

export const IGNORE_PATTERNS = [
    'node_modules',
    '.git',
    'dist',
    'build',
    '.DS_Store',
    'package-lock.json',
    'yarn.lock',
    '.next',
    '.vercel',
    '__pycache__',
    '.pytest_cache',
    'venv',
    '.env',
    '.env.local',
    '.wails',
    'go.sum',
];

</file>

<file path="components/OneShot/PayloadStats.tsx">
import React from 'react';
import { useStore } from '../../contexts/StoreContext';
import { Zap } from 'lucide-react';
import { formatBytes, cn } from '../../utils/cn';

export const PayloadStats: React.FC = () => {
  const { state } = useStore();
  const files = Array.from(state.selectedFileIds);
  
  const rawSize = files.length * 5000;
  const compressedSize = state.strategy === 'conceptual' ? rawSize * 0.3 : rawSize;
  const savings = rawSize - compressedSize;
  const percentage = Math.round((savings / rawSize) * 100) || 0;

  if (files.length === 0) return null;

  return (
    <div className="bg-gradient-to-br from-gray-900 to-gray-950 rounded-xl p-5 border border-white/5 shadow-2xl mb-6 relative overflow-hidden">
        {/* Glow effect */}
        <div className="absolute top-0 right-0 w-32 h-32 bg-accent-500/5 blur-3xl rounded-full -translate-y-1/2 translate-x-1/2" />

        <div className="flex justify-between items-end mb-3 relative z-10">
            <div>
                <span className="text-[10px] font-bold text-gray-500 uppercase tracking-widest">Total Weight</span>
                <div className="text-2xl font-mono text-white font-bold flex items-baseline gap-2">
                    {formatBytes(compressedSize)}
                    {state.strategy === 'conceptual' && <span className="text-sm text-gray-600 line-through decoration-gray-600">{formatBytes(rawSize)}</span>}
                </div>
            </div>
            {state.strategy === 'conceptual' && (
                <div className="text-right">
                    <span className="flex items-center text-[10px] text-brand-300 font-bold bg-brand-500/10 border border-brand-500/20 px-2 py-1 rounded-full animate-in fade-in">
                        <Zap size={10} className="mr-1 fill-current" />
                        SAVED {percentage}%
                    </span>
                </div>
            )}
        </div>
        
        <div className="h-1.5 w-full bg-gray-800 rounded-full overflow-hidden flex relative z-10">
            <div className={cn("h-full transition-all duration-500", state.strategy === 'conceptual' ? "bg-gray-600 w-[30%]" : "bg-accent-500 w-full")}></div>
            {state.strategy === 'conceptual' && (
                 <div className="bg-brand-500/50 h-full w-[70%] animate-pulse"></div>
            )}
        </div>
    </div>
  );
};
</file>

<file path="components/ui/Toast.tsx">
import React, { useEffect, useState } from 'react';
import { X } from 'lucide-react';
import { cn } from '../../utils/cn';

interface ToastProps {
  type: 'success' | 'error' | 'info';
  message: string;
  onClose: () => void;
  duration?: number;
}

export const Toast: React.FC<ToastProps> = ({ type, message, onClose, duration = 5000 }) => {
  const [progress, setProgress] = useState(100);

  useEffect(() => {
    const startTime = Date.now();
    const interval = setInterval(() => {
      const elapsed = Date.now() - startTime;
      const remaining = Math.max(0, 100 - (elapsed / duration) * 100);
      setProgress(remaining);

      if (remaining === 0) {
        clearInterval(interval);
        onClose();
      }
    }, 16);

    return () => clearInterval(interval);
  }, [duration, onClose]);

  return (
    <div className={cn(
      "relative flex flex-col w-80 overflow-hidden border pointer-events-auto backdrop-blur-md rounded-sm",
      "animate-in slide-in-from-top-4 duration-300 ease-out",
      type === 'success' && "bg-background/90 border-primary/20",
      type === 'error' && "bg-background/90 border-red-500/20",
      type === 'info' && "bg-background/90 border-border"
    )}>
      <div className="flex items-center justify-between p-4">
        <div className="flex items-center gap-3">
          <div className={cn(
            "w-1.5 h-1.5 rounded-full",
            type === 'success' && "bg-green-500",
            type === 'error' && "bg-red-500",
            type === 'info' && "bg-blue-500"
          )} />
          <span className="text-xs font-mono text-primary lowercase">{message}</span>
        </div>
        <button
          onClick={onClose}
          className="text-secondary hover:text-primary transition-colors duration-150 hover:scale-110 active:scale-95"
        >
          <X size={12} />
        </button>
      </div>
      <div className="h-0.5 bg-border/30">
        <div
          className={cn(
            "h-full transition-all duration-75 ease-linear",
            type === 'success' && "bg-green-500",
            type === 'error' && "bg-red-500",
            type === 'info' && "bg-blue-500"
          )}
          style={{ width: `${progress}%` }}
        />
      </div>
    </div>
  );
};
</file>

<file path="components/ui/Tabs.tsx">
import React from 'react';
import { cn } from '../../utils/cn';

interface TabOption {
  value: string;
  label: string;
  icon?: React.ReactNode;
  disabled?: boolean;
}

interface TabsProps {
  value: string;
  onChange: (val: string) => void;
  options: TabOption[];
  className?: string;
}

export const Tabs: React.FC<TabsProps> = ({
  value,
  onChange,
  options,
  className
}) => {
  return (
    <div role="tablist" className={cn(
      "flex p-1 bg-surface rounded-base border border-stroke",
      className
    )}>
      {options.map((opt) => {
        const isActive = value === opt.value;
        const isDisabled = opt.disabled || false;

        return (
          <button
            key={opt.value}
            role="tab"
            aria-selected={isActive}
            aria-controls={`tabpanel-${opt.value}`}
            tabIndex={isActive ? 0 : -1}
            onClick={() => !isDisabled && onChange(opt.value)}
            disabled={isDisabled}
            onKeyDown={(e) => {
              if ((e.key === 'ArrowRight' || e.key === 'ArrowLeft') && !isDisabled) {
                e.preventDefault();
                const currentIndex = options.findIndex(o => o.value === value);
                const nextIndex = e.key === 'ArrowRight'
                  ? (currentIndex + 1) % options.length
                  : (currentIndex - 1 + options.length) % options.length;
                onChange(options[nextIndex].value);
              }
            }}
            className={cn(
              "flex items-center justify-center flex-1 px-3 py-1.5 text-xs font-medium rounded-base",
              "transition-all duration-normal ease-expo-out",
              "focus:outline-none focus-visible:ring-2 focus-visible:ring-ink focus-visible:ring-offset-2 focus-visible:ring-offset-surface",
              isActive && "bg-ink text-ink-inverted shadow-subtle",
              !isActive && !isDisabled && "text-ink-subtle hover:text-ink hover:bg-surface-elevated",
              isDisabled && "opacity-40 cursor-not-allowed"
            )}
          >
            {opt.icon && <span className="mr-2" aria-hidden="true">{opt.icon}</span>}
            {opt.label}
          </button>
        );
      })}
    </div>
  );
};

</file>

<file path="hooks/useKeyboardShortcuts.ts">
import { useEffect, useCallback } from 'react';
import { useStore } from '../contexts/StoreContext';

interface KeyboardShortcutsOptions {
  onGenerate?: () => void;
  onEscape?: () => void;
}

export const useKeyboardShortcuts = (options?: KeyboardShortcutsOptions) => {
    const { dispatch } = useStore();

    const handleGenerate = useCallback(() => {
        if (options?.onGenerate) {
            options.onGenerate();
        }
    }, [options]);

    const handleEscape = useCallback(() => {
        if (options?.onEscape) {
            options.onEscape();
        }
    }, [options]);

    useEffect(() => {
        const handleKeyDown = (e: KeyboardEvent) => {
            // Ignorar eventos cuando estamos escribiendo en un input/textarea
            const target = e.target as HTMLElement;
            const isTyping = target.tagName === 'INPUT' ||
                            target.tagName === 'TEXTAREA' ||
                            target.isContentEditable;

            // Cmd/Ctrl+Enter para generar One-Shot
            if ((e.metaKey || e.ctrlKey) && e.key === 'Enter') {
                e.preventDefault();
                handleGenerate();
                return;
            }

            // Escape para cerrar modales/paneles (solo cuando no estamos escribiendo)
            if (e.key === 'Escape' && !isTyping) {
                handleEscape();
                return;
            }

            // Cmd+K para buscar - focus en input de bsqueda
            if ((e.metaKey || e.ctrlKey) && e.key === 'k') {
                e.preventDefault();
                const searchInput = document.querySelector('[data-search-input]') as HTMLInputElement;
                if (searchInput) {
                    searchInput.focus();
                }
            }

            // Cmd+J para toggle de panel
            if ((e.metaKey || e.ctrlKey) && e.key === 'j') {
                e.preventDefault();
                dispatch({ type: 'TOGGLE_CHAT', payload: true });
            }
        };

        window.addEventListener('keydown', handleKeyDown);
        return () => window.removeEventListener('keydown', handleKeyDown);
    }, [dispatch, handleGenerate, handleEscape]);
};

</file>

<file path="types.ts">
export type ContextStrategy = 'precise' | 'conceptual';

export type ProviderType = 'gemini' | 'anthropic' | 'openai' | 'openrouter' | 'deepseek' | 'local';

export interface ProviderConfig {
  id: ProviderType;
  name: string;
  description: string;
  requiresApiKey: boolean;
  baseURL?: string;
  models: ModelConfig[];
  icon: string;
}

export interface Model {
  id: string;
  name: string;
  description?: string;
  maxTokens: number;
  canThink?: boolean;
  canSearch?: boolean;
}

export type ModelConfig = Model;


export interface AIConfig {
  provider: ProviderType;
  model: string;
  apiKey: string;
  baseURL?: string;
  temperature: number;
  systemInstruction: string;
  useThinking: boolean;
  useGrounding: boolean;
  isConfigured: boolean;
}

export interface PromptRunResult {
  id: string;
  content: string;
  duration: number;
}

export interface FileNode {
  id: string;
  name: string;
  path: string;
  isDir: boolean;
  size: number;
  modTime: string;
  children?: FileNode[];
}

export interface TreeSnapshot {
  root: FileNode;
  fileCount: number;
  totalSize: number;
  scannedAt: string;
}

export interface FileSummary {
  fileId: string;
  originalSize: number;
  summarySize: number;
  content: string;
  isReady: boolean;
}

export interface ChatMessage {
  id: string;
  role: 'user' | 'assistant';
  content: string;
  timestamp: number;
  isError?: boolean;
}

// UI State
export interface AppState {
  projectPath: string | null;
  tree: TreeSnapshot | null;
  isLoading: boolean;

  // Core Logic
  strategy: ContextStrategy;
  aiConfig: AIConfig;

  // Selection
  selectedFileIds: Set<string>;
  expandedFolderIds: Set<string>;

  // Intelligent Cache
  summaries: Record<string, FileSummary>;
  processingFiles: Set<string>;

  searchQuery: string;

  // View State
  activeTab: string;

  // Conversation (unificado)
  isChatOpen: boolean;
  chatMessages: ChatMessage[];
  isChatGenerating: boolean;

  // Intent-First UX
  intent: string;
  budgetTokens: number;

  // Job tracking
  currentJobId: string | null;
}

export interface ToastMessage {
  id: string;
  type: 'success' | 'error' | 'info';
  message: string;
}
</file>

<file path="components/features/Tree/FileIcon.tsx">
import React from 'react';
import { Folder, FolderOpen, FileCode, FileJson, FileType, FileImage, File } from 'lucide-react';

export const FileIcon: React.FC<{ isDir: boolean, expanded: boolean, name: string }> = ({ isDir, expanded, name }) => {
  if (isDir) {
    return expanded
        ? <FolderOpen size={16} className="text-brand-400 fill-brand-400/20" />
        : <Folder size={16} className="text-gray-500 group-hover:text-brand-400/70 transition-colors" />;
  }

  const ext = name.split('.').pop()?.toLowerCase();

  switch (ext) {
      // TypeScript & JavaScript
      case 'ts':
          return <FileCode size={16} className="text-blue-400" />;
      case 'tsx':
          return <FileCode size={16} className="text-blue-300" />;
      case 'js':
          return <FileCode size={16} className="text-yellow-400" />;
      case 'jsx':
          return <FileCode size={16} className="text-yellow-300" />;

      // Go
      case 'go':
          return <FileCode size={16} className="text-cyan-400" />;

      // Config files
      case 'json':
          return <FileJson size={16} className="text-yellow-500" />;
      case 'yml':
      case 'yaml':
          return <FileJson size={16} className="text-purple-400" />;
      case 'toml':
          return <FileJson size={16} className="text-orange-400" />;

      // Styles
      case 'css':
      case 'scss':
      case 'sass':
          return <FileType size={16} className="text-pink-400" />;

      // Images
      case 'png':
      case 'jpg':
      case 'jpeg':
      case 'gif':
      case 'webp':
          return <FileImage size={16} className="text-purple-400" />;
      case 'svg':
          return <FileImage size={16} className="text-orange-400" />;

      // Markdown
      case 'md':
      case 'mdx':
          return <FileType size={16} className="text-blue-300" />;

      // Python
      case 'py':
          return <FileCode size={16} className="text-green-400" />;

      // Rust
      case 'rs':
          return <FileCode size={16} className="text-orange-500" />;

      default:
          return <File size={16} className="text-gray-500" />;
  }
};
</file>

<file path="go.mod">
module shotgun

go 1.24

toolchain go1.24.3

require (
	github.com/google/uuid v1.6.0
	github.com/wailsapp/wails/v2 v2.11.0
	github.com/yukifoo/claude-code-sdk-go v0.0.0-20250618211252-be3af0d0e1b6
	google.golang.org/genai v1.39.0
)

require (
	cloud.google.com/go v0.116.0 // indirect
	cloud.google.com/go/auth v0.9.3 // indirect
	cloud.google.com/go/compute/metadata v0.5.0 // indirect
	github.com/bep/debounce v1.2.1 // indirect
	github.com/go-ole/go-ole v1.3.0 // indirect
	github.com/godbus/dbus/v5 v5.1.0 // indirect
	github.com/golang/groupcache v0.0.0-20210331224755-41bb18bfe9da // indirect
	github.com/google/go-cmp v0.6.0 // indirect
	github.com/google/s2a-go v0.1.8 // indirect
	github.com/googleapis/enterprise-certificate-proxy v0.3.4 // indirect
	github.com/gorilla/websocket v1.5.3 // indirect
	github.com/jchv/go-winloader v0.0.0-20210711035445-715c2860da7e // indirect
	github.com/labstack/echo/v4 v4.13.3 // indirect
	github.com/labstack/gommon v0.4.2 // indirect
	github.com/leaanthony/go-ansi-parser v1.6.1 // indirect
	github.com/leaanthony/gosod v1.0.4 // indirect
	github.com/leaanthony/slicer v1.6.0 // indirect
	github.com/leaanthony/u v1.1.1 // indirect
	github.com/mattn/go-colorable v0.1.13 // indirect
	github.com/mattn/go-isatty v0.0.20 // indirect
	github.com/pkg/browser v0.0.0-20240102092130-5ac0b6a4141c // indirect
	github.com/pkg/errors v0.9.1 // indirect
	github.com/rivo/uniseg v0.4.7 // indirect
	github.com/samber/lo v1.49.1 // indirect
	github.com/tkrajina/go-reflector v0.5.8 // indirect
	github.com/valyala/bytebufferpool v1.0.0 // indirect
	github.com/valyala/fasttemplate v1.2.2 // indirect
	github.com/wailsapp/go-webview2 v1.0.22 // indirect
	github.com/wailsapp/mimetype v1.4.1 // indirect
	go.opencensus.io v0.24.0 // indirect
	golang.org/x/crypto v0.36.0 // indirect
	golang.org/x/net v0.38.0 // indirect
	golang.org/x/sys v0.31.0 // indirect
	golang.org/x/text v0.23.0 // indirect
	google.golang.org/genproto/googleapis/rpc v0.0.0-20240903143218-8af14fe29dc1 // indirect
	google.golang.org/grpc v1.66.2 // indirect
	google.golang.org/protobuf v1.34.2 // indirect
)

</file>

<file path="components/ui/Card.tsx">
import React from 'react';
import { Check } from 'lucide-react';
import { cn } from '../../utils/cn';

type CardVariant = 'default' | 'organic' | 'elevated' | 'ghost';

interface CardProps extends React.HTMLAttributes<HTMLDivElement> {
  children: React.ReactNode;
  className?: string;
  onClick?: () => void;
  hoverable?: boolean;
  focusable?: boolean;
  selectable?: boolean;
  selected?: boolean;
  variant?: CardVariant;
}

const variants: Record<CardVariant, string> = {
  default: 'bg-surface border border-stroke rounded-medium',
  organic: 'bg-surface border border-stroke rounded-organic-card',
  elevated: 'bg-surface-elevated border border-stroke rounded-large shadow-base',
  ghost: 'bg-transparent border border-stroke-subtle rounded-medium',
};

export const Card: React.FC<CardProps> = ({
  children,
  className,
  onClick,
  hoverable,
  focusable = false,
  selectable = false,
  selected = false,
  variant = 'default',
  ...props
}) => {
  const isInteractive = onClick !== undefined || hoverable;

  return (
    <div
      onClick={onClick}
      tabIndex={focusable || isInteractive ? 0 : undefined}
      role={onClick ? 'button' : undefined}
      className={cn(
        'relative p-6 transition-all duration-normal ease-expo-out',
        variants[variant],
        isInteractive && [
          'cursor-pointer',
          'hover:border-stroke-emphasis hover:shadow-elevated hover:scale-[1.01]',
          'active:scale-[0.98]',
        ],
        focusable && [
          'focus:outline-none',
          'focus-visible:ring-2 focus-visible:ring-ink focus-visible:ring-offset-2 focus-visible:ring-offset-canvas',
        ],
        selectable && selected && 'border-ink bg-surface-muted',
        className
      )}
      {...props}
    >
      {selectable && selected && (
        <div className="absolute top-3 right-3 w-5 h-5 rounded-full bg-ink flex items-center justify-center animate-fade-in">
          <Check className="w-3 h-3 text-ink-inverted" strokeWidth={3} />
        </div>
      )}
      {children}
    </div>
  );
};

</file>

<file path="README.md">
# One-Shot

**Context Builder for Large Language Models.**

One-Shot is a developer tool designed to streamline the process of creating context payloads for LLMs. Instead of manually copying and pasting files across your codebase, One-Shot allows you to visualize your project structure, select relevant files, and generate a structured, optimized prompt in seconds.

## Features

- **Visual File Explorer**: Navigate your project tree intuitively.
- **Selective Context**: Pick only the files that matter for your current task.
- **Token Budgeting**: Monitor your token usage in real-time against model limits.
- **Multi-Provider Support**: Compatible with OpenAI, Anthropic, Google Gemini, and local models.
- **Privacy First**: Your code stays local. API keys are stored securely on your machine.

## Installation

### Prerequisites

- [Go](https://go.dev/) 1.21+
- [Node.js](https://nodejs.org/) 20+
- [Wails](https://wails.io/) v2

### Build from Source

1. **Clone the repository**
   ```bash
   git clone https://github.com/obeskay/one-shot.git
   cd one-shot
   ```

2. **Install frontend dependencies**
   ```bash
   npm install
   ```

3. **Run in development mode**
   ```bash
   wails dev
   ```

4. **Build for production**
   ```bash
   wails build
   ```
   The compiled binary will be available in the `build/bin` directory.

## Usage

1. Open One-Shot.
2. Select your target project directory.
3. Browse the file tree and select the files relevant to your task.
4. (Optional) Enter your prompt or intent in the dashboard.
5. Click **Generate One-Shot** to copy the formatted context to your clipboard.

## Tech Stack

Built with performance and native experience in mind:

- **Backend**: Go (via Wails)
- **Frontend**: React 19, TypeScript
- **Styling**: Tailwind CSS v4

## Contributing

Contributions are welcome. Please ensure your code follows the project's structure and includes relevant tests.

## License

Distributed under the MIT License. See `LICENSE` for more information.

</file>

<file path="components/Layout/Navbar.tsx">
import React from 'react';
import { useStore } from '../../contexts/StoreContext';
import { Bridge } from '../../services/bridge';
import { FolderOpen } from 'lucide-react';

export const Navbar: React.FC = () => {
    const { state, dispatch } = useStore();

    const handleOpen = async () => {
        const path = await Bridge.SelectProject();
        if (path) {
            const tree = await Bridge.ScanProject(path);
            dispatch({ type: 'SET_PROJECT', payload: { path, tree } });
        }
    };

    return (
        <nav className="h-14 flex items-center justify-between px-6 md:px-8 bg-transparent shrink-0 border-b border-stroke">
            {/* Project Title / Path */}
            <div className="flex items-center gap-4 min-w-0">
                <div className="flex flex-col">
                    <span className="text-micro uppercase tracking-widest text-ink-subtle font-mono">
                        espacio actual
                    </span>
                    <h1
                        className="text-sm font-medium text-ink truncate max-w-[300px] md:max-w-md font-mono lowercase"
                        title={state.projectPath || ''}
                    >
                        {state.projectPath ? state.projectPath.split('/').pop() : 'sin proyecto'}
                    </h1>
                </div>
            </div>

            {/* Actions */}
            <button
                onClick={handleOpen}
                className="group flex items-center gap-2 px-4 py-2 rounded-pill border border-stroke hover:border-stroke-emphasis hover:bg-surface transition-all duration-normal"
            >
                <FolderOpen size={14} className="text-ink-subtle group-hover:text-ink transition-colors duration-normal" />
                <span className="text-micro uppercase tracking-widest text-ink-subtle group-hover:text-ink font-mono">
                    cambiar
                </span>
            </button>
        </nav>
    );
};

</file>

<file path="components/features/Preview/PreviewModal.tsx">
import React, { useEffect, useState } from 'react';
import { Modal } from '../../ui/Modal';
import { Button } from '../../ui/Button';
import { useToast } from '../../../contexts/ToastContext';
import { copyToClipboard } from '../../../utils/clipboard';

interface PreviewModalProps {
    isOpen: boolean;
    onClose: () => void;
    buildPayload: () => Promise<string>;
}

export const PreviewModal: React.FC<PreviewModalProps> = ({ isOpen, onClose, buildPayload }) => {
    const [content, setContent] = useState('');
    const [loading, setLoading] = useState(false);
    const { addToast } = useToast();

    useEffect(() => {
        if (isOpen) {
            setLoading(true);
            buildPayload().then(text => {
                setContent(text);
                setLoading(false);
            });
        }
    }, [isOpen]);

    const handleCopy = async () => {
        await copyToClipboard(content);
        addToast('success', 'Copied');
        onClose();
    };

    return (
        <Modal isOpen={isOpen} onClose={onClose} title="Payload Preview">
            <div className="flex flex-col h-[60vh]">
                {loading ? (
                    <div className="flex-1 flex items-center justify-center text-secondary font-mono text-xs">
                        processing...
                    </div>
                ) : (
                    <textarea 
                        className="flex-1 bg-surface/30 border border-border p-4 font-mono text-[10px] text-secondary resize-none outline-none focus:border-secondary transition-colors rounded-sm leading-relaxed"
                        value={content}
                        readOnly
                    />
                )}
                <div className="mt-6 flex justify-end">
                    <Button onClick={handleCopy} variant="primary">
                        Confirm Copy
                    </Button>
                </div>
            </div>
        </Modal>
    );
};
</file>

<file path="components/Layout/AppLayout.tsx">
import React from 'react';
import { Navbar } from './Navbar';
import { Sidebar } from './Sidebar';
import { FileExplorer } from '../features/Tree/FileExplorer';
import { Dashboard } from '../OneShot/Dashboard';
import { ChatOverlay } from '../features/Chat/ChatOverlay';
import { useStore } from '../../contexts/StoreContext';
import { SettingsModal } from '../features/Settings/SettingsModal';
import { PromptView } from '../features/Prompt/PromptView';
import { ContextPanel } from '../features/Context/ContextPanel';

export const AppLayout: React.FC = () => {
    const { state } = useStore();
    const [isSettingsOpen, setSettingsOpen] = React.useState(false);

    const renderMainContent = () => {
        switch (state.activeTab) {
            case 'context': return <ContextPanel />;
            case 'chat': return <PromptView />;
            case 'tree':
            default: return <Dashboard />;
        }
    };

    return (
        <div className="flex h-screen bg-canvas text-ink font-sans selection:bg-ink selection:text-canvas overflow-hidden antialiased">

            <Sidebar onSettings={() => setSettingsOpen(true)} />

            {state.projectPath && (
                <aside className="w-80 border-r border-smoke hidden md:flex flex-col shrink-0 transition-all duration-700 ease-expo bg-canvas/30">
                    <FileExplorer />
                </aside>
            )}

            <main className="flex-1 flex flex-col min-w-0 relative h-full overflow-hidden bg-canvas">
                <Navbar />
                <div className="flex-1 overflow-hidden relative transition-opacity duration-700 ease-expo">
                    {renderMainContent()}
                    <ChatOverlay />
                </div>
            </main>

            <SettingsModal isOpen={isSettingsOpen} onClose={() => setSettingsOpen(false)} />
        </div>
    );
};
</file>

<file path="services/event-validators.ts">
// Type guards y validadores para eventos Wails
import type { JobProgressDTO } from '../types/domain';

/**
 * Valida que un dato sea un string
 */
export function isString(data: unknown): data is string {
  return typeof data === 'string';
}

/**
 * Valida que un dato sea un JobProgressDTO
 */
export function isJobProgressDTO(data: unknown): data is JobProgressDTO {
  if (!data || typeof data !== 'object') return false;

  const job = data as Partial<JobProgressDTO>;

  return (
    typeof job.jobId === 'string' &&
    typeof job.kind === 'string' &&
    typeof job.state === 'string' &&
    (job.stage === undefined || typeof job.stage === 'string') &&
    (job.current === undefined || typeof job.current === 'number') &&
    (job.total === undefined || typeof job.total === 'number') &&
    (job.message === undefined || typeof job.message === 'string')
  );
}

/**
 * Valida datos de error
 */
export interface ChatErrorEvent {
  message: string;
  jobId?: string;
}

export function isChatErrorEvent(data: unknown): data is ChatErrorEvent {
  if (!data || typeof data !== 'object') return false;
  const err = data as Partial<ChatErrorEvent>;
  return typeof err.message === 'string';
}

/**
 * Valida evento de completado
 */
export interface ChatCompleteEvent {
  jobId: string;
}

export function isChatCompleteEvent(data: unknown): data is ChatCompleteEvent {
  if (!data || typeof data !== 'object') return false;
  const evt = data as Partial<ChatCompleteEvent>;
  return typeof evt.jobId === 'string';
}

/**
 * Helper para logs de validacion fallida
 */
export function logInvalidEvent(eventName: string, data: unknown): void {
  console.error(`[EventValidator] Evento "${eventName}" con datos invalidos:`, {
    type: typeof data,
    value: data,
  });
}

</file>

<file path="components/ui/Switch.tsx">
import React from 'react';
import { cn } from '../../utils/cn';

interface SwitchProps {
  checked: boolean;
  onChange: (checked: boolean) => void;
  label?: string;
  disabled?: boolean;
  className?: string;
}

export const Switch: React.FC<SwitchProps> = ({
  checked,
  onChange,
  label,
  disabled = false,
  className
}) => {
  return (
    <label className={cn(
      "flex items-center gap-3 group",
      disabled ? "cursor-not-allowed opacity-40" : "cursor-pointer",
      className
    )}>
      <div className="relative">
        <input
          type="checkbox"
          className="sr-only"
          checked={checked}
          disabled={disabled}
          onChange={(e) => !disabled && onChange(e.target.checked)}
        />
        <div className={cn(
          "w-9 h-5 rounded-full transition-all duration-normal ease-expo-out border",
          disabled
            ? "border-stroke bg-transparent"
            : checked
              ? "bg-ink border-ink"
              : "bg-transparent border-stroke group-hover:border-stroke-emphasis"
        )}></div>
        <div className={cn(
          "absolute left-0.5 top-0.5 w-4 h-4 rounded-full transition-all duration-normal ease-expo-out",
          disabled
            ? "bg-ink-muted"
            : checked
              ? "transform translate-x-4 bg-ink-inverted"
              : "bg-ink-subtle"
        )}></div>
      </div>
      {label && (
        <span className={cn(
          "text-xs font-medium lowercase transition-colors duration-normal",
          disabled
            ? "text-ink-muted"
            : "text-ink-subtle group-hover:text-ink"
        )}>
          {label}
        </span>
      )}
    </label>
  );
};

</file>

<file path="contexts/ToastContext.tsx">
import React, { createContext, useContext, useState, useCallback } from 'react';
import { ToastMessage } from '../types';
import { Toast } from '../components/ui/Toast';

interface ToastContextType {
  addToast: (type: ToastMessage['type'], message: string) => void;
}

const ToastContext = createContext<ToastContextType | undefined>(undefined);

export const ToastProvider: React.FC<{ children: React.ReactNode }> = ({ children }) => {
  const [toasts, setToasts] = useState<ToastMessage[]>([]);

  const addToast = useCallback((type: ToastMessage['type'], message: string) => {
    const id = Math.random().toString(36).substr(2, 9);
    setToasts((prev) => [...prev, { id, type, message }]);
    setTimeout(() => {
      setToasts((prev) => prev.filter((t) => t.id !== id));
    }, 3000);
  }, []);

  const removeToast = (id: string) => {
    setToasts((prev) => prev.filter((t) => t.id !== id));
  };

  return (
    <ToastContext.Provider value={{ addToast }}>
      {children}
      <div className="fixed bottom-4 right-4 z-50 flex flex-col gap-2 pointer-events-none">
        {toasts.map((toast) => (
          <Toast key={toast.id} {...toast} onClose={() => removeToast(toast.id)} />
        ))}
      </div>
    </ToastContext.Provider>
  );
};

export const useToast = () => {
  const context = useContext(ToastContext);
  if (!context) throw new Error("useToast must be used within ToastProvider");
  return context;
};

</file>

<file path="components/ui/Select.tsx">
import React from 'react';
import { cn } from '../../utils/cn';
import { ChevronDown } from 'lucide-react';

interface SelectProps extends React.SelectHTMLAttributes<HTMLSelectElement> {
  containerClassName?: string;
}

export const Select: React.FC<SelectProps> = ({
  className,
  containerClassName,
  children,
  disabled,
  ...props
}) => {
  return (
    <div className={cn("relative", containerClassName)}>
      <select
        className={cn(
          "appearance-none w-full bg-transparent border-b text-ink py-2 pr-8 text-xs font-mono uppercase",
          "transition-all duration-normal cursor-pointer rounded-none",
          "focus:outline-none focus-visible:border-ink focus-visible:ring-2 focus-visible:ring-ink focus-visible:ring-offset-2 focus-visible:ring-offset-canvas",
          "disabled:opacity-40 disabled:cursor-not-allowed disabled:pointer-events-none",
          disabled
            ? "border-stroke"
            : "border-stroke hover:border-stroke-emphasis",
          className
        )}
        disabled={disabled}
        aria-expanded="false"
        {...props}
      >
        {children}
      </select>
      <div className={cn(
        "absolute inset-y-0 right-0 flex items-center pointer-events-none transition-colors duration-normal",
        disabled ? "text-ink-muted" : "text-ink-subtle"
      )} aria-hidden="true">
        <ChevronDown size={12} />
      </div>
    </div>
  );
};

</file>

<file path="internal/llm/service.go">
package llm

import (
	"context"
	"fmt"

	"shotgun/internal/domain"
)

// Provider interfaz para proveedores de LLM
type Provider interface {
	Complete(ctx context.Context, spec domain.PromptRunSpecDTO) (*domain.PromptRunResultDTO, error)
	Stream(ctx context.Context, spec domain.PromptRunSpecDTO, onToken func(string)) error
}

// Service orquesta llamadas a LLM
type Service struct {
	providers map[domain.ProviderID]Provider
}

// NewService crea un nuevo servicio LLM
func NewService() *Service {
	return &Service{
		providers: make(map[domain.ProviderID]Provider),
	}
}

// RegisterProvider registra un proveedor
func (s *Service) RegisterProvider(id domain.ProviderID, provider Provider) {
	s.providers[id] = provider
}

// Complete ejecuta un prompt y retorna el resultado
func (s *Service) Complete(ctx context.Context, spec domain.PromptRunSpecDTO) (*domain.PromptRunResultDTO, error) {
	provider, ok := s.providers[spec.Provider]
	if !ok {
		return nil, fmt.Errorf("provider not registered: %s", spec.Provider)
	}
	return provider.Complete(ctx, spec)
}

// Stream ejecuta un prompt con streaming
func (s *Service) Stream(ctx context.Context, spec domain.PromptRunSpecDTO, onToken func(string)) error {
	provider, ok := s.providers[spec.Provider]
	if !ok {
		return fmt.Errorf("provider not registered: %s", spec.Provider)
	}
	return provider.Stream(ctx, spec, onToken)
}

</file>

<file path="components/ui/Badge.tsx">
import React from 'react';
import { cn } from '../../utils/cn';

interface BadgeProps {
  children: React.ReactNode;
  variant?: 'default' | 'outline' | 'brand' | 'accent' | 'danger';
  className?: string;
  hoverable?: boolean;
}

export const Badge: React.FC<BadgeProps> = ({
  children,
  variant = 'default',
  className,
  hoverable = false
}) => {
  const variants = {
    default: "bg-surface text-ink-subtle border-stroke",
    outline: "bg-transparent text-ink-subtle border-stroke",
    brand: "bg-ink text-ink-inverted border-transparent",
    accent: "bg-status-active/10 text-status-active border-status-active/20",
    danger: "bg-status-error/10 text-status-error border-status-error/20"
  };

  const hoverVariants = {
    default: "hover:bg-surface-elevated hover:border-stroke-emphasis",
    outline: "hover:bg-surface hover:border-stroke-emphasis",
    brand: "hover:bg-ink/90",
    accent: "hover:bg-status-active/20 hover:border-status-active/30",
    danger: "hover:bg-status-error/20 hover:border-status-error/30"
  };

  return (
    <span className={cn(
      "inline-flex items-center px-2 py-0.5 text-[10px] font-mono lowercase tracking-wide border rounded-full",
      "transition-all duration-200 ease-out",
      variants[variant],
      hoverable && hoverVariants[variant],
      className
    )}>
      {children}
    </span>
  );
};

</file>

<file path="utils/tree-utils.ts">
import { FileNode } from '../types';

export function getAllFileIds(node: FileNode): string[] {
    let ids: string[] = [];
    if (!node.isDir) {
        ids.push(node.id);
    }
    if (node.children) {
        node.children.forEach(child => {
            ids = ids.concat(getAllFileIds(child));
        });
    }
    return ids;
}

export function findNodeById(node: FileNode, id: string): FileNode | null {
  if (node.id === id) return node;
  if (node.children) {
    for (const child of node.children) {
      const found = findNodeById(child, id);
      if (found) return found;
    }
  }
  return null;
}

export function filterTree(node: FileNode, query: string): FileNode | null {
    if (!query) return node;
    
    const nameMatches = node.name.toLowerCase().includes(query.toLowerCase());
    
    if (!node.isDir && nameMatches) return node;

    if (node.isDir) {
        const filteredChildren = node.children
            ?.map(child => filterTree(child, query))
            .filter((child): child is FileNode => child !== null);
            
        if (filteredChildren && filteredChildren.length > 0) {
            return { ...node, children: filteredChildren };
        }
        
        // If folder matches query, return it with all children
        if (nameMatches) return node;
    }

    return null;
}

</file>

<file path="main.go">
package main

import (
	"embed"
	"log"

	"github.com/wailsapp/wails/v2"
	"github.com/wailsapp/wails/v2/pkg/options"
	"github.com/wailsapp/wails/v2/pkg/options/assetserver"
	"github.com/wailsapp/wails/v2/pkg/options/mac"

	"shotgun/internal/app"
)

//go:embed all:dist
var assets embed.FS

func main() {
	// Crear instancia de la aplicacin
	application := app.New()

	// Configurar y ejecutar Wails
	err := wails.Run(&options.App{
		Title:     "one-shot",
		Width:     1280,
		Height:    800,
		MinWidth:  900,
		MinHeight: 600,
		AssetServer: &assetserver.Options{
			Assets: assets,
		},
		BackgroundColour: &options.RGBA{R: 18, G: 18, B: 18, A: 1},
		OnStartup:        application.Startup,
		OnShutdown:       application.Shutdown,
		Bind: []interface{}{
			application,
		},
		Mac: &mac.Options{
			TitleBar: &mac.TitleBar{
				TitlebarAppearsTransparent: true,
				HideTitle:                  false,
				HideTitleBar:               false,
				FullSizeContent:            true,
				UseToolbar:                 false,
			},
			WebviewIsTransparent: true,
			WindowIsTranslucent:  false,
		},
	})

	if err != nil {
		log.Fatal("Error starting application:", err)
	}
}

</file>

<file path="package.json">
{
  "name": "one-shot",
  "version": "0.1.0",
  "description": "Context builder for LLMs - generate optimized structured prompts from your codebase",
  "author": "Obed Wook",
  "license": "MIT",
  "repository": {
    "type": "git",
    "url": "https://github.com/obeskay/one-shot.git"
  },
  "keywords": [
    "llm",
    "ai",
    "context",
    "prompt-engineering",
    "developer-tools",
    "wails",
    "react"
  ],
  "type": "module",
  "scripts": {
    "dev": "vite",
    "build": "vite build",
    "preview": "vite preview",
    "lint": "eslint . --ext .ts,.tsx",
    "typecheck": "tsc --noEmit"
  },
  "dependencies": {
    "clsx": "^2.1.1",
    "lucide-react": "^0.561.0",
    "react": "^19.2.3",
    "react-dom": "^19.2.3",
    "react-markdown": "^10.1.0",
    "remark-gfm": "^4.0.1",
    "tailwind-merge": "^3.4.0"
  },
  "devDependencies": {
    "@tailwindcss/postcss": "^4.1.18",
    "@tailwindcss/typography": "^0.5.19",
    "@types/node": "^22.14.0",
    "@vitejs/plugin-react": "^5.0.0",
    "autoprefixer": "^10.4.23",
    "typescript": "~5.8.2",
    "vite": "^6.2.0"
  }
}

</file>

<file path="LICENSE">
MIT License

Copyright (c) 2024 Obed Wook

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.

</file>

<file path="index.html">
<!DOCTYPE html>
<html lang="en" class="dark">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>One Shot</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/index.css">
    <script type="importmap">
    {
      "imports": {
        "lucide-react": "https://esm.sh/lucide-react@^0.561.0",
        "react/": "https://esm.sh/react@^19.2.3/",
        "react": "https://esm.sh/react@^19.2.3",
        "react-dom/": "https://esm.sh/react-dom@^19.2.3/",
        "react-dom": "https://esm.sh/react-dom@^19.2.3",
        "tailwind-merge": "https://esm.sh/tailwind-merge@^3.4.0",
        "clsx": "https://esm.sh/clsx@^2.1.1"
      }
    }
    </script>
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/index.tsx"></script>
  </body>
</html>
</file>

<file path="components/ui/Input.tsx">
import React from 'react';
import { cn } from '../../utils/cn';

interface InputProps extends React.InputHTMLAttributes<HTMLInputElement> {
  icon?: React.ReactNode;
}

export const Input: React.FC<InputProps> = ({ className, icon, ...props }) => {
  return (
    <div className="relative group">
      {icon && (
        <div className="absolute inset-y-0 left-0 flex items-center pointer-events-none text-ash group-focus-within:text-ink transition-colors duration-300">
          {icon}
        </div>
      )}
      <input
        className={cn(
          "block w-full bg-transparent border-b border-smoke py-2 text-ink placeholder-ash/50 placeholder:font-light focus:outline-none focus:border-ink transition-all duration-300 font-mono text-sm rounded-none",
          icon ? "pl-8" : "",
          className
        )}
        {...props}
      />
    </div>
  );
};
</file>

<file path="components/features/Prompt/PromptView.tsx">
import React from 'react';
import { useStore } from '../../../contexts/StoreContext';
import { ModelSelector } from './ModelSelector';
import { Button } from '../../ui/Button';

export const PromptView: React.FC = () => {
    const { state } = useStore();
    return (
        <div className="flex flex-col h-full bg-background animate-reveal">
            <div className="p-8 border-b border-border flex justify-between items-center">
                <h2 className="text-2xl font-light lowercase text-primary">LLM Interface</h2>
                <ModelSelector />
            </div>
            
            <div className="flex-1 flex flex-col items-center justify-center text-secondary opacity-50">
                <span className="text-xs font-mono lowercase">Select 'Prompt' in sidebar or use the dock.</span>
            </div>
        </div>
    );
};
</file>

<file path="utils/clipboard.ts">

export async function copyToClipboard(text: string): Promise<boolean> {
  if (!navigator.clipboard) {
    // Fallback for older environments or non-secure contexts
    const textArea = document.createElement("textarea");
    textArea.value = text;
    textArea.style.position = "fixed";
    document.body.appendChild(textArea);
    textArea.focus();
    textArea.select();
    try {
      document.execCommand('copy');
      document.body.removeChild(textArea);
      return true;
    } catch (err) {
      document.body.removeChild(textArea);
      console.error('Fallback: Oops, unable to copy', err);
      return false;
    }
  }

  try {
    await navigator.clipboard.writeText(text);
    return true;
  } catch (err) {
    console.error('Async: Could not copy text: ', err);
    return false;
  }
}

</file>

<file path="utils/cn.ts">
import { type ClassValue, clsx } from "clsx";
import { twMerge } from "tailwind-merge";

export function cn(...inputs: ClassValue[]) {
  return twMerge(clsx(inputs));
}

export function formatBytes(bytes: number, decimals = 1) {
  if (!+bytes) return '0 B';
  const k = 1024;
  const dm = decimals < 0 ? 0 : decimals;
  const sizes = ['B', 'KB', 'MB', 'GB', 'TB'];
  const i = Math.floor(Math.log(bytes) / Math.log(k));
  return `${parseFloat((bytes / Math.pow(k, i)).toFixed(dm))} ${sizes[i]}`;
}

export function formatNumber(n: number): string {
  if (n >= 1000000) return (n / 1000000).toFixed(1) + 'M';
  if (n >= 1000) return (n / 1000).toFixed(1) + 'k';
  return n.toString();
}

export function estimateTokens(bytes: number): number {
  return Math.ceil(bytes / 4);
}
</file>

<file path="App.tsx">
import React from 'react';
import { StoreProvider, useStore } from './contexts/StoreContext';
import { ToastProvider } from './contexts/ToastContext';
import { AppLayout } from './components/Layout/AppLayout';
import { SetupWizard } from './components/features/Setup/SetupWizard';

function AppContent() {
  const { state } = useStore();

  // Mostrar wizard de configuracin si no est configurado
  if (!state.aiConfig.isConfigured) {
    return <SetupWizard />;
  }

  return <AppLayout />;
}

export default function App() {
  return (
    <StoreProvider>
      <ToastProvider>
        <AppContent />
      </ToastProvider>
    </StoreProvider>
  );
}

</file>

<file path="services/llm-config.ts">

import { AIConfig } from '../types';

export const resolveModelBehavior = (config: AIConfig) => {
    // Force specific constraints based on feature requirements
    
    if (config.useThinking) {
        return {
            model: 'gemini-3-pro-preview',
            thinkingConfig: { thinkingBudget: 32768 },
            maxOutputTokens: undefined, // Must not set maxOutputTokens when thinking
        };
    }

    if (config.useGrounding) {
        return {
            model: 'gemini-2.5-flash',
            tools: [{ googleSearch: {} }]
        };
    }

    // Default fallbacks
    return {
        model: config.model
    };
};

</file>

<file path="vite.config.ts">
import path from 'path';
import { defineConfig, loadEnv } from 'vite';
import react from '@vitejs/plugin-react';

export default defineConfig(({ mode }) => {
    const env = loadEnv(mode, '.', '');
    return {
      server: {
        port: 3000,
        host: '0.0.0.0',
      },
      plugins: [react()],
      define: {
        'process.env.API_KEY': JSON.stringify(env.GEMINI_API_KEY),
        'process.env.GEMINI_API_KEY': JSON.stringify(env.GEMINI_API_KEY)
      },
      resolve: {
        alias: {
          '@': path.resolve(__dirname, '.'),
        }
      }
    };
});

</file>

<file path="tsconfig.json">
{
  "compilerOptions": {
    "target": "ES2022",
    "experimentalDecorators": true,
    "useDefineForClassFields": false,
    "module": "ESNext",
    "lib": [
      "ES2022",
      "DOM",
      "DOM.Iterable"
    ],
    "skipLibCheck": true,
    "types": [
      "node"
    ],
    "moduleResolution": "bundler",
    "isolatedModules": true,
    "moduleDetection": "force",
    "allowJs": true,
    "jsx": "react-jsx",
    "paths": {
      "@/*": [
        "./*"
      ]
    },
    "allowImportingTsExtensions": true,
    "noEmit": true
  }
}
</file>

<file path=".gitignore">
# Dependencies
node_modules/

# AI Agent files (local only)
.agent/
.gemini/
.cursor/
.claude/

# Package lock hash
*.md5

# Build outputs
dist/
dist-ssr/
build/

# Wails
wailsjs/

# Go
*.exe
*.exe~
*.dll
*.so
*.dylib
*.test
*.out
vendor/

# Logs
logs/
*.log
npm-debug.log*
yarn-debug.log*
yarn-error.log*
pnpm-debug.log*
lerna-debug.log*

# Environment
*.local
.env
.env.local
.env.*.local

# Editor directories and files
.vscode/*
!.vscode/extensions.json
.idea/
.DS_Store
*.suo
*.ntvs*
*.njsproj
*.sln
*.sw?

# OS
Thumbs.db

</file>

<file path="wails.json">
{
  "$schema": "https://wails.io/schemas/config.v2.json",
  "name": "one-shot",
  "outputfilename": "one-shot",
  "frontend:dir": ".",
  "frontend:install": "npm install",
  "frontend:build": "npm run build",
  "frontend:dev:watcher": "npm run dev",
  "frontend:dev:serverUrl": "auto",
  "wailsjsdir": "./wailsjs",
  "author": {
    "name": "obed.woow",
    "email": ""
  }
}

</file>

<file path="index.tsx">
import React from 'react';
import './index.css';
import ReactDOM from 'react-dom/client';
import App from './App';

const rootElement = document.getElementById('root');
if (!rootElement) {
  throw new Error("Could not find root element to mount to");
}

const root = ReactDOM.createRoot(rootElement);
root.render(
  <React.StrictMode>
    <App />
  </React.StrictMode>
);
</file>

<file path="metadata.json">
{
  "name": "One Shot",
  "description": "The most effective way to copy repo context. Smart summarization using Gemini Flash-Lite.",
  "requestFramePermissions": []
}
</file>

<file path="postcss.config.js">
export default {
    plugins: {
        '@tailwindcss/postcss': {},
        autoprefixer: {},
    },
}

</file>

<file path="package.json.md5">
6c33e27edbfa2d86e43b77c19b094121
</file>

